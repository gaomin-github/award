(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{10:function(e,t,s){"use strict";var r=s(12),u=s.n(r),a=s(4),n=s.n(a);s(2);var i={namespaced:!0,state:()=>({taskId:"",scheduleList:null,curUser:null,curSchedule:null,subId:"",taskHistory:null,editing:!1,pathArr:"",pageMove:""}),getters:{totalValue:e=>{if(!e.scheduleList||0==e.scheduleList.length)return 0;if(1===e.scheduleList.length)return Number(e.scheduleList[0].worth);let t=e.scheduleList.reduce((e,t,s)=>1===s?Number(e.worth)+Number(t.worth):Number(e)+Number(t.worth));return Number(t)},score:e=>{if(!e.scheduleList||0==e.scheduleList.length)return 0;if(1===e.scheduleList.length)return Number(e.scheduleList[0].process);let t=e.scheduleList.reduce((e,t,s)=>1===s?Number(e.process)+Number(t.process):Number(e)+Number(t.process));return Number(t)}},mutations:{initTask(e,t){e.scheduleList=t.schedules,e.taskId=t.taskId},insertSchedule(e,t){e.scheduleList.push(t)},updateSchedule(e,t){let s=e.scheduleList.findIndex(e=>{if(t.subId===e.subId)return!0});s>=0&&e.scheduleList.splice(s,1,t)},deleteSchedule(e,t){let s=e.scheduleList.findIndex(e=>{if(t.subid===e.subid)return!0});e.scheduleList.splice(s,1)},updateCurUser(e,t){e.curUser=t},updateCurSchedule(e,t){e.curSchedule=t},updateSubId(e,t){e.subId=t},updateEditing(e,t){e.editing=t},pushPathArr(e,t){e.pathArr+="/"+t},popPathArr(e){let t=e.pathArr.split("/");t.pop(),e.pathArr=t.join("/")},setPageMove(e,t){e.pageMove=t}}};var l={namespaced:!0,state:()=>({curArea:null}),getters:{getCurArea:e=>e.curArea},mutations:{setCurArea(e,t){e.curArea=t}}};var c={namespaced:!0,state:()=>({userInfo:{userId:"",token:""}}),getters:{getUserInfo:e=>{if(e.userInfo&&e.userInfo.token)return e.userInfo;let t=localStorage.getItem("userInfo");return t?(e.userInfo=JSON.parse(t),JSON.parse(t)):null}},mutations:{updateUserInfo(e,t){console.log(t,"params",25),e.userInfo=t}}};var d=new n.a.Store({modules:{weekly:i,estate:l,rbac:c}});let o=u.a.create({timeout:3e4,headers:{}});o.interceptors.request.use(e=>{let t=d.getters["rbac/getUserInfo"];return e.headers.Authorization=""+(t&&t.token||""),e}),o.interceptors.response.use(e=>{if(401!==e.status)return e;location.reload()});t.a=o},105:function(e,t,s){"use strict";var r=s(36);s.n(r).a},137:function(e,t,s){"use strict";s.r(t);var r=s(4),u=s(10),a={computed:{},data:()=>({users:[]}),computed:{...Object(r.mapState)("weekly",["pathArr"])},mounted(){this._initUsers(),this.pathArr&&this.pathArr.length>0||this.pushPathArr("user")},methods:{...Object(r.mapMutations)("weekly",["updateCurUser","pushPathArr"]),_initUsers(){u.a.get("/task/users").then(e=>{200===e.status&&e.data&&(this.users=e.data)})},selectUser(e){this.updateCurUser(e),this.pushPathArr("task")}}},n=(s(105),s(1)),i=Object(n.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user-wrapper"},[s("header"),e._v(" "),e.users&&e.users.length>0?s("div",{staticClass:"user"},e._l(e.users,(function(t){return s("div",{key:t.userId,staticClass:"user-item",on:{click:function(s){return e.selectUser(t)}}},[e._v(e._s(t.userName))])})),0):e._e()])}),[],!1,null,"1ebcbe25",null);t.default=i.exports},36:function(e,t,s){}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RvcmUvbW9kdWxlcy93ZWVrbHkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0b3JlL21vZHVsZXMvZXN0YXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9zdG9yZS9tb2R1bGVzL3JiYWMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0b3JlL2luZGV4LmpzIiwid2VicGFjazovLy8uL3V0aWxzL3JlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlZWtseS9jb20vdXNlci52dWU/MjAyNyIsIndlYnBhY2s6Ly8vLi9zcmMvd2Vla2x5L2NvbS91c2VyLnZ1ZT8zNWM0Iiwid2VicGFjazovLy8uL3NyYy93ZWVrbHkvY29tL3VzZXIudnVlPzg2YmYiLCJ3ZWJwYWNrOi8vL3NyYy93ZWVrbHkvY29tL3VzZXIudnVlIiwid2VicGFjazovLy8uL3NyYy93ZWVrbHkvY29tL3VzZXIudnVlIl0sIm5hbWVzIjpbIm5hbWVzcGFjZWQiLCJzdGF0ZSIsInRhc2tJZCIsInNjaGVkdWxlTGlzdCIsImN1clVzZXIiLCJjdXJTY2hlZHVsZSIsInN1YklkIiwidGFza0hpc3RvcnkiLCJlZGl0aW5nIiwicGF0aEFyciIsInBhZ2VNb3ZlIiwiZ2V0dGVycyIsInRvdGFsVmFsdWUiLCJsZW5ndGgiLCJOdW1iZXIiLCJ3b3J0aCIsInJlZHVjZSIsImEiLCJiIiwiaW5kZXgiLCJzY29yZSIsInByb2Nlc3MiLCJtdXRhdGlvbnMiLCJpbml0VGFzayIsInRhc2siLCJzY2hlZHVsZXMiLCJpbnNlcnRTY2hlZHVsZSIsIml0ZW0iLCJwdXNoIiwidXBkYXRlU2NoZWR1bGUiLCJmaW5kSW5kZXgiLCJzY2hlZHVsZSIsInNwbGljZSIsImRlbGV0ZVNjaGVkdWxlIiwic3ViaWQiLCJ1cGRhdGVDdXJVc2VyIiwidXNlciIsInVwZGF0ZUN1clNjaGVkdWxlIiwidXBkYXRlU3ViSWQiLCJ1cGRhdGVFZGl0aW5nIiwiYm9vbCIsInB1c2hQYXRoQXJyIiwicGF0aCIsInBvcFBhdGhBcnIiLCJwYXRoU3RyIiwic3BsaXQiLCJwb3AiLCJqb2luIiwic2V0UGFnZU1vdmUiLCJtZXRob2QiLCJjdXJBcmVhIiwiZ2V0Q3VyQXJlYSIsInNldEN1ckFyZWEiLCJ1c2VySW5mbyIsInVzZXJJZCIsInRva2VuIiwiZ2V0VXNlckluZm8iLCJ1c2VySW5mb19zdHIiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwidXBkYXRlVXNlckluZm8iLCJwYXJhbXMiLCJjb25zb2xlIiwibG9nIiwiVnVleCIsIlN0b3JlIiwibW9kdWxlcyIsIndlZWtseSIsImVzdGF0ZSIsInJiYWMiLCJyZXF1ZXN0IiwiYXhpb3MiLCJjcmVhdGUiLCJ0aW1lb3V0IiwiaGVhZGVycyIsImludGVyY2VwdG9ycyIsInVzZSIsImNvbmZpZyIsInN0b3JlIiwicmVzcG9uc2UiLCJzdGF0dXMiLCJsb2NhdGlvbiIsInJlbG9hZCIsImNvbXBvbmVudCIsIl92bSIsInRoaXMiLCJfaCIsIiRjcmVhdGVFbGVtZW50IiwiX2MiLCJfc2VsZiIsInN0YXRpY0NsYXNzIiwiX3YiLCJ1c2VycyIsIl9sIiwia2V5Iiwib24iLCIkZXZlbnQiLCJzZWxlY3RVc2VyIiwiX3MiLCJ1c2VyTmFtZSIsIl9lIl0sIm1hcHBpbmdzIjoib0lBeUZlLE9BQ2JBLFlBQVksRUFDWkMsTUEzRlksS0FBTSxDQUNsQkMsT0FBUSxHQUNSQyxhQUFjLEtBQ2RDLFFBQVMsS0FDVEMsWUFBYSxLQUNiQyxNQUFPLEdBQ1BDLFlBQWEsS0FDYkMsU0FBUyxFQUNUQyxRQUFRLEdBQ1JDLFNBQVMsS0FtRlRDLFFBaEZjLENBQ2RDLFdBQWFYLElBQ1gsSUFBS0EsRUFBTUUsY0FBNkMsR0FBN0JGLEVBQU1FLGFBQWFVLE9BQzVDLE9BQU8sRUFFVCxHQUFrQyxJQUE5QlosRUFBTUUsYUFBYVUsT0FDckIsT0FBT0MsT0FBT2IsRUFBTUUsYUFBYSxHQUFHWSxPQUN0QyxJQUFJSCxFQUFhWCxFQUFNRSxhQUFhYSxPQUFPLENBQUNDLEVBQUdDLEVB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IHN0YXRlID0gKCkgPT4gKHtcclxuICB0YXNrSWQ6IFwiXCIsXHJcbiAgc2NoZWR1bGVMaXN0OiBudWxsLFxyXG4gIGN1clVzZXI6IG51bGwsXHJcbiAgY3VyU2NoZWR1bGU6IG51bGwsXHJcbiAgc3ViSWQ6IFwiXCIsXHJcbiAgdGFza0hpc3Rvcnk6IG51bGwsXHJcbiAgZWRpdGluZzogZmFsc2UsXHJcbiAgcGF0aEFycjonJyxcclxuICBwYWdlTW92ZTonJ1xyXG59KTtcclxuXHJcbmNvbnN0IGdldHRlcnMgPSB7XHJcbiAgdG90YWxWYWx1ZTogKHN0YXRlKSA9PiB7XHJcbiAgICBpZiAoIXN0YXRlLnNjaGVkdWxlTGlzdCB8fCBzdGF0ZS5zY2hlZHVsZUxpc3QubGVuZ3RoID09IDApIHtcclxuICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICBpZiAoc3RhdGUuc2NoZWR1bGVMaXN0Lmxlbmd0aCA9PT0gMSlcclxuICAgICAgcmV0dXJuIE51bWJlcihzdGF0ZS5zY2hlZHVsZUxpc3RbMF0ud29ydGgpO1xyXG4gICAgbGV0IHRvdGFsVmFsdWUgPSBzdGF0ZS5zY2hlZHVsZUxpc3QucmVkdWNlKChhLCBiLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAoaW5kZXggPT09IDEpIHJldHVybiBOdW1iZXIoYS53b3J0aCkgKyBOdW1iZXIoYi53b3J0aCk7XHJcbiAgICAgIHJldHVybiBOdW1iZXIoYSkgKyBOdW1iZXIoYi53b3J0aCk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBOdW1iZXIodG90YWxWYWx1ZSk7XHJcbiAgfSxcclxuICBzY29yZTogKHN0YXRlKSA9PiB7XHJcbiAgICBpZiAoIXN0YXRlLnNjaGVkdWxlTGlzdCB8fCBzdGF0ZS5zY2hlZHVsZUxpc3QubGVuZ3RoID09IDApIHtcclxuICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICBpZiAoc3RhdGUuc2NoZWR1bGVMaXN0Lmxlbmd0aCA9PT0gMSlcclxuICAgICAgcmV0dXJuIE51bWJlcihzdGF0ZS5zY2hlZHVsZUxpc3RbMF0ucHJvY2Vzcyk7XHJcbiAgICBsZXQgc2NvcmUgPSBzdGF0ZS5zY2hlZHVsZUxpc3QucmVkdWNlKChhLCBiLCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAoaW5kZXggPT09IDEpIHJldHVybiBOdW1iZXIoYS5wcm9jZXNzKSArIE51bWJlcihiLnByb2Nlc3MpO1xyXG4gICAgICByZXR1cm4gTnVtYmVyKGEpICsgTnVtYmVyKGIucHJvY2Vzcyk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBOdW1iZXIoc2NvcmUpO1xyXG4gIH0sXHJcbn07XHJcblxyXG5jb25zdCBtdXRhdGlvbnMgPSB7XHJcbiAgaW5pdFRhc2soc3RhdGUsIHRhc2spIHtcclxuICAgIHN0YXRlLnNjaGVkdWxlTGlzdCA9IHRhc2suc2NoZWR1bGVzO1xyXG4gICAgc3RhdGUudGFza0lkID0gdGFzay50YXNrSWQ7XHJcbiAgfSxcclxuICBpbnNlcnRTY2hlZHVsZShzdGF0ZSwgaXRlbSkge1xyXG4gICAgc3RhdGUuc2NoZWR1bGVMaXN0LnB1c2goaXRlbSk7XHJcbiAgfSxcclxuICB1cGRhdGVTY2hlZHVsZShzdGF0ZSwgaXRlbSkge1xyXG4gICAgbGV0IGluZGV4ID0gc3RhdGUuc2NoZWR1bGVMaXN0LmZpbmRJbmRleCgoc2NoZWR1bGUpID0+IHtcclxuICAgICAgaWYgKGl0ZW0uc3ViSWQgPT09IHNjaGVkdWxlLnN1YklkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgaWYgKGluZGV4ID49IDApIHtcclxuICAgICAgc3RhdGUuc2NoZWR1bGVMaXN0LnNwbGljZShpbmRleCwgMSwgaXRlbSk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBkZWxldGVTY2hlZHVsZShzdGF0ZSwgaXRlbSkge1xyXG4gICAgbGV0IGluZGV4ID0gc3RhdGUuc2NoZWR1bGVMaXN0LmZpbmRJbmRleCgoc2NoZWR1bGUpID0+IHtcclxuICAgICAgaWYgKGl0ZW0uc3ViaWQgPT09IHNjaGVkdWxlLnN1YmlkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgc3RhdGUuc2NoZWR1bGVMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgfSxcclxuICB1cGRhdGVDdXJVc2VyKHN0YXRlLCB1c2VyKSB7XHJcbiAgICBzdGF0ZS5jdXJVc2VyID0gdXNlcjtcclxuICB9LFxyXG4gIHVwZGF0ZUN1clNjaGVkdWxlKHN0YXRlLCBjdXJTY2hlZHVsZSkge1xyXG4gICAgc3RhdGUuY3VyU2NoZWR1bGUgPSBjdXJTY2hlZHVsZTtcclxuICB9LFxyXG4gIHVwZGF0ZVN1YklkKHN0YXRlLCBzdWJJZCkge1xyXG4gICAgc3RhdGUuc3ViSWQgPSBzdWJJZDtcclxuICB9LFxyXG4gIHVwZGF0ZUVkaXRpbmcoc3RhdGUsIGJvb2wpIHtcclxuICAgIHN0YXRlLmVkaXRpbmcgPSBib29sO1xyXG4gIH0sXHJcbiAgcHVzaFBhdGhBcnIoc3RhdGUscGF0aCl7XHJcbiAgICBzdGF0ZS5wYXRoQXJyKz1gLyR7cGF0aH1gXHJcbiAgfSxcclxuICBwb3BQYXRoQXJyKHN0YXRlKXtcclxuICAgICAgbGV0IHBhdGhTdHI9c3RhdGUucGF0aEFyci5zcGxpdCgnLycpO1xyXG4gICAgICBwYXRoU3RyLnBvcCgpXHJcbiAgICAgIHN0YXRlLnBhdGhBcnI9cGF0aFN0ci5qb2luKCcvJylcclxuICB9LFxyXG4gIHNldFBhZ2VNb3ZlKHN0YXRlLG1ldGhvZCl7XHJcbiAgICBzdGF0ZS5wYWdlTW92ZT1tZXRob2Q7XHJcbiAgfVxyXG59O1xyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgbmFtZXNwYWNlZDogdHJ1ZSxcclxuICBzdGF0ZSxcclxuICBnZXR0ZXJzLFxyXG4gIG11dGF0aW9ucyxcclxufTtcclxuIiwiY29uc3Qgc3RhdGUgPSAoKSA9PiAoe1xyXG4gIGN1ckFyZWE6IG51bGwsXHJcbn0pO1xyXG5cclxuY29uc3QgZ2V0dGVycyA9IHtcclxuICAgIGdldEN1ckFyZWE6KHN0YXRlKT0+e1xyXG4gICAgICAgIHJldHVybiBzdGF0ZS5jdXJBcmVhO1xyXG4gICAgfVxyXG59O1xyXG5cclxuY29uc3QgbXV0YXRpb25zID0ge1xyXG4gIHNldEN1ckFyZWEoc3RhdGUsIGl0ZW0pIHtcclxuICAgIHN0YXRlLmN1ckFyZWEgPSBpdGVtO1xyXG4gIH0sXHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgbmFtZXNwYWNlZDogdHJ1ZSxcclxuICBzdGF0ZSxcclxuICBnZXR0ZXJzLFxyXG4gIG11dGF0aW9ucyxcclxufTtcclxuIiwiY29uc3Qgc3RhdGUgPSAoKSA9PiAoe1xyXG4gIHVzZXJJbmZvOiB7XHJcbiAgICB1c2VySWQ6ICcnLFxyXG4gICAgdG9rZW46ICcnXHJcbiAgfVxyXG59KVxyXG5cclxuY29uc3QgZ2V0dGVycyA9IHtcclxuICBnZXRVc2VySW5mbzogKHN0YXRlKSA9PiB7XHJcbiAgICBpZiAoc3RhdGUudXNlckluZm8gJiYgc3RhdGUudXNlckluZm8udG9rZW4pIHtcclxuICAgICAgcmV0dXJuIHN0YXRlLnVzZXJJbmZvO1xyXG4gICAgfVxyXG4gICAgLy8g6KKr5by65Yi25Yi35paw77yM5LuOc3RvcmFnZeS4reWPllxyXG4gICAgbGV0IHVzZXJJbmZvX3N0ciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySW5mbycpXHJcbiAgICBpZiAodXNlckluZm9fc3RyKSB7XHJcbiAgICAgIHN0YXRlLnVzZXJJbmZvID0gSlNPTi5wYXJzZSh1c2VySW5mb19zdHIpXHJcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKHVzZXJJbmZvX3N0cilcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgbXV0YXRpb25zID0ge1xyXG4gIHVwZGF0ZVVzZXJJbmZvKHN0YXRlLCBwYXJhbXMpIHtcclxuICAgIGNvbnNvbGUubG9nKHBhcmFtcywgJ3BhcmFtcycsIDI1KVxyXG4gICAgc3RhdGUudXNlckluZm8gPSBwYXJhbXNcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBuYW1lc3BhY2VkOiB0cnVlLFxyXG4gIHN0YXRlLFxyXG4gIGdldHRlcnMsXHJcbiAgbXV0YXRpb25zXHJcbn0iLCJpbXBvcnQgVnVleCBmcm9tIFwidnVleFwiO1xyXG5pbXBvcnQgVnVlIGZyb20gXCJ2dWVcIjtcclxuaW1wb3J0IHdlZWtseSBmcm9tIFwiLi9tb2R1bGVzL3dlZWtseVwiO1xyXG5pbXBvcnQgZXN0YXRlIGZyb20gXCIuL21vZHVsZXMvZXN0YXRlXCI7XHJcbmltcG9ydCByYmFjIGZyb20gXCIuL21vZHVsZXMvcmJhY1wiO1xyXG5cclxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XHJcbiAgICBWdWUudXNlKFZ1ZXgpO1xyXG59XHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHtcclxuICAgIG1vZHVsZXM6IHtcclxuICAgICAgICB3ZWVrbHksXHJcbiAgICAgICAgZXN0YXRlLFxyXG4gICAgICAgIHJiYWNcclxuICAgIH0sXHJcbn0pO1xyXG4iLCJpbXBvcnQgYXhpb3MgZnJvbSBcImF4aW9zXCI7XHJcbmltcG9ydCBzdG9yZSBmcm9tICcuLi9zcmMvc3RvcmUvaW5kZXguanMnO1xyXG5sZXQgcmVxdWVzdCA9IGF4aW9zLmNyZWF0ZSh7XHJcbiAgdGltZW91dDogMTAwMCAqIDMwLFxyXG4gIGhlYWRlcnM6IHt9LFxyXG59KTtcclxucmVxdWVzdC5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoY29uZmlnID0+IHtcclxuICBsZXQgdXNlckluZm8gPSBzdG9yZS5nZXR0ZXJzWydyYmFjL2dldFVzZXJJbmZvJ107XHJcblxyXG4gIGNvbmZpZy5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSBgJHsodXNlckluZm8gJiYgdXNlckluZm8udG9rZW4pIHx8ICcnfWBcclxuICByZXR1cm4gY29uZmlnO1xyXG59KVxyXG5cclxucmVxdWVzdC5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKHJlc3BvbnNlID0+IHtcclxuICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHtcclxuICAgIC8vIOeZu+W9leWkseaViFxyXG4gICAgLy8g5riF55CGdG9rZW5cclxuICAgIC8vIOi3r+eUsemHjeWumuWQkVxyXG4gICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG4gIHJldHVybiByZXNwb25zZTtcclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJlcXVlc3Q7XHJcbiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzPz9yZWYtLTQtMCEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi91c2VyLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTFlYmNiZTI1Jmxhbmc9c2NzcyZzY29wZWQ9dHJ1ZSZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanM/P3JlZi0tNC0wIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL3VzZXIudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9MWViY2JlMjUmbGFuZz1zY3NzJnNjb3BlZD10cnVlJlwiIiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwidXNlci13cmFwcGVyXCJ9LFtfYygnaGVhZGVyJyksX3ZtLl92KFwiIFwiKSwoX3ZtLnVzZXJzICYmIF92bS51c2Vycy5sZW5ndGggPiAwKT9fYygnZGl2Jyx7c3RhdGljQ2xhc3M6XCJ1c2VyXCJ9LF92bS5fbCgoX3ZtLnVzZXJzKSxmdW5jdGlvbih1c2VyKXtyZXR1cm4gX2MoJ2Rpdicse2tleTp1c2VyLnVzZXJJZCxzdGF0aWNDbGFzczpcInVzZXItaXRlbVwiLG9uOntcImNsaWNrXCI6ZnVuY3Rpb24oJGV2ZW50KXtyZXR1cm4gX3ZtLnNlbGVjdFVzZXIodXNlcil9fX0sW192bS5fdihfdm0uX3ModXNlci51c2VyTmFtZSkpXSl9KSwwKTpfdm0uX2UoKV0pfVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vdXNlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi91c2VyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsIjx0ZW1wbGF0ZT5cclxuICAgIDxkaXYgY2xhc3M9XCJ1c2VyLXdyYXBwZXJcIj5cclxuICAgICAgICA8aGVhZGVyPjwvaGVhZGVyPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ1c2VyXCIgdi1pZj1cInVzZXJzICYmIHVzZXJzLmxlbmd0aCA+IDBcIj5cclxuICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJ1c2VyLWl0ZW1cIlxyXG4gICAgICAgICAgICAgICAgdi1mb3I9XCJ1c2VyIGluIHVzZXJzXCJcclxuICAgICAgICAgICAgICAgIDprZXk9XCJ1c2VyLnVzZXJJZFwiXHJcbiAgICAgICAgICAgICAgICBAY2xpY2s9XCJzZWxlY3RVc2VyKHVzZXIpXCJcclxuICAgICAgICAgICAgPnt7IHVzZXIudXNlck5hbWUgfX08L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG48L3RlbXBsYXRlPlxyXG48c2NyaXB0PlxyXG5pbXBvcnQgeyBtYXBTdGF0ZSwgbWFwR2V0dGVycywgbWFwTXV0YXRpb25zIH0gZnJvbSBcInZ1ZXhcIjtcclxuaW1wb3J0IHJlcXVlc3QgZnJvbSBcInJlcXVlc3RcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIGNvbXB1dGVkOiB7fSxcclxuICAgIGRhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdXNlcnM6IFtdXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBjb21wdXRlZDoge1xyXG4gICAgICAgIC4uLm1hcFN0YXRlKFwid2Vla2x5XCIsIFtcInBhdGhBcnJcIl0pXHJcbiAgICB9LFxyXG4gICAgbW91bnRlZCgpIHtcclxuICAgICAgICB0aGlzLl9pbml0VXNlcnMoKTtcclxuICAgICAgICBpZiAoISh0aGlzLnBhdGhBcnIgJiYgdGhpcy5wYXRoQXJyLmxlbmd0aCA+IDApKSB7XHJcbiAgICAgICAgICAgIHRoaXMucHVzaFBhdGhBcnIoXCJ1c2VyXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHdpbmRvdy5sb2NhdGlvbi5ocmVmLCAzNCk7XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKFwib25saW5lXCIsIDM1KTtcclxuICAgICAgICAvLyB9KTtcclxuICAgICAgICAvLyB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIiwgKCkgPT4ge1xyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZyh3aW5kb3cubG9jYXRpb24uaHJlZiwgMzgpO1xyXG5cclxuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coXCJvZmZsaW5lXCIsIDQwKTtcclxuICAgICAgICAvLyB9KTtcclxuICAgIH0sXHJcbiAgICBtZXRob2RzOiB7XHJcbiAgICAgICAgLi4ubWFwTXV0YXRpb25zKFwid2Vla2x5XCIsIFtcInVwZGF0ZUN1clVzZXJcIiwgXCJwdXNoUGF0aEFyclwiXSksXHJcbiAgICAgICAgX2luaXRVc2VycygpIHtcclxuICAgICAgICAgICAgcmVxdWVzdC5nZXQoXCIvdGFzay91c2Vyc1wiKS50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwICYmIHJlcy5kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VycyA9IHJlcy5kYXRhO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNlbGVjdFVzZXIodXNlcikge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUN1clVzZXIodXNlcik7XHJcbiAgICAgICAgICAgIHRoaXMucHVzaFBhdGhBcnIoXCJ0YXNrXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuPC9zY3JpcHQ+XHJcbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD5cclxuLnVzZXItd3JhcHBlciB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIHRvcDogMHB4O1xyXG4gICAgYm90dG9tOiAwcHg7XHJcbn1cclxuLnVzZXIge1xyXG4gICAgJi1pdGVtIHtcclxuICAgICAgICBtYXJnaW46IDEwcHggMHB4O1xyXG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICBsaW5lLWhlaWdodDogMzZweDtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI0NiwgMjQ1LCAyMjAsIDEpO1xyXG4gICAgfVxyXG59XHJcbjwvc3R5bGU+IiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi91c2VyLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0xZWJjYmUyNSZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi91c2VyLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vdXNlci52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vdXNlci52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD0xZWJjYmUyNSZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjFlYmNiZTI1XCIsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==