(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{101:function(t,e,a){"use strict";var i=a(33);a.n(i).a},134:function(t,e,a){"use strict";a.r(e);var i=a(4),n=a(10);const o="108.8371912900,34.2032353700",r=[610103,610104,610113];var s={data:()=>({gardens:[],driveRoutes:[],mapObj:null,pathObj:null}),computed:{...Object(i.mapGetters)("estate",["getCurArea"])},async mounted(){await this._initMapScript(),await this._initMapUi(),await this._initGardens(),this._initDriveRoute(),setTimeout(async()=>{},1e3)},methods:{async _initMapScript(){return new Promise((t,e)=>{window.onLoad=async()=>(this._initMapContainer(),t());let a=document.createElement("script");a.charset="utf-8",a.src="https://webapi.amap.com/maps?v=1.4.15&key=17569efbd54a284b8bd0ce338ae71616&callback=onLoad",document.head.appendChild(a)})},_initMapContainer(){let t=this._initLocation(o),e=this._initLocation(this.getCurArea.location);this.mapObj=new AMap.Map("map-container",{zoom:11,center:[(Number(t[0])+Number(e[0]))/2,(Number(t[1])+Number(e[1]))/2],mapStyle:"amap://styles/light"})},async _initMapUi(){return new Promise((t,e)=>{let a=document.createElement("script");a.charset="utf-8",a.src="https://webapi.amap.com/ui/1.0/main.js?v=1.0.11",document.head.appendChild(a);let i=this;a.onload=()=>{AMapUI.loadUI(["overlay/SimpleMarker"],(function(e){return new e({iconTheme:"default",iconStyle:"orange",map:i.mapObj,position:i._initLocation(o),label:{content:"高新软件园",offset:new AMap.Pixel(-10,-20)}}),new e({iconTheme:"default",iconStyle:"orange",map:i.mapObj,position:i._initLocation(i.getCurArea.location),label:{content:i.getCurArea.label,offset:new AMap.Pixel(-10,-20)}}),t()}))}})},_initGardens(){n.a.get("/xian/aroundGarden?originLocation="+this.getCurArea.location).then(t=>{if(200===t.status&&(this.gardens=t.data,this.gardens&&this.gardens.length>0)){let t=this;AMapUI.loadUI(["overlay/SvgMarker"],(function(e){t.gardens.map((a,i)=>{var n=new e.Shape.Circle({height:16,strokeWidth:1,strokeColor:"#fff",fillColor:"#177261"});n.getCenter();new e(n,{map:t.mapObj,position:t._initLocation(a.location),containerClassNames:"shape-Circle",iconLabel:{innerHTML:i+1,style:{color:"#fff",fontSize:"12px"}}})})}))}})},_initPathLns(){let t=this;AMapUI&&AMapUI.load(["ui/misc/PathSimplifier","lib/$"],(function(e,a){let i=new e({zIndex:100,map:t.mapObj,getPath:(t,e)=>t.path,renderOptions:{renderAllPointsIfNumberBelow:100}});i.setData([{name:"路线0",path:[...t.driveRoutes]}]),i.createPathNavigator(0,{loop:!0,speed:5e3}).start()}))},_initDistrict(){let t=this;AMapUI.load(["ui/geo/DistrictExplorer","lib/$"],(function(e){let a=new e({map:t.mapObj});var i=["#3366cc","#dc3912","#ff9900","#aa9900","#ff1901","#aa0101","red","green"];r.map((t,e)=>{a.loadAreaNode(t,(function(t,n){a.renderSubFeatures(n,(function(t,e){return{cursor:"default",bubble:!0,strokeColor:"blue",strokeOpacity:1,strokeWeight:1,fillColor:"red",fillOpacity:.35}})),a.renderParentFeature(n,{cursor:"default",bubble:!0,strokeColor:null,strokeOpacity:1,strokeWeight:1,fillColor:i[e],fillOpacity:.35})}))})}))},_initDriveRoute(){n.a.get(`/xian/drivingRoute?originLocation=${this.getCurArea.location}&destination=${o}`).then(t=>{200===t.status&&t.data.steps&&t.data.steps.length>0&&(t.data.steps.forEach(t=>{if(t.polyline){this._formatPolyline(t.polyline);this.driveRoutes.push(...this._formatPolyline(t.polyline))}}),this._initPathLns())})},_initLocation:t=>t.split(","),_formatPolyline(t){return t.split(";").map(t=>{let e=this._initLocation(t);return[Number(e[0]),Number(e[1])]})}}},l=(a(101),a(1)),c=Object(l.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"map-wrapper"},[t.gardens&&t.gardens.length>0?a("section",{staticClass:"garden"},t._l(t.gardens,(function(e,i){return a("section",{key:i,staticClass:"garden-item"},[a("section",{staticClass:"garden-item-icon"},[t._v(t._s(i+1))]),t._v(" "),a("section",{staticClass:"garden-item-label"},[t._v("\n        "+t._s(e.name)+",距离"+t._s(e.distance)+"米\n      ")])])})),0):t._e(),t._v(" "),a("section",{staticClass:"map-container",attrs:{id:"map-container"}})])}),[],!1,null,"875214a8",null);e.default=c.exports},33:function(t,e,a){}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMveGlhbi1lc3RhdGUvYXJlYS1tYXAudnVlPzViNzkiLCJ3ZWJwYWNrOi8vLy4vc3JjL3hpYW4tZXN0YXRlL2FyZWEtbWFwLnZ1ZT8zYTJlIiwid2VicGFjazovLy9zcmMveGlhbi1lc3RhdGUvYXJlYS1tYXAudnVlIiwid2VicGFjazovLy8uL3NyYy94aWFuLWVzdGF0ZS9hcmVhLW1hcC52dWU/ZjUxZCIsIndlYnBhY2s6Ly8vLi9zcmMveGlhbi1lc3RhdGUvYXJlYS1tYXAudnVlIl0sIm5hbWVzIjpbImd4X2xvY2F0aW9uIiwiZGlzcGxheVN0cmljdENvZGUiLCJkYXRhIiwiZ2FyZGVucyIsImRyaXZlUm91dGVzIiwibWFwT2JqIiwicGF0aE9iaiIsImNvbXB1dGVkIiwidGhpcyIsIl9pbml0TWFwU2NyaXB0IiwiX2luaXRNYXBVaSIsIl9pbml0R2FyZGVucyIsIl9pbml0RHJpdmVSb3V0ZSIsInNldFRpbWVvdXQiLCJhc3luYyIsIm1ldGhvZHMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIndpbmRvdyIsIm9uTG9hZCIsIl9pbml0TWFwQ29udGFpbmVyIiwibWFwU2NyaXB0RWwiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjaGFyc2V0Iiwic3JjIiwiaGVhZCIsImFwcGVuZENoaWxkIiwiZ3hfbG9jYXRpb25fbnVtIiwiX2luaXRMb2NhdGlvbiIsImRlc19sb2NhdGlvbl9udW0iLCJnZXRDdXJBcmVhIiwibG9jYXRpb24iLCJBTWFwIiwiTWFwIiwiem9vbSIsImNlbnRlciIsIm1hcFN0eWxlIiwidWlTY3JpcHRFbCIsInRoYXQiLCJvbmxvYWQiLCJBTWFwVUkiLCJsb2FkVUkiLCJTaW1wbGVNYXJrZXIiLCJpY29uVGhlbWUiLCJpY29uU3R5bGUiLCJtYXAiLCJwb3NpdGlvbiIsImxhYmVsIiwiY29udGVudCIsIm9mZnNldCIsIlBpeGVsIiwicmVxdWVzdCIsImxvYWQiLCJQYXRoU2ltcGxpZmllciIsInpJbmRleCIsImdldFBhdGgiLCJwYXRoRGF0YSIsInBhdGhJbmRleCIsInBhdGgiLCJyZW5kZXJPcHRpb25zIiwicmVuZGVyQWxsUG9pbnRzSWZOdW1iZXJCZWxvdyIsInNldERhdGEiLCJjcmVhdGVQYXRoTmF2aWdhdG9yIiwibG9vcCIsInNwZWVkIiwic3RhcnQiLCJkaXN0cmljdEV4cGxvcmVyIiwiRGlzdHJpY3RFeHBsb3JlciIsImNvbG9ycyIsImNvZGUiLCJpbmRleCIsImxvYWRBcmVhTm9kZSIsInJlbmRlclN1YkZlYXR1cmVzIiwiYXJlYU5vZGUiLCJjdXJzb3IiLCJidWJibGUiLCJzdHJva2VDb2xvciIsInN0cm9rZU9wYWNpdHkiLCJzdHJva2VXZWlnaHQiLCJmaWxsQ29sb3IiLCJmaWxsT3BhY2l0eSIsInJlbmRlclBhcmVudEZlYXR1cmUiLCJsb2NhdGlvblN0ciIsInNwbGl0IiwicG9seWxpbmUiLCJsb2NhdGlvbkl0ZW0iLCJOdW1iZXIiLCJjb21wb25lbnQiLCJfdm0iLCJfaCIsIiRjcmVhdGVFbGVtZW50IiwiX2MiLCJfc2VsZiIsInN0YXRpY0NsYXNzIiwibGVuZ3RoIiwiX2wiLCJnYXJkZW4iLCJrZXkiLCJfdiIsIl9zIiwibmFtZSIsImRpc3RhbmNlIiwiX2UiLCJhdHRycyJdLCJtYXBwaW5ncyI6IjJGQUFBLG1CQUFvYixHLHdDQ0FwYixJLGVDZ0JBLE1BQ01BLEVBQWMsK0JBQ2RDLEVBQW9CLENBQzFCLE9BQ0EsT0FDQSxRQUtBLElDMUJ3TCxFRDBCeEwsQ0FDRUMsS0FBSSxLQUNLLENBQ0xDLFFBQVMsR0FDVEMsWUFBYSxHQUNiQyxPQUFRLEtBQ1JDLFFBQVMsT0FHYkMsU0FBVSxJQUNaLCtDQUVFLHNCQUNRQyxLQUFLQyx1QkFDTEQsS0FBS0UsbUJBSUxGLEtBQUtHLGVBR1hILEtBQUtJLGtCQUNMQyxXQUFXQyxZQUFnQixNQUU3QkMsUUFBUyxDQUNQLHVCQUNFLE9BQU8sSUFBSUMsUUFBUSxDQUFDQyxFQUFTQyxLQUMzQkMsT0FBT0MsT0FBU04sVUFDZE4sS0FBS2Esb0JB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IiwiZmlsZSI6ImF3YXJkX2Rpc3QvanMvMjguZWZjNWZmZGM1YWNlOTY1NmVjYTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcz8/cmVmLS00LTAhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vYXJlYS1tYXAudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9ODc1MjE0YTgmbGFuZz1zY3NzJnNjb3BlZD10cnVlJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcz8/cmVmLS00LTAhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vYXJlYS1tYXAudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9ODc1MjE0YTgmbGFuZz1zY3NzJnNjb3BlZD10cnVlJlwiIiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwibWFwLXdyYXBwZXJcIn0sWyhfdm0uZ2FyZGVucyAmJiBfdm0uZ2FyZGVucy5sZW5ndGggPiAwKT9fYygnc2VjdGlvbicse3N0YXRpY0NsYXNzOlwiZ2FyZGVuXCJ9LF92bS5fbCgoX3ZtLmdhcmRlbnMpLGZ1bmN0aW9uKGdhcmRlbixrZXkpe3JldHVybiBfYygnc2VjdGlvbicse2tleTprZXksc3RhdGljQ2xhc3M6XCJnYXJkZW4taXRlbVwifSxbX2MoJ3NlY3Rpb24nLHtzdGF0aWNDbGFzczpcImdhcmRlbi1pdGVtLWljb25cIn0sW192bS5fdihfdm0uX3Moa2V5ICsgMSkpXSksX3ZtLl92KFwiIFwiKSxfYygnc2VjdGlvbicse3N0YXRpY0NsYXNzOlwiZ2FyZGVuLWl0ZW0tbGFiZWxcIn0sW192bS5fdihcIlxcbiAgICAgICAgXCIrX3ZtLl9zKGdhcmRlbi5uYW1lKStcIizot53nprtcIitfdm0uX3MoZ2FyZGVuLmRpc3RhbmNlKStcIuexs1xcbiAgICAgIFwiKV0pXSl9KSwwKTpfdm0uX2UoKSxfdm0uX3YoXCIgXCIpLF9jKCdzZWN0aW9uJyx7c3RhdGljQ2xhc3M6XCJtYXAtY29udGFpbmVyXCIsYXR0cnM6e1wiaWRcIjpcIm1hcC1jb250YWluZXJcIn19KV0pfVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCI8dGVtcGxhdGU+XHJcbiAgPGRpdiBjbGFzcz1cIm1hcC13cmFwcGVyXCI+XHJcbiAgICA8c2VjdGlvbiBjbGFzcz1cImdhcmRlblwiIHYtaWY9XCJnYXJkZW5zICYmIGdhcmRlbnMubGVuZ3RoID4gMFwiPlxyXG4gICAgICA8c2VjdGlvbiB2LWZvcj1cIihnYXJkZW4sIGtleSkgaW4gZ2FyZGVuc1wiIDprZXk9XCJrZXlcIiBjbGFzcz1cImdhcmRlbi1pdGVtXCI+XHJcbiAgICAgICAgPHNlY3Rpb24gY2xhc3M9XCJnYXJkZW4taXRlbS1pY29uXCI+e3sga2V5ICsgMSB9fTwvc2VjdGlvbj5cclxuICAgICAgICA8c2VjdGlvbiBjbGFzcz1cImdhcmRlbi1pdGVtLWxhYmVsXCI+XHJcbiAgICAgICAgICB7eyBnYXJkZW4ubmFtZSB9fSzot53nprt7eyBnYXJkZW4uZGlzdGFuY2UgfX3nsbNcclxuICAgICAgICA8L3NlY3Rpb24+XHJcbiAgICAgIDwvc2VjdGlvbj5cclxuICAgIDwvc2VjdGlvbj5cclxuICAgIDxzZWN0aW9uIGNsYXNzPVwibWFwLWNvbnRhaW5lclwiIGlkPVwibWFwLWNvbnRhaW5lclwiPjwvc2VjdGlvbj5cclxuICA8L2Rpdj5cclxuPC90ZW1wbGF0ZT5cclxuPHNjcmlwdD5cclxuaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gXCJ2dWV4XCI7XHJcbmltcG9ydCByZXF1ZXN0IGZyb20gXCJyZXF1ZXN0XCI7XHJcbmNvbnN0IEdES0VZID0gXCIxNzU2OWVmYmQ1NGEyODRiOGJkMGNlMzM4YWU3MTYxNlwiO1xyXG5jb25zdCBneF9sb2NhdGlvbiA9IFwiMTA4LjgzNzE5MTI5MDAsMzQuMjAzMjM1MzcwMFwiOyAvL+mrmOaWsOi9r+S7tuWbree7j+e6rOW6plxyXG5jb25zdCBkaXNwbGF5U3RyaWN0Q29kZSA9IFtcclxuICA2MTAxMDMsXHJcbiAgNjEwMTA0LFxyXG4gIDYxMDExMyxcclxuICAvLyAgIDYxMDExNixcclxuICAvLyA2MTAxMjRcclxuXTsgLy/nopHmnpfljLrvvIzojrLmuZbljLrvvIzpm4HloZTljLrvvIzplb/lronljLrvvIzlkajoh7Pljr9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBkYXRhKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZ2FyZGVuczogW10sXHJcbiAgICAgIGRyaXZlUm91dGVzOiBbXSxcclxuICAgICAgbWFwT2JqOiBudWxsLFxyXG4gICAgICBwYXRoT2JqOiBudWxsLFxyXG4gICAgfTtcclxuICB9LFxyXG4gIGNvbXB1dGVkOiB7XHJcbiAgICAuLi5tYXBHZXR0ZXJzKFwiZXN0YXRlXCIsIFtcImdldEN1ckFyZWFcIl0pLFxyXG4gIH0sXHJcbiAgYXN5bmMgbW91bnRlZCgpIHtcclxuICAgIGF3YWl0IHRoaXMuX2luaXRNYXBTY3JpcHQoKTtcclxuICAgIGF3YWl0IHRoaXMuX2luaXRNYXBVaSgpO1xyXG5cclxuICAgIC8vIHRoaXMuX2luaXREaXN0cmljdCgpO1xyXG5cclxuICAgIGF3YWl0IHRoaXMuX2luaXRHYXJkZW5zKCk7XHJcbiAgICAvLyB0aGlzLl9pbml0UGF0aExucygpO1xyXG5cclxuICAgIHRoaXMuX2luaXREcml2ZVJvdXRlKCk7XHJcbiAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHt9LCAxMDAwKTtcclxuICB9LFxyXG4gIG1ldGhvZHM6IHtcclxuICAgIGFzeW5jIF9pbml0TWFwU2NyaXB0KCkge1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIHdpbmRvdy5vbkxvYWQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLl9pbml0TWFwQ29udGFpbmVyKCk7XHJcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGV0IG1hcFNjcmlwdEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcclxuICAgICAgICBtYXBTY3JpcHRFbC5jaGFyc2V0ID0gXCJ1dGYtOFwiO1xyXG4gICAgICAgIG1hcFNjcmlwdEVsLnNyYyA9IGBodHRwczovL3dlYmFwaS5hbWFwLmNvbS9tYXBzP3Y9MS40LjE1JmtleT0ke0dES0VZfSZjYWxsYmFjaz1vbkxvYWRgO1xyXG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobWFwU2NyaXB0RWwpO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBfaW5pdE1hcENvbnRhaW5lcigpIHtcclxuICAgICAgbGV0IGd4X2xvY2F0aW9uX251bSA9IHRoaXMuX2luaXRMb2NhdGlvbihneF9sb2NhdGlvbik7XHJcbiAgICAgIGxldCBkZXNfbG9jYXRpb25fbnVtID0gdGhpcy5faW5pdExvY2F0aW9uKHRoaXMuZ2V0Q3VyQXJlYS5sb2NhdGlvbik7XHJcbiAgICAgIHRoaXMubWFwT2JqID0gbmV3IEFNYXAuTWFwKFwibWFwLWNvbnRhaW5lclwiLCB7XHJcbiAgICAgICAgem9vbTogMTEsXHJcbiAgICAgICAgY2VudGVyOiBbXHJcbiAgICAgICAgICAoTnVtYmVyKGd4X2xvY2F0aW9uX251bVswXSkgKyBOdW1iZXIoZGVzX2xvY2F0aW9uX251bVswXSkpIC8gMixcclxuICAgICAgICAgIChOdW1iZXIoZ3hfbG9jYXRpb25fbnVtWzFdKSArIE51bWJlcihkZXNfbG9jYXRpb25fbnVtWzFdKSkgLyAyLFxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgbWFwU3R5bGU6IFwiYW1hcDovL3N0eWxlcy9saWdodFwiLCAvL+iuvue9ruWcsOWbvueahOaYvuekuuagt+W8j1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgYXN5bmMgX2luaXRNYXBVaSgpIHtcclxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAvLyBnZCBzY3JpcHQgdWnlvJXlhaVcclxuICAgICAgICBsZXQgdWlTY3JpcHRFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XHJcbiAgICAgICAgdWlTY3JpcHRFbC5jaGFyc2V0ID0gXCJ1dGYtOFwiO1xyXG4gICAgICAgIHVpU2NyaXB0RWwuc3JjID0gXCJodHRwczovL3dlYmFwaS5hbWFwLmNvbS91aS8xLjAvbWFpbi5qcz92PTEuMC4xMVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodWlTY3JpcHRFbCk7XHJcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xyXG4gICAgICAgIHVpU2NyaXB0RWwub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgLy8g6LW354K55ZKM57uI54K55qCH5rOoXHJcbiAgICAgICAgICBBTWFwVUkubG9hZFVJKFtcIm92ZXJsYXkvU2ltcGxlTWFya2VyXCJdLCBmdW5jdGlvbihTaW1wbGVNYXJrZXIpIHtcclxuICAgICAgICAgICAgbmV3IFNpbXBsZU1hcmtlcih7XHJcbiAgICAgICAgICAgICAgaWNvblRoZW1lOiBcImRlZmF1bHRcIixcclxuICAgICAgICAgICAgICBpY29uU3R5bGU6IFwib3JhbmdlXCIsXHJcbiAgICAgICAgICAgICAgbWFwOiB0aGF0Lm1hcE9iaixcclxuICAgICAgICAgICAgICBwb3NpdGlvbjogdGhhdC5faW5pdExvY2F0aW9uKGd4X2xvY2F0aW9uKSxcclxuICAgICAgICAgICAgICBsYWJlbDoge1xyXG4gICAgICAgICAgICAgICAgY29udGVudDogXCLpq5jmlrDova/ku7blm61cIixcclxuICAgICAgICAgICAgICAgIG9mZnNldDogbmV3IEFNYXAuUGl4ZWwoLTEwLCAtMjApLFxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgbmV3IFNpbXBsZU1hcmtlcih7XHJcbiAgICAgICAgICAgICAgaWNvblRoZW1lOiBcImRlZmF1bHRcIixcclxuICAgICAgICAgICAgICBpY29uU3R5bGU6IFwib3JhbmdlXCIsXHJcbiAgICAgICAgICAgICAgbWFwOiB0aGF0Lm1hcE9iaixcclxuICAgICAgICAgICAgICBwb3NpdGlvbjogdGhhdC5faW5pdExvY2F0aW9uKHRoYXQuZ2V0Q3VyQXJlYS5sb2NhdGlvbiksXHJcbiAgICAgICAgICAgICAgbGFiZWw6IHtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRoYXQuZ2V0Q3VyQXJlYS5sYWJlbCxcclxuICAgICAgICAgICAgICAgIG9mZnNldDogbmV3IEFNYXAuUGl4ZWwoLTEwLCAtMjApLFxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICAvLyDot6/lvoTmoIfms6hcclxuICAgICAgICAgIC8vICAgdGhpcy5faW5pdFBhdGhMbnMoKTtcclxuICAgICAgICB9O1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgICAvLyDlsZXnpLrlkajovrnlhazlm61cclxuICAgIF9pbml0R2FyZGVucygpIHtcclxuICAgICAgcmVxdWVzdFxyXG4gICAgICAgIC5nZXQoYC94aWFuL2Fyb3VuZEdhcmRlbj9vcmlnaW5Mb2NhdGlvbj0ke3RoaXMuZ2V0Q3VyQXJlYS5sb2NhdGlvbn1gKVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHtcclxuICAgICAgICAgICAgdGhpcy5nYXJkZW5zID0gcmVzLmRhdGE7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdhcmRlbnMgJiYgdGhpcy5nYXJkZW5zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgQU1hcFVJLmxvYWRVSShbXCJvdmVybGF5L1N2Z01hcmtlclwiXSwgZnVuY3Rpb24oU3ZnTWFya2VyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGF0LmdhcmRlbnMubWFwKChnYXJkZW4sIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBzaGFwZSA9IG5ldyBTdmdNYXJrZXIuU2hhcGVbXCJDaXJjbGVcIl0oe1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogMTYsXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6IFwiI2ZmZlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogXCIjMTc3MjYxXCIsXHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICBsZXQgbGFiZWxDZW50ZXIgPSBzaGFwZS5nZXRDZW50ZXIoKTtcclxuICAgICAgICAgICAgICAgICAgbmV3IFN2Z01hcmtlcihzaGFwZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcDogdGhhdC5tYXBPYmosXHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHRoYXQuX2luaXRMb2NhdGlvbihnYXJkZW4ubG9jYXRpb24pLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lckNsYXNzTmFtZXM6IFwic2hhcGUtQ2lyY2xlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbkxhYmVsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICBpbm5lckhUTUw6IGluZGV4ICsgMSxcclxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcIiNmZmZcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMTJweFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNob3dQb3NpdGlvblBvaW50OiB0cnVlLC8v5piv5ZCm5pi+56S6bWFya2Vy5LiK55qE57qi54K5XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICAvLyDlvIDovabot6/nur/lm77moLflvI9cclxuICAgIF9pbml0UGF0aExucygpIHtcclxuICAgICAgbGV0IHRoYXQgPSB0aGlzO1xyXG4gICAgICBpZiAoIUFNYXBVSSkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQU1hcFVJIGZhbHNlXCIsIDE3NSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIEFNYXBVSS5sb2FkKFtcInVpL21pc2MvUGF0aFNpbXBsaWZpZXJcIiwgXCJsaWIvJFwiXSwgZnVuY3Rpb24oXHJcbiAgICAgICAgUGF0aFNpbXBsaWZpZXIsXHJcbiAgICAgICAgJFxyXG4gICAgICApIHtcclxuICAgICAgICBsZXQgcGF0aE9iaiA9IG5ldyBQYXRoU2ltcGxpZmllcih7XHJcbiAgICAgICAgICB6SW5kZXg6IDEwMCxcclxuICAgICAgICAgIG1hcDogdGhhdC5tYXBPYmosXHJcblxyXG4gICAgICAgICAgZ2V0UGF0aDogKHBhdGhEYXRhLCBwYXRoSW5kZXgpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhdGhEYXRhLnBhdGg7XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgcmVuZGVyT3B0aW9uczoge1xyXG4gICAgICAgICAgICByZW5kZXJBbGxQb2ludHNJZk51bWJlckJlbG93OiAxMDAsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBhdGhPYmouc2V0RGF0YShbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIG5hbWU6IFwi6Lev57q/MFwiLFxyXG4gICAgICAgICAgICBwYXRoOiBbLi4udGhhdC5kcml2ZVJvdXRlc10sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIGxldCBuYXZnMSA9IHBhdGhPYmouY3JlYXRlUGF0aE5hdmlnYXRvcigwLCB7XHJcbiAgICAgICAgICBsb29wOiB0cnVlLCAvL+W+queOr+aSreaUvlxyXG4gICAgICAgICAgc3BlZWQ6IDUwMDAsIC8v5beh6Iiq6YCf5bqm77yM5Y2V5L2N5Y2D57GzL+Wwj+aXtlxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG5hdmcxLnN0YXJ0KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgIC8vIOWxleekuuWMuuWfn1xyXG4gICAgX2luaXREaXN0cmljdCgpIHtcclxuICAgICAgbGV0IHRoYXQgPSB0aGlzO1xyXG4gICAgICBBTWFwVUkubG9hZChbXCJ1aS9nZW8vRGlzdHJpY3RFeHBsb3JlclwiLCBcImxpYi8kXCJdLCBmdW5jdGlvbihcclxuICAgICAgICBEaXN0cmljdEV4cGxvcmVyXHJcbiAgICAgICkge1xyXG4gICAgICAgIGxldCBkaXN0cmljdEV4cGxvcmVyID0gbmV3IERpc3RyaWN0RXhwbG9yZXIoe1xyXG4gICAgICAgICAgbWFwOiB0aGF0Lm1hcE9iaiwgLy/lhbPogZTnmoTlnLDlm77lrp7kvotcclxuICAgICAgICB9KTtcclxuICAgICAgICB2YXIgY29sb3JzID0gW1xyXG4gICAgICAgICAgXCIjMzM2NmNjXCIsXHJcbiAgICAgICAgICBcIiNkYzM5MTJcIixcclxuICAgICAgICAgIFwiI2ZmOTkwMFwiLFxyXG4gICAgICAgICAgXCIjYWE5OTAwXCIsXHJcbiAgICAgICAgICBcIiNmZjE5MDFcIixcclxuICAgICAgICAgIFwiI2FhMDEwMVwiLFxyXG4gICAgICAgICAgXCJyZWRcIixcclxuICAgICAgICAgIFwiZ3JlZW5cIixcclxuICAgICAgICBdO1xyXG4gICAgICAgIGRpc3BsYXlTdHJpY3RDb2RlLm1hcCgoY29kZSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgIGRpc3RyaWN0RXhwbG9yZXIubG9hZEFyZWFOb2RlKGNvZGUsIGZ1bmN0aW9uKGVycm9yLCBhcmVhTm9kZSkge1xyXG4gICAgICAgICAgICBkaXN0cmljdEV4cGxvcmVyLnJlbmRlclN1YkZlYXR1cmVzKGFyZWFOb2RlLCBmdW5jdGlvbihmZWF0dXJlLCBpKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJkZWZhdWx0XCIsXHJcbiAgICAgICAgICAgICAgICBidWJibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBzdHJva2VDb2xvcjogXCJibHVlXCIsIC8v57q/6aKc6ImyXHJcbiAgICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAxLCAvL+e6v+mAj+aYjuW6plxyXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2VpZ2h0OiAxLCAvL+e6v+WuvVxyXG4gICAgICAgICAgICAgICAgZmlsbENvbG9yOiBcInJlZFwiLCAvL+Whq+WFheiJslxyXG4gICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuMzUsIC8v5aGr5YWF6YCP5piO5bqmXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGRpc3RyaWN0RXhwbG9yZXIucmVuZGVyUGFyZW50RmVhdHVyZShhcmVhTm9kZSwge1xyXG4gICAgICAgICAgICAgIGN1cnNvcjogXCJkZWZhdWx0XCIsXHJcbiAgICAgICAgICAgICAgYnViYmxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgIHN0cm9rZUNvbG9yOiBudWxsLCAvL+e6v+minOiJslxyXG4gICAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IDEsIC8v57q/6YCP5piO5bqmXHJcbiAgICAgICAgICAgICAgc3Ryb2tlV2VpZ2h0OiAxLCAvL+e6v+WuvVxyXG4gICAgICAgICAgICAgIGZpbGxDb2xvcjogY29sb3JzW2luZGV4XSwgLy/loavlhYXoibJcclxuICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC4zNSwgLy/loavlhYXpgI/mmI7luqZcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIOWIneWni+WMlumpvui9pui3r+e6v+aVsOaNrlxyXG4gICAgX2luaXREcml2ZVJvdXRlKCkge1xyXG4gICAgICByZXF1ZXN0XHJcbiAgICAgICAgLmdldChcclxuICAgICAgICAgIGAveGlhbi9kcml2aW5nUm91dGU/b3JpZ2luTG9jYXRpb249JHt0aGlzLmdldEN1ckFyZWEubG9jYXRpb259JmRlc3RpbmF0aW9uPSR7Z3hfbG9jYXRpb259YFxyXG4gICAgICAgIClcclxuICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXMuZGF0YS5zdGVwcyAmJiByZXMuZGF0YS5zdGVwcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgcmVzLmRhdGEuc3RlcHMuZm9yRWFjaCgoc3RlcCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0ZXAucG9seWxpbmUpIHtcclxuICAgICAgICAgICAgICAgICAgbGV0IGFyckxvY2F0aW9uID0gdGhpcy5fZm9ybWF0UG9seWxpbmUoc3RlcC5wb2x5bGluZSk7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMuZHJpdmVSb3V0ZXMucHVzaCguLi50aGlzLl9mb3JtYXRQb2x5bGluZShzdGVwLnBvbHlsaW5lKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgdGhpcy5faW5pdFBhdGhMbnMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyDovoXliqnlh73mlbBcclxuICAgIF9pbml0TG9jYXRpb24obG9jYXRpb25TdHIpIHtcclxuICAgICAgcmV0dXJuIGxvY2F0aW9uU3RyLnNwbGl0KFwiLFwiKTtcclxuICAgIH0sXHJcbiAgICBfZm9ybWF0UG9seWxpbmUocG9seWxpbmUpIHtcclxuICAgICAgbGV0IGxvY2F0aW9uU3RyID0gcG9seWxpbmUuc3BsaXQoXCI7XCIpO1xyXG4gICAgICBsZXQgbG9jYXRpb25BcnIgPSBsb2NhdGlvblN0ci5tYXAoKGxvY2F0aW9uKSA9PiB7XHJcbiAgICAgICAgbGV0IGxvY2F0aW9uSXRlbSA9IHRoaXMuX2luaXRMb2NhdGlvbihsb2NhdGlvbik7XHJcbiAgICAgICAgcmV0dXJuIFtOdW1iZXIobG9jYXRpb25JdGVtWzBdKSwgTnVtYmVyKGxvY2F0aW9uSXRlbVsxXSldO1xyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuIGxvY2F0aW9uQXJyO1xyXG4gICAgfSxcclxuICB9LFxyXG59O1xyXG48L3NjcmlwdD5cclxuPHN0eWxlIGxhbmc9XCJzY3NzXCIgc2NvcGVkPlxyXG4ubWFwLWNvbiB7XHJcbiAgcGFkZGluZzogMHB4IDVweCA1cHg7XHJcbiAgZmxleDogMTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbn1cclxuLmdhcmRlbiB7XHJcbiAgZmxleC1zaHJpbms6IDE7XHJcbiAgZm9udC1zaXplOiAxNHB4O1xyXG4gIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuOCk7XHJcbiAgcGFkZGluZy1ib3R0b206IDEwcHg7XHJcbiAgbWF4LWhlaWdodDogMTYwcHg7XHJcbiAgb3ZlcmZsb3c6IHNjcm9sbDtcclxuICAmLWl0ZW0ge1xyXG4gICAgbGluZS1oZWlnaHQ6IDI2cHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gIH1cclxuICAmLWl0ZW0taWNvbiB7XHJcbiAgICB3aWR0aDogMjBweDtcclxuICAgIGJhY2tncm91bmQ6ICMxNzcyNjE7XHJcbiAgICBjb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAxKTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGhlaWdodDogMjBweDtcclxuICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xyXG4gICAgbWFyZ2luOiAzcHggMTBweDtcclxuICB9XHJcbiAgJi1pdGVtLWxhYmVsIHtcclxuICB9XHJcbn1cclxuLm1hcC1jb250YWluZXIge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGZsZXg6IDE7XHJcbiAgb3ZlcmZsb3c6IHNjcm9sbDtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbn1cclxuLmFtYXAtbWFya2VycyB7XHJcbiAgLyogYm9yZGVyOiAxcHggYmxhY2sgc29saWQgIWltcG9ydGFudDsgKi9cclxuICBvdmVyZmxvdzogdmlzaWJsZSAhaW1wb3J0YW50O1xyXG59XHJcbjwvc3R5bGU+XHJcbiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9hcmVhLW1hcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9hcmVhLW1hcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCIiLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2FyZWEtbWFwLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD04NzUyMTRhOCZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9hcmVhLW1hcC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2FyZWEtbWFwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9hcmVhLW1hcC52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD04NzUyMTRhOCZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjg3NTIxNGE4XCIsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==