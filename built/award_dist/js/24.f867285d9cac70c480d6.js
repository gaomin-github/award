(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{122:function(e,t,i){"use strict";i.r(t);var s=i(49),n={data:()=>({renderer:null,scene:null,camera:null,cur_cube:null,group:null,cubes:[],movCube:null,movCubeStateY:.8,cameraPos:{cur:{x:0,y:0,z:0},next:{x:0,y:0,z:0}},dir:null,curMeshPosition:{x:0,y:0,z:0},xLight:null,yLight:null,zLIght:null,moveHandler:null}),mounted(){this._initRenderDom(),this.addCube(),this.addCube(),this._createMoveCube()},methods:{addCube(){this._createCube()},_initRenderDom(){this.scene=new s.Scene;let e=new s.AxisHelper(15);this.scene.add(e);let t=new s.DirectionalLight(16777215,1);t.position.set(8,10,6),this.scene.add(t),this.camera=new s.OrthographicCamera(window.innerWidth/-20,window.innerWidth/20,window.innerHeight/20,window.innerHeight/-20,1,1e3),this.camera.position.set(100,100,100),this.camera.lookAt(new s.Vector3(0,0,0)),this.renderer=new s.WebGLRenderer({antialias:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.$refs.renderDom.appendChild(this.renderer.domElement)},_getOrientation(){let e=Math.floor(10*Math.random());this.dir=e%3==0?"left":"right"},_createCube(){this.cubes&&this.cubes.length>0&&this._getOrientation(),this.cur_cube=new s.BoxGeometry(5,2,5);let e=new s.MeshPhongMaterial({color:16776960}),t=new s.Mesh(this.cur_cube,e);"left"===this.dir?(this.curMeshPosition={x:this.curMeshPosition.x-10,y:this.curMeshPosition.y,z:this.curMeshPosition.z},this.cameraPos.next=this.curMeshPosition):"right"===this.dir&&(this.curMeshPosition={x:this.curMeshPosition.x,y:this.curMeshPosition.y,z:this.curMeshPosition.z-10},this.cameraPos.next=this.curMeshPosition),t.position.set(this.curMeshPosition.x,this.curMeshPosition.y,this.curMeshPosition.z),this.cubes.push(this.cur_cube),this.scene.add(t)},_changeCamera(){this.cameraPos.cur.z>this.cameraPos.next.z?this.cameraPos.cur.z-=.2:this.cameraPos.cur.x>this.cameraPos.next.x&&(this.cameraPos.cur.x-=.2),this.camera.lookAt(new s.Vector3(this.cameraPos.cur.x,this.cameraPos.cur.y,this.cameraPos.cur.z)),this.renderer.render(this.scene,this.camera),requestAnimationFrame(this._changeCamera)},_createMoveCube(){let e=new s.BoxGeometry(2,4,2),t=new s.MeshPhongMaterial(16773120);this.movCube=new s.Mesh(e,t),this.movCube.position.set(0,2,0),e.translate(0,1,0),this.scene.add(this.movCube)},startMove(){this.movCube.position.y>=2?(this.movCube.position.y+=this.movCubeStateY,"left"===this.dir&&this.movCube.position.x>this.cameraPos.next.x?this.movCube.position.x-=.5:"right"===this.dir&&this.movCube.position.z>this.cameraPos.next.z&&(this.movCube.position.z-=.5),this.movCubeStateY-=.04,this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.startMove)):(this.movCube.position.y=2,this.movCubeStateY=.8,this.addCube(),this._checkPosition())},animateMoveCube(){this.movCube.rotation.z<Math.PI/2&&(this.movCube.rotation.z+=.1),requestAnimationFrame(this.animateMoveCube)},_checkPosition(){},moveDown(){}}},o=(i(68),i(4)),r=Object(o.a)(n,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{ref:"renderDom"},[i("section",{staticClass:"handler"},[i("section",{staticClass:"cube-btn",on:{click:e.addCube}},[e._v("addCube btn")]),e._v(" "),i("section",{staticClass:"cube-btn",on:{click:e.startMove}},[e._v("move up")]),e._v(" "),i("section",{staticClass:"cube-btn",on:{click:e.animateMoveCube}},[e._v("animateMoveCube")])])])}),[],!1,null,"7029168e",null);t.default=r.exports},22:function(e,t,i){},68:function(e,t,i){"use strict";var s=i(22);i.n(s).a}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdGhyZWVEZW1vL2RlbW8xLnZ1ZT8xM2I3Iiwid2VicGFjazovLy8uL3NyYy90aHJlZURlbW8vZGVtbzEudnVlP2QyMTYiLCJ3ZWJwYWNrOi8vL3NyYy90aHJlZURlbW8vZGVtbzEudnVlIiwid2VicGFjazovLy8uL3NyYy90aHJlZURlbW8vZGVtbzEudnVlIiwid2VicGFjazovLy8uL3NyYy90aHJlZURlbW8vZGVtbzEudnVlPzJlZjIiXSwibmFtZXMiOlsiY29tcG9uZW50IiwiX3ZtIiwidGhpcyIsIl9oIiwiJGNyZWF0ZUVsZW1lbnQiLCJfYyIsIl9zZWxmIiwicmVmIiwic3RhdGljQ2xhc3MiLCJvbiIsImFkZEN1YmUiLCJfdiIsInN0YXJ0TW92ZSIsImFuaW1hdGVNb3ZlQ3ViZSJdLCJtYXBwaW5ncyI6ImtHQUFBLEksUUNBcUwsRUNXckwsQ0FDRSxLQUFGLEtBQ0EsQ0FDTSxTQUFOLEtBQ00sTUFBTixLQUNNLE9BQU4sS0FDTSxTQUFOLEtBQ00sTUFBTixLQUNNLE1BQU4sR0FFTSxRQUFOLEtBQ00sY0FBTixHQUNNLFVBQU4sQ0FDUSxJQUFSLENBQ1UsRUFBVixFQUNVLEVBQVYsRUFDVSxFQUFWLEdBRVEsS0FBUixDQUNVLEVBQVYsRUFDVSxFQUFWLEVBQ1UsRUFBVixJQUdNLElBQU4sS0FFTSxnQkFBTixDQUNRLEVBQVIsRUFDUSxFQUFSLEVBQ1EsRUFBUixHQUVNLE9BQU4sS0FDTSxPQUFOLEtBQ00sT0FBTixLQUNNLFlBQU4sT0FHRSxVQUVFLEtBQUosaUJBSUksS0FBSixVQUNJLEtBQUosVUFFSSxLQUFKLG1CQUVFLFFBQUYsQ0FDSSxVQUVFLEtBQU4sZUFFSSxpQkFDRSxLQUFOLGtCQUVNLElBQU4sdUJBQ00sS0FBTixhQUVNLElBQU4scUNBQ00sRUFBTixxQkFDTSxLQUFOLGFBRU0sS0FBTixnQ0FDQSxzQkFDQSxxQkFDQSxzQkFDQSx1QkFDQSxFQUNBLEtBRU0sS0FBTixpQ0FDTSxLQUFOLG9DQUVNLEtBQU4sOEJBQVEsV0FBUixJQUNNLEtBQU4sdURBQ0EscUJBQ0EsdUNBRUksa0JBQ0UsSUFBTiwrQkFDTSxLQUFOLDJCQUVJLGNBRUosaUNBQ1EsS0FBUixrQkFJTSxLQUFOLGtDQUNNLElBQU4sMkJBQ1EsTUFBUixXQUVBLDhCQUVBLG1CQUNRLEtBQVIsaUJBQ1UsRUFBViwwQkFDVSxFQUFWLHVCQUNVLEVBQVYsd0JBRVEsS0FBUixxQ0FDQSxxQkFDUSxLQUFSLGlCQUNVLEVBQVYsdUJBQ1UsRUFBVix1QkFDVSxFQUFWLDJCQUVRLEtBQVIscUNBR00sRUFBTixhQUNBLHVCQUNBLHVCQUNBLHdCQUdNLEtBQU4sMEJBQ00sS0FBTixjQUVJLGdCQUNKLDJDQUNRLEtBQVIsb0JBQ0EsNkNBQ1EsS0FBUixxQkFFTSxLQUFOLGNBQ0EsY0FDQSxxQkFDQSxxQkFDQSx1QkFHTSxLQUFOLHdDQUNNLHNCQUFOLHFCQUVJLGtCQUNFLElBQU4sMkJBRUEsb0NBQ00sS0FBTix3QkFDTSxLQUFOLDRCQUNNLEVBQU4saUJBQ00sS0FBTix5QkFFSSxZQUNKLDRCQUNRLEtBQVIsdUNBRUEsbUJBQ0EsOENBRVUsS0FBVix1QkFFQSxvQkFDQSxnREFFVSxLQUFWLHdCQUVRLEtBQVIsbUJBQ1EsS0FBUix3Q0FDUSxzQkFBUixrQkFFUSxLQUFSLHFCQUNRLEtBQVIsaUJBQ1EsS0FBUixVQUNRLEtBQVIsbUJBR0ksa0JBQ0osb0NBQ1EsS0FBUix3QkFFTSxzQkFBTix1QkFFSSxtQkFDQSxlLGVDcExBQSxFQUFZLFlBQ2QsR0hUVyxXQUFhLElBQUlDLEVBQUlDLEtBQVNDLEVBQUdGLEVBQUlHLGVBQW1CQyxFQUFHSixFQUFJSyxNQUFNRCxJQUFJRixFQUFHLE9BQU9FLEVBQUcsVUFBVSxDQUFDRSxJQUFJLGFBQWEsQ0FBQ0YsRUFBRyxVQUFVLENBQUNHLFlBQVksV0FBVyxDQUFDSCxFQUFHLFVBQVUsQ0FBQ0csWUFBWSxXQUFXQyxHQUFHLENBQUMsTUFBUVIsRUFBSVMsVUFBVSxDQUFDVCxFQUFJVSxHQUFHLGlCQUFpQlYsRUFBSVUsR0FBRyxLQUFLTixFQUFHLFVBQVUsQ0FBQ0csWUFBWSxXQUFXQyxHQUFHLENBQUMsTUFBUVIsRUFBSVcsWUFBWSxDQUFDWCxFQUFJVSxHQUFHLGFBQWFWLEVBQUlVLEdBQUcsS0FBS04sRUFBRyxVQUFVLENBQUNHLFlBQVksV0FBV0MsR0FBRyxDQUFDLE1BQVFSLEVBQUlZLGtCQUFrQixDQUFDWixFQUFJVSxHQUFHLDJCQUNyYSxJR1dwQixFQUNBLEtBQ0EsV0FDQSxNQUlhLFVBQUFYLEUsOERDbkJmLG1CQUFnYiIsImZpbGUiOiJhd2FyZF9kaXN0L2pzLzI0LmY4NjcyODVkOWNhYzcwYzQ4MGQ2LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ3NlY3Rpb24nLHtyZWY6XCJyZW5kZXJEb21cIn0sW19jKCdzZWN0aW9uJyx7c3RhdGljQ2xhc3M6XCJoYW5kbGVyXCJ9LFtfYygnc2VjdGlvbicse3N0YXRpY0NsYXNzOlwiY3ViZS1idG5cIixvbjp7XCJjbGlja1wiOl92bS5hZGRDdWJlfX0sW192bS5fdihcImFkZEN1YmUgYnRuXCIpXSksX3ZtLl92KFwiIFwiKSxfYygnc2VjdGlvbicse3N0YXRpY0NsYXNzOlwiY3ViZS1idG5cIixvbjp7XCJjbGlja1wiOl92bS5zdGFydE1vdmV9fSxbX3ZtLl92KFwibW92ZSB1cFwiKV0pLF92bS5fdihcIiBcIiksX2MoJ3NlY3Rpb24nLHtzdGF0aWNDbGFzczpcImN1YmUtYnRuXCIsb246e1wiY2xpY2tcIjpfdm0uYW5pbWF0ZU1vdmVDdWJlfX0sW192bS5fdihcImFuaW1hdGVNb3ZlQ3ViZVwiKV0pXSldKX1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2RlbW8xLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2RlbW8xLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsIjx0ZW1wbGF0ZT5cbiAgICA8c2VjdGlvbiByZWY9XCJyZW5kZXJEb21cIj5cbiAgICAgICAgPHNlY3Rpb24gY2xhc3M9XCJoYW5kbGVyXCI+XG4gICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz1cImN1YmUtYnRuXCIgQGNsaWNrPVwiYWRkQ3ViZVwiPmFkZEN1YmUgYnRuPC9zZWN0aW9uPlxuICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9XCJjdWJlLWJ0blwiIEBjbGljaz1cInN0YXJ0TW92ZVwiPm1vdmUgdXA8L3NlY3Rpb24+XG4gICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz1cImN1YmUtYnRuXCIgQGNsaWNrPVwiYW5pbWF0ZU1vdmVDdWJlXCI+YW5pbWF0ZU1vdmVDdWJlPC9zZWN0aW9uPlxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgPC9zZWN0aW9uPlxuPC90ZW1wbGF0ZT5cbjxzY3JpcHQ+XG5pbXBvcnQgKiBhcyBUaHJlZSBmcm9tIFwidGhyZWVcIjtcbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBkYXRhKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVuZGVyZXI6IG51bGwsXG4gICAgICAgICAgICBzY2VuZTogbnVsbCxcbiAgICAgICAgICAgIGNhbWVyYTogbnVsbCxcbiAgICAgICAgICAgIGN1cl9jdWJlOiBudWxsLFxuICAgICAgICAgICAgZ3JvdXA6IG51bGwsXG4gICAgICAgICAgICBjdWJlczogW10sXG4gICAgICAgICAgICAvLyDot7PliqjmlrnlnZdcbiAgICAgICAgICAgIG1vdkN1YmU6IG51bGwsXG4gICAgICAgICAgICBtb3ZDdWJlU3RhdGVZOiAwLjgsXG4gICAgICAgICAgICBjYW1lcmFQb3M6IHtcbiAgICAgICAgICAgICAgICBjdXI6IHtcbiAgICAgICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgICAgICAgICAgejogMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbmV4dDoge1xuICAgICAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgICAgICAgICB6OiAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRpcjogbnVsbCxcbiAgICAgICAgICAgIC8vIOW9k+WJjeaWueWdl+WunuS+i1xuICAgICAgICAgICAgY3VyTWVzaFBvc2l0aW9uOiB7XG4gICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgICAgIHo6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB4TGlnaHQ6IG51bGwsXG4gICAgICAgICAgICB5TGlnaHQ6IG51bGwsXG4gICAgICAgICAgICB6TElnaHQ6IG51bGwsXG4gICAgICAgICAgICBtb3ZlSGFuZGxlcjogbnVsbFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgbW91bnRlZCgpIHtcbiAgICAgICAgLy8g5Yid5aeL5YyW55S75biDXG4gICAgICAgIHRoaXMuX2luaXRSZW5kZXJEb20oKTtcbiAgICAgICAgLy8g5pS55Y+Y55u45py66KeG6KeSXG4gICAgICAgIC8vIHRoaXMuX2NoYW5nZUNhbWVyYSgpO1xuICAgICAgICAvLyDliJvlu7rmlrnlnZdcbiAgICAgICAgdGhpcy5hZGRDdWJlKCk7XG4gICAgICAgIHRoaXMuYWRkQ3ViZSgpO1xuICAgICAgICAvLyDliJvlu7rnp7vliqjniankvZNcbiAgICAgICAgdGhpcy5fY3JlYXRlTW92ZUN1YmUoKTtcbiAgICB9LFxuICAgIG1ldGhvZHM6IHtcbiAgICAgICAgYWRkQ3ViZSgpIHtcbiAgICAgICAgICAgIC8vIOWIm+W7uuaWueWdl1xuICAgICAgICAgICAgdGhpcy5fY3JlYXRlQ3ViZSgpO1xuICAgICAgICB9LFxuICAgICAgICBfaW5pdFJlbmRlckRvbSgpIHtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUgPSBuZXcgVGhyZWUuU2NlbmUoKTtcbiAgICAgICAgICAgIC8vIOWdkOagh+i9tOi+heWKqee6v1xuICAgICAgICAgICAgbGV0IGF4aXNIZWxwcmUgPSBuZXcgVGhyZWUuQXhpc0hlbHBlcigxNSk7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLmFkZChheGlzSGVscHJlKTtcbiAgICAgICAgICAgIC8vIOWFiVxuICAgICAgICAgICAgbGV0IGRpckxpZ2h0ID0gbmV3IFRocmVlLkRpcmVjdGlvbmFsTGlnaHQoMHhmZmZmZmYsIDEpO1xuICAgICAgICAgICAgZGlyTGlnaHQucG9zaXRpb24uc2V0KDgsIDEwLCA2KTtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuYWRkKGRpckxpZ2h0KTtcbiAgICAgICAgICAgIC8vIOebuOaculxuICAgICAgICAgICAgdGhpcy5jYW1lcmEgPSBuZXcgVGhyZWUuT3J0aG9ncmFwaGljQ2FtZXJhKFxuICAgICAgICAgICAgICAgIHdpbmRvdy5pbm5lcldpZHRoIC8gLTIwLFxuICAgICAgICAgICAgICAgIHdpbmRvdy5pbm5lcldpZHRoIC8gMjAsXG4gICAgICAgICAgICAgICAgd2luZG93LmlubmVySGVpZ2h0IC8gMjAsXG4gICAgICAgICAgICAgICAgd2luZG93LmlubmVySGVpZ2h0IC8gLTIwLFxuICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgMTAwMFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnNldCgxMDAsIDEwMCwgMTAwKTtcbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLmxvb2tBdChuZXcgVGhyZWUuVmVjdG9yMygwLCAwLCAwKSk7XG4gICAgICAgICAgICAvLyDmuLLmn5PlmahcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVGhyZWUuV2ViR0xSZW5kZXJlcih7IGFudGlhbGlhczogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0U2l6ZSh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICAgICAgICAgIGxldCByZW5Eb20gPSB0aGlzLiRyZWZzLnJlbmRlckRvbTtcbiAgICAgICAgICAgIHJlbkRvbS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuICAgICAgICB9LFxuICAgICAgICBfZ2V0T3JpZW50YXRpb24oKSB7XG4gICAgICAgICAgICBsZXQgZGlyTnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xuICAgICAgICAgICAgdGhpcy5kaXIgPSBkaXJOdW0gJSAzID09PSAwID8gXCJsZWZ0XCIgOiBcInJpZ2h0XCI7XG4gICAgICAgIH0sXG4gICAgICAgIF9jcmVhdGVDdWJlKCkge1xuICAgICAgICAgICAgLy8g56Gu5a6a5b2T5YmN5pa55Z2X5pa55ZCRXG4gICAgICAgICAgICBpZiAodGhpcy5jdWJlcyAmJiB0aGlzLmN1YmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9nZXRPcmllbnRhdGlvbigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyDliJvlu7rmlrnlnZflrp7kvZNcbiAgICAgICAgICAgIHRoaXMuY3VyX2N1YmUgPSBuZXcgVGhyZWUuQm94R2VvbWV0cnkoNSwgMiwgNSk7XG4gICAgICAgICAgICBsZXQgbWF0ZXJpYWwgPSBuZXcgVGhyZWUuTWVzaFBob25nTWF0ZXJpYWwoe1xuICAgICAgICAgICAgICAgIGNvbG9yOiAweGZmZmYwMFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsZXQgbWVzaCA9IG5ldyBUaHJlZS5NZXNoKHRoaXMuY3VyX2N1YmUsIG1hdGVyaWFsKTtcbiAgICAgICAgICAgIC8vIOaWsOWIm+W7uueahOaWueWdl+S9jee9rlxuICAgICAgICAgICAgaWYgKHRoaXMuZGlyID09PSBcImxlZnRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VyTWVzaFBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiB0aGlzLmN1ck1lc2hQb3NpdGlvbi54IC0gMTAsXG4gICAgICAgICAgICAgICAgICAgIHk6IHRoaXMuY3VyTWVzaFBvc2l0aW9uLnksXG4gICAgICAgICAgICAgICAgICAgIHo6IHRoaXMuY3VyTWVzaFBvc2l0aW9uLnpcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUG9zLm5leHQgPSB0aGlzLmN1ck1lc2hQb3NpdGlvbjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5kaXIgPT09IFwicmlnaHRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VyTWVzaFBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiB0aGlzLmN1ck1lc2hQb3NpdGlvbi54LFxuICAgICAgICAgICAgICAgICAgICB5OiB0aGlzLmN1ck1lc2hQb3NpdGlvbi55LFxuICAgICAgICAgICAgICAgICAgICB6OiB0aGlzLmN1ck1lc2hQb3NpdGlvbi56IC0gMTBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUG9zLm5leHQgPSB0aGlzLmN1ck1lc2hQb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIOehruWumuaWueWdl+S9jee9rlxuICAgICAgICAgICAgbWVzaC5wb3NpdGlvbi5zZXQoXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJNZXNoUG9zaXRpb24ueCxcbiAgICAgICAgICAgICAgICB0aGlzLmN1ck1lc2hQb3NpdGlvbi55LFxuICAgICAgICAgICAgICAgIHRoaXMuY3VyTWVzaFBvc2l0aW9uLnpcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICAvLyDliJ3lp4vljJbnm7jmnLrkuIvkuIDmraXmjKrliqjph43ngrnkvY3nva5cbiAgICAgICAgICAgIHRoaXMuY3ViZXMucHVzaCh0aGlzLmN1cl9jdWJlKTtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuYWRkKG1lc2gpO1xuICAgICAgICB9LFxuICAgICAgICBfY2hhbmdlQ2FtZXJhKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhUG9zLmN1ci56ID4gdGhpcy5jYW1lcmFQb3MubmV4dC56KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFQb3MuY3VyLnogLT0gMC4yO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNhbWVyYVBvcy5jdXIueCA+IHRoaXMuY2FtZXJhUG9zLm5leHQueCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUG9zLmN1ci54IC09IDAuMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY2FtZXJhLmxvb2tBdChcbiAgICAgICAgICAgICAgICBuZXcgVGhyZWUuVmVjdG9yMyhcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmFQb3MuY3VyLngsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhUG9zLmN1ci55LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYVBvcy5jdXIuelxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5fY2hhbmdlQ2FtZXJhKTtcbiAgICAgICAgfSxcbiAgICAgICAgX2NyZWF0ZU1vdmVDdWJlKCkge1xuICAgICAgICAgICAgbGV0IG1vdmVDdWJlR2VvbWV0cnkgPSBuZXcgVGhyZWUuQm94R2VvbWV0cnkoMiwgNCwgMik7XG5cbiAgICAgICAgICAgIGxldCBtb3ZlQ3ViZU1hdGVyaWFsID0gbmV3IFRocmVlLk1lc2hQaG9uZ01hdGVyaWFsKDB4ZmZmMDAwKTtcbiAgICAgICAgICAgIHRoaXMubW92Q3ViZSA9IG5ldyBUaHJlZS5NZXNoKG1vdmVDdWJlR2VvbWV0cnksIG1vdmVDdWJlTWF0ZXJpYWwpO1xuICAgICAgICAgICAgdGhpcy5tb3ZDdWJlLnBvc2l0aW9uLnNldCgwLCAyLCAwKTtcbiAgICAgICAgICAgIG1vdmVDdWJlR2VvbWV0cnkudHJhbnNsYXRlKDAsIDEsIDApO1xuICAgICAgICAgICAgdGhpcy5zY2VuZS5hZGQodGhpcy5tb3ZDdWJlKTtcbiAgICAgICAgfSxcbiAgICAgICAgc3RhcnRNb3ZlKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMubW92Q3ViZS5wb3NpdGlvbi55ID49IDIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdkN1YmUucG9zaXRpb24ueSArPSB0aGlzLm1vdkN1YmVTdGF0ZVk7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpciA9PT0gXCJsZWZ0XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZDdWJlLnBvc2l0aW9uLnggPiB0aGlzLmNhbWVyYVBvcy5uZXh0LnhcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZDdWJlLnBvc2l0aW9uLnggLT0gMC41O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlyID09PSBcInJpZ2h0XCIgJiZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZDdWJlLnBvc2l0aW9uLnogPiB0aGlzLmNhbWVyYVBvcy5uZXh0LnpcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZDdWJlLnBvc2l0aW9uLnogLT0gMC41O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLm1vdkN1YmVTdGF0ZVkgLT0gMC4wNDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcmVyLnJlbmRlcih0aGlzLnNjZW5lLCB0aGlzLmNhbWVyYSk7XG4gICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuc3RhcnRNb3ZlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZDdWJlLnBvc2l0aW9uLnkgPSAyO1xuICAgICAgICAgICAgICAgIHRoaXMubW92Q3ViZVN0YXRlWSA9IDAuODtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZEN1YmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja1Bvc2l0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFuaW1hdGVNb3ZlQ3ViZSgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vdkN1YmUucm90YXRpb25bYHpgXSA8IE1hdGguUEkgLyAyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZDdWJlLnJvdGF0aW9uW1wielwiXSArPSAwLjE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRlTW92ZUN1YmUpO1xuICAgICAgICB9LFxuICAgICAgICBfY2hlY2tQb3NpdGlvbigpIHt9LFxuICAgICAgICBtb3ZlRG93bigpIHt9XG4gICAgfVxufTtcbjwvc2NyaXB0PlxuPHN0eWxlIHNjb3BlZD5cbi5oYW5kbGVyIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAxMHB4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG59XG4uY3ViZS1idG4ge1xuICAgIG1hcmdpbi1yaWdodDogMTVweDtcbiAgICBjb2xvcjogcmdiKDI1NSwgMjU1LCAyNTUpO1xuICAgIGJvcmRlcjogMXB4IHJnYigyNTUsIDI1NSwgMjU1KSBzb2xpZDtcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgcGFkZGluZzogMHB4IDVweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59XG48L3N0eWxlPlxuIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9kZW1vMS52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9NzAyOTE2OGUmc2NvcGVkPXRydWUmXCJcbmltcG9ydCBzY3JpcHQgZnJvbSBcIi4vZGVtbzEudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9kZW1vMS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmltcG9ydCBzdHlsZTAgZnJvbSBcIi4vZGVtbzEudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9NzAyOTE2OGUmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjcwMjkxNjhlXCIsXG4gIG51bGxcbiAgXG4pXG5cbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanM/P3JlZi0tMy0wIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2RlbW8xLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTcwMjkxNjhlJnNjb3BlZD10cnVlJmxhbmc9Y3NzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcz8/cmVmLS0zLTAhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vZGVtbzEudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9NzAyOTE2OGUmc2NvcGVkPXRydWUmbGFuZz1jc3MmXCIiXSwic291cmNlUm9vdCI6IiJ9