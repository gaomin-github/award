(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{10:function(e,t,s){"use strict";var r=s(12),a=s.n(r),n=s(4),u=s.n(n);s(2);var l={namespaced:!0,state:()=>({taskId:"",scheduleList:null,curUser:null,curSchedule:null,subId:"",taskHistory:null,editing:!1,pathArr:"",pageMove:""}),getters:{totalValue:e=>{if(!e.scheduleList||0==e.scheduleList.length)return 0;if(1===e.scheduleList.length)return Number(e.scheduleList[0].worth);let t=e.scheduleList.reduce((e,t,s)=>1===s?Number(e.worth)+Number(t.worth):Number(e)+Number(t.worth));return Number(t)},score:e=>{if(!e.scheduleList||0==e.scheduleList.length)return 0;if(1===e.scheduleList.length)return Number(e.scheduleList[0].process);let t=e.scheduleList.reduce((e,t,s)=>1===s?Number(e.process)+Number(t.process):Number(e)+Number(t.process));return Number(t)}},mutations:{initTask(e,t){e.scheduleList=t.schedules,e.taskId=t.taskId},insertSchedule(e,t){e.scheduleList.push(t)},updateSchedule(e,t){let s=e.scheduleList.findIndex(e=>{if(t.subId===e.subId)return!0});s>=0&&e.scheduleList.splice(s,1,t)},deleteSchedule(e,t){let s=e.scheduleList.findIndex(e=>{if(t.subid===e.subid)return!0});e.scheduleList.splice(s,1)},updateCurUser(e,t){e.curUser=t},updateCurSchedule(e,t){e.curSchedule=t},updateSubId(e,t){e.subId=t},updateEditing(e,t){e.editing=t},pushPathArr(e,t){e.pathArr+="/"+t},popPathArr(e){let t=e.pathArr.split("/");t.pop(),e.pathArr=t.join("/")},setPageMove(e,t){e.pageMove=t}}};var i={namespaced:!0,state:()=>({curArea:null}),getters:{getCurArea:e=>e.curArea},mutations:{setCurArea(e,t){e.curArea=t}}};var c={namespaced:!0,state:()=>({userInfo:{userId:"",token:""}}),getters:{getUserInfo:e=>{if(e.userInfo&&e.userInfo.token)return e.userInfo;let t=localStorage.getItem("userInfo");return t?(e.userInfo=JSON.parse(t),JSON.parse(t)):null}},mutations:{updateUserInfo(e,t){console.log(t,"params",25),e.userInfo=t}}};var o=new u.a.Store({modules:{weekly:l,estate:i,rbac:c}});let d=a.a.create({timeout:3e4,headers:{}});d.interceptors.request.use(e=>{let t=o.getters["rbac/getUserInfo"];return e.headers.Authorization=""+(t&&t.token||""),e}),d.interceptors.response.use(e=>{if(401!==e.status)return e;location.reload()});t.a=d},128:function(e,t,s){"use strict";s.r(t);s(10);var r=s(4),a={components:{areaMap:()=>s.e(28).then(s.bind(null,134)),areaAssess:()=>s.e(15).then(s.bind(null,135)),areaBuilding:()=>s.e(27).then(s.bind(null,136))},data:()=>({areaInfo:{},tabs:[{key:"list",label:"所有房间",color:"rgba(43, 116, 215, 1)"},{key:"map",label:"地图查看",color:"rgba(115, 163, 9, 1)"},{key:"assess",label:"评价",color:"rgba(254, 148, 73, 1)"}],curTabKey:"list"}),async mounted(){document.title="高德",this._initPrevPage()},methods:{...Object(r.mapMutations)("estate",["setCurArea"]),_initPrevPage(){let e=this.$route.query.areaInfo;this.areaInfo=JSON.parse(e),this.setCurArea(this.areaInfo)},getAreaLabel(){if(this.areaInfo.label){return this.areaInfo.label.replace(/(&middot;|&ldquo;|&rdquo;)/g,"")}return this.areaInfo.label},changeTab(e){this.curTabKey=e.key},backHandler(){this.$router.go(-1)}}},n=(s(91),s(1)),u=Object(n.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"area-wrapper"},[s("section",{staticClass:"header"},[s("section",{staticClass:"header-icon",on:{click:e.backHandler}},[e._v("返回")]),e._v("\n          "+e._s(e.getAreaLabel())+"\n      ")]),e._v(" "),s("section",{staticClass:"content"},[e.tabs&&e.tabs.length>0?s("section",{staticClass:"tabs"},e._l(e.tabs,(function(t){return s("section",{key:t.key,staticClass:"tabs-item",class:t.key,style:"background:"+t.color,on:{click:function(s){return e.changeTab(t)}}},[e._v(e._s(t.label))])})),0):e._e(),e._v(" "),"list"===e.curTabKey?s("area-building",{staticClass:"map-con"}):e._e(),e._v(" "),"map"===e.curTabKey?s("area-map",{staticClass:"map-con"}):e._e(),e._v(" "),"assess"===e.curTabKey?s("area-assess",{staticClass:"assess-con con",attrs:{assess:e.areaInfo.assess},on:{updateArea:function(t){return e.setCurArea(e.areaInfo)}}}):e._e()],1),e._v(" "),s("section",{staticClass:"map-container",attrs:{id:"map-container"}})])}),[],!1,null,"68dc530f",null);t.default=u.exports},23:function(e,t,s){},91:function(e,t,s){"use strict";var r=s(23);s.n(r).a}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc3RvcmUvbW9kdWxlcy93ZWVrbHkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0b3JlL21vZHVsZXMvZXN0YXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9zdG9yZS9tb2R1bGVzL3JiYWMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0b3JlL2luZGV4LmpzIiwid2VicGFjazovLy8uL3V0aWxzL3JlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3hpYW4tZXN0YXRlL2FyZWEudnVlP2EyZjciLCJ3ZWJwYWNrOi8vLy4vc3JjL3hpYW4tZXN0YXRlL2FyZWEudnVlP2UyN2YiLCJ3ZWJwYWNrOi8vL3NyYy94aWFuLWVzdGF0ZS9hcmVhLnZ1ZSIsIndlYnBhY2s6Ly8vLi9zcmMveGlhbi1lc3RhdGUvYXJlYS52dWUiLCJ3ZWJwYWNrOi8vLy4vc3JjL3hpYW4tZXN0YXRlL2FyZWEudnVlPzI3ODkiXSwibmFtZXMiOlsibmFtZXNwYWNlZCIsInN0YXRlIiwidGFza0lkIiwic2NoZWR1bGVMaXN0IiwiY3VyVXNlciIsImN1clNjaGVkdWxlIiwic3ViSWQiLCJ0YXNrSGlzdG9yeSIsImVkaXRpbmciLCJwYXRoQXJyIiwicGFnZU1vdmUiLCJnZXR0ZXJzIiwidG90YWxWYWx1ZSIsImxlbmd0aCIsIk51bWJlciIsIndvcnRoIiwicmVkdWNlIiwiYSIsImIiLCJpbmRleCIsInNjb3JlIiwicHJvY2VzcyIsIm11dGF0aW9ucyIsImluaXRUYXNrIiwidGFzayIsInNjaGVkdWxlcyIsImluc2VydFNjaGVkdWxlIiwiaXRlbSIsInB1c2giLCJ1cGRhdGVTY2hlZHVsZSIsImZpbmRJbmRleCIsInNjaGVkdWxlIiwic3BsaWNlIiwiZGVsZXRlU2NoZWR1bGUiLCJzdWJpZCIsInVwZGF0ZUN1clVzZXIiLCJ1c2VyIiwidXBkYXRlQ3VyU2NoZWR1bGUiLCJ1cGRhdGVTdWJJZCIsInVwZGF0ZUVkaXRpbmciLCJib29sIiwicHVzaFBhdGhBcnIiLCJwYXRoIiwicG9wUGF0aEFyciIsInBhdGhTdHIiLCJzcGxpdCIsInBvcCIsImpvaW4iLCJzZXRQYWdlTW92ZSIsIm1ldGhvZCIsImN1ckFyZWEiLCJnZXRDdXJBcmVhIiwic2V0Q3VyQXJlYSIsInVzZXJJbmZvIiwidXNlcklkIiwidG9rZW4iLCJnZXRVc2VySW5mbyIsInVzZXJJbmZvX3N0ciIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJKU09OIiwicGFyc2UiLCJ1cGRhdGVVc2VySW5mbyIsInBhcmFtcyIsImNvbnNvbGUiLCJsb2ciLCJWdWV4IiwiU3RvcmUiLCJtb2R1bGVzIiwid2Vla2x5IiwiZXN0YXRlIiwicmJhYyIsInJlcXVlc3QiLCJheGlvcyIsImNyZWF0ZSIsInRpbWVvdXQiLCJoZWFkZXJzIiwiaW50ZXJjZXB0b3JzIiwidXNlIiwiY29uZmlnIiwic3RvcmUiLCJyZXNwb25zZSIsInN0YXR1cyIsImxvY2F0aW9uIiwicmVsb2FkIiwiY29tcG9uZW50IiwiX3ZtIiwidGhpcyIsIl9oIiwiJGNyZWF0ZUVsZW1lbnQiLCJfYyIsIl9zZWxmIiwic3RhdGljQ2xhc3MiLCJvbiIsImJhY2tIYW5kbGVyIiwiX3YiLCJfcyIsImdldEFyZWFMYWJlbCIsInRhYnMiLCJfbCIsInRhYiIsImtleSIsImNsYXNzIiwic3R5bGUiLCIkZXZlbnQiLCJjaGFuZ2VUYWIiLCJsYWJlbCIsIl9lIiwiY3VyVGFiS2V5IiwiYXR0cnMiLCJhcmVhSW5mbyIsImFzc2VzcyJdLCJtYXBwaW5ncyI6Im9JQXlGZSxPQUNiQSxZQUFZLEVBQ1pDLE1BM0ZZLEtBQU0sQ0FDbEJDLE9BQVEsR0FDUkMsYUFBYyxLQUNkQyxRQUFTLEtBQ1RDLFlBQWEsS0FDYkMsTUFBTyxHQUNQQyxZQUFhLEtBQ2JDLFNBQVMsRUFDVEMsUUFBUSxHQUNSQyxTQUFTLEtBbUZUQyxRQWhGYyxDQUNkQyxXQUFhWCxJQUNYLElBQUtBLEVBQU1FLGNBQTZDLEdBQTdCRixFQUFNRSxhQUFhVSxPQUM1QyxPQUFPLEVBRVQsR0FBa0MsSUFBOUJaLEVBQU1F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Y2VzQ29udGVudCI6WyJjb25zdCBzdGF0ZSA9ICgpID0+ICh7XHJcbiAgdGFza0lkOiBcIlwiLFxyXG4gIHNjaGVkdWxlTGlzdDogbnVsbCxcclxuICBjdXJVc2VyOiBudWxsLFxyXG4gIGN1clNjaGVkdWxlOiBudWxsLFxyXG4gIHN1YklkOiBcIlwiLFxyXG4gIHRhc2tIaXN0b3J5OiBudWxsLFxyXG4gIGVkaXRpbmc6IGZhbHNlLFxyXG4gIHBhdGhBcnI6JycsXHJcbiAgcGFnZU1vdmU6JydcclxufSk7XHJcblxyXG5jb25zdCBnZXR0ZXJzID0ge1xyXG4gIHRvdGFsVmFsdWU6IChzdGF0ZSkgPT4ge1xyXG4gICAgaWYgKCFzdGF0ZS5zY2hlZHVsZUxpc3QgfHwgc3RhdGUuc2NoZWR1bGVMaXN0Lmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgaWYgKHN0YXRlLnNjaGVkdWxlTGlzdC5sZW5ndGggPT09IDEpXHJcbiAgICAgIHJldHVybiBOdW1iZXIoc3RhdGUuc2NoZWR1bGVMaXN0WzBdLndvcnRoKTtcclxuICAgIGxldCB0b3RhbFZhbHVlID0gc3RhdGUuc2NoZWR1bGVMaXN0LnJlZHVjZSgoYSwgYiwgaW5kZXgpID0+IHtcclxuICAgICAgaWYgKGluZGV4ID09PSAxKSByZXR1cm4gTnVtYmVyKGEud29ydGgpICsgTnVtYmVyKGIud29ydGgpO1xyXG4gICAgICByZXR1cm4gTnVtYmVyKGEpICsgTnVtYmVyKGIud29ydGgpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gTnVtYmVyKHRvdGFsVmFsdWUpO1xyXG4gIH0sXHJcbiAgc2NvcmU6IChzdGF0ZSkgPT4ge1xyXG4gICAgaWYgKCFzdGF0ZS5zY2hlZHVsZUxpc3QgfHwgc3RhdGUuc2NoZWR1bGVMaXN0Lmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgaWYgKHN0YXRlLnNjaGVkdWxlTGlzdC5sZW5ndGggPT09IDEpXHJcbiAgICAgIHJldHVybiBOdW1iZXIoc3RhdGUuc2NoZWR1bGVMaXN0WzBdLnByb2Nlc3MpO1xyXG4gICAgbGV0IHNjb3JlID0gc3RhdGUuc2NoZWR1bGVMaXN0LnJlZHVjZSgoYSwgYiwgaW5kZXgpID0+IHtcclxuICAgICAgaWYgKGluZGV4ID09PSAxKSByZXR1cm4gTnVtYmVyKGEucHJvY2VzcykgKyBOdW1iZXIoYi5wcm9jZXNzKTtcclxuICAgICAgcmV0dXJuIE51bWJlcihhKSArIE51bWJlcihiLnByb2Nlc3MpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gTnVtYmVyKHNjb3JlKTtcclxuICB9LFxyXG59O1xyXG5cclxuY29uc3QgbXV0YXRpb25zID0ge1xyXG4gIGluaXRUYXNrKHN0YXRlLCB0YXNrKSB7XHJcbiAgICBzdGF0ZS5zY2hlZHVsZUxpc3QgPSB0YXNrLnNjaGVkdWxlcztcclxuICAgIHN0YXRlLnRhc2tJZCA9IHRhc2sudGFza0lkO1xyXG4gIH0sXHJcbiAgaW5zZXJ0U2NoZWR1bGUoc3RhdGUsIGl0ZW0pIHtcclxuICAgIHN0YXRlLnNjaGVkdWxlTGlzdC5wdXNoKGl0ZW0pO1xyXG4gIH0sXHJcbiAgdXBkYXRlU2NoZWR1bGUoc3RhdGUsIGl0ZW0pIHtcclxuICAgIGxldCBpbmRleCA9IHN0YXRlLnNjaGVkdWxlTGlzdC5maW5kSW5kZXgoKHNjaGVkdWxlKSA9PiB7XHJcbiAgICAgIGlmIChpdGVtLnN1YklkID09PSBzY2hlZHVsZS5zdWJJZCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGlmIChpbmRleCA+PSAwKSB7XHJcbiAgICAgIHN0YXRlLnNjaGVkdWxlTGlzdC5zcGxpY2UoaW5kZXgsIDEsIGl0ZW0pO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgZGVsZXRlU2NoZWR1bGUoc3RhdGUsIGl0ZW0pIHtcclxuICAgIGxldCBpbmRleCA9IHN0YXRlLnNjaGVkdWxlTGlzdC5maW5kSW5kZXgoKHNjaGVkdWxlKSA9PiB7XHJcbiAgICAgIGlmIChpdGVtLnN1YmlkID09PSBzY2hlZHVsZS5zdWJpZCkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHN0YXRlLnNjaGVkdWxlTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gIH0sXHJcbiAgdXBkYXRlQ3VyVXNlcihzdGF0ZSwgdXNlcikge1xyXG4gICAgc3RhdGUuY3VyVXNlciA9IHVzZXI7XHJcbiAgfSxcclxuICB1cGRhdGVDdXJTY2hlZHVsZShzdGF0ZSwgY3VyU2NoZWR1bGUpIHtcclxuICAgIHN0YXRlLmN1clNjaGVkdWxlID0gY3VyU2NoZWR1bGU7XHJcbiAgfSxcclxuICB1cGRhdGVTdWJJZChzdGF0ZSwgc3ViSWQpIHtcclxuICAgIHN0YXRlLnN1YklkID0gc3ViSWQ7XHJcbiAgfSxcclxuICB1cGRhdGVFZGl0aW5nKHN0YXRlLCBib29sKSB7XHJcbiAgICBzdGF0ZS5lZGl0aW5nID0gYm9vbDtcclxuICB9LFxyXG4gIHB1c2hQYXRoQXJyKHN0YXRlLHBhdGgpe1xyXG4gICAgc3RhdGUucGF0aEFycis9YC8ke3BhdGh9YFxyXG4gIH0sXHJcbiAgcG9wUGF0aEFycihzdGF0ZSl7XHJcbiAgICAgIGxldCBwYXRoU3RyPXN0YXRlLnBhdGhBcnIuc3BsaXQoJy8nKTtcclxuICAgICAgcGF0aFN0ci5wb3AoKVxyXG4gICAgICBzdGF0ZS5wYXRoQXJyPXBhdGhTdHIuam9pbignLycpXHJcbiAgfSxcclxuICBzZXRQYWdlTW92ZShzdGF0ZSxtZXRob2Qpe1xyXG4gICAgc3RhdGUucGFnZU1vdmU9bWV0aG9kO1xyXG4gIH1cclxufTtcclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIG5hbWVzcGFjZWQ6IHRydWUsXHJcbiAgc3RhdGUsXHJcbiAgZ2V0dGVycyxcclxuICBtdXRhdGlvbnMsXHJcbn07XHJcbiIsImNvbnN0IHN0YXRlID0gKCkgPT4gKHtcclxuICBjdXJBcmVhOiBudWxsLFxyXG59KTtcclxuXHJcbmNvbnN0IGdldHRlcnMgPSB7XHJcbiAgICBnZXRDdXJBcmVhOihzdGF0ZSk9PntcclxuICAgICAgICByZXR1cm4gc3RhdGUuY3VyQXJlYTtcclxuICAgIH1cclxufTtcclxuXHJcbmNvbnN0IG11dGF0aW9ucyA9IHtcclxuICBzZXRDdXJBcmVhKHN0YXRlLCBpdGVtKSB7XHJcbiAgICBzdGF0ZS5jdXJBcmVhID0gaXRlbTtcclxuICB9LFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIG5hbWVzcGFjZWQ6IHRydWUsXHJcbiAgc3RhdGUsXHJcbiAgZ2V0dGVycyxcclxuICBtdXRhdGlvbnMsXHJcbn07XHJcbiIsImNvbnN0IHN0YXRlID0gKCkgPT4gKHtcclxuICB1c2VySW5mbzoge1xyXG4gICAgdXNlcklkOiAnJyxcclxuICAgIHRva2VuOiAnJ1xyXG4gIH1cclxufSlcclxuXHJcbmNvbnN0IGdldHRlcnMgPSB7XHJcbiAgZ2V0VXNlckluZm86IChzdGF0ZSkgPT4ge1xyXG4gICAgaWYgKHN0YXRlLnVzZXJJbmZvICYmIHN0YXRlLnVzZXJJbmZvLnRva2VuKSB7XHJcbiAgICAgIHJldHVybiBzdGF0ZS51c2VySW5mbztcclxuICAgIH1cclxuICAgIC8vIOiiq+W8uuWItuWIt+aWsO+8jOS7jnN0b3JhZ2XkuK3lj5ZcclxuICAgIGxldCB1c2VySW5mb19zdHIgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlckluZm8nKVxyXG4gICAgaWYgKHVzZXJJbmZvX3N0cikge1xyXG4gICAgICBzdGF0ZS51c2VySW5mbyA9IEpTT04ucGFyc2UodXNlckluZm9fc3RyKVxyXG4gICAgICByZXR1cm4gSlNPTi5wYXJzZSh1c2VySW5mb19zdHIpXHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbn1cclxuXHJcbmNvbnN0IG11dGF0aW9ucyA9IHtcclxuICB1cGRhdGVVc2VySW5mbyhzdGF0ZSwgcGFyYW1zKSB7XHJcbiAgICBjb25zb2xlLmxvZyhwYXJhbXMsICdwYXJhbXMnLCAyNSlcclxuICAgIHN0YXRlLnVzZXJJbmZvID0gcGFyYW1zXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgbmFtZXNwYWNlZDogdHJ1ZSxcclxuICBzdGF0ZSxcclxuICBnZXR0ZXJzLFxyXG4gIG11dGF0aW9uc1xyXG59IiwiaW1wb3J0IFZ1ZXggZnJvbSBcInZ1ZXhcIjtcclxuaW1wb3J0IFZ1ZSBmcm9tIFwidnVlXCI7XHJcbmltcG9ydCB3ZWVrbHkgZnJvbSBcIi4vbW9kdWxlcy93ZWVrbHlcIjtcclxuaW1wb3J0IGVzdGF0ZSBmcm9tIFwiLi9tb2R1bGVzL2VzdGF0ZVwiO1xyXG5pbXBvcnQgcmJhYyBmcm9tIFwiLi9tb2R1bGVzL3JiYWNcIjtcclxuXHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xyXG4gICAgVnVlLnVzZShWdWV4KTtcclxufVxyXG5leHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7XHJcbiAgICBtb2R1bGVzOiB7XHJcbiAgICAgICAgd2Vla2x5LFxyXG4gICAgICAgIGVzdGF0ZSxcclxuICAgICAgICByYmFjXHJcbiAgICB9LFxyXG59KTtcclxuIiwiaW1wb3J0IGF4aW9zIGZyb20gXCJheGlvc1wiO1xyXG5pbXBvcnQgc3RvcmUgZnJvbSAnLi4vc3JjL3N0b3JlL2luZGV4LmpzJztcclxubGV0IHJlcXVlc3QgPSBheGlvcy5jcmVhdGUoe1xyXG4gIHRpbWVvdXQ6IDEwMDAgKiAzMCxcclxuICBoZWFkZXJzOiB7fSxcclxufSk7XHJcbnJlcXVlc3QuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGNvbmZpZyA9PiB7XHJcbiAgbGV0IHVzZXJJbmZvID0gc3RvcmUuZ2V0dGVyc1sncmJhYy9nZXRVc2VySW5mbyddO1xyXG5cclxuICBjb25maWcuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gYCR7KHVzZXJJbmZvICYmIHVzZXJJbmZvLnRva2VuKSB8fCAnJ31gXHJcbiAgcmV0dXJuIGNvbmZpZztcclxufSlcclxuXHJcbnJlcXVlc3QuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShyZXNwb25zZSA9PiB7XHJcbiAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7XHJcbiAgICAvLyDnmbvlvZXlpLHmlYhcclxuICAgIC8vIOa4heeQhnRva2VuXHJcbiAgICAvLyDot6/nlLHph43lrprlkJFcclxuICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuICByZXR1cm4gcmVzcG9uc2U7XHJcbn0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCByZXF1ZXN0O1xyXG4iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24gKCkge3ZhciBfdm09dGhpczt2YXIgX2g9X3ZtLiRjcmVhdGVFbGVtZW50O3ZhciBfYz1fdm0uX3NlbGYuX2N8fF9oO3JldHVybiBfYygnc2VjdGlvbicse3N0YXRpY0NsYXNzOlwiYXJlYS13cmFwcGVyXCJ9LFtfYygnc2VjdGlvbicse3N0YXRpY0NsYXNzOlwiaGVhZGVyXCJ9LFtfYygnc2VjdGlvbicse3N0YXRpY0NsYXNzOlwiaGVhZGVyLWljb25cIixvbjp7XCJjbGlja1wiOl92bS5iYWNrSGFuZGxlcn19LFtfdm0uX3YoXCLov5Tlm55cIildKSxfdm0uX3YoXCJcXG4gICAgICAgICAgXCIrX3ZtLl9zKF92bS5nZXRBcmVhTGFiZWwoKSkrXCJcXG4gICAgICBcIildKSxfdm0uX3YoXCIgXCIpLF9jKCdzZWN0aW9uJyx7c3RhdGljQ2xhc3M6XCJjb250ZW50XCJ9LFsoX3ZtLnRhYnMgJiYgX3ZtLnRhYnMubGVuZ3RoID4gMCk/X2MoJ3NlY3Rpb24nLHtzdGF0aWNDbGFzczpcInRhYnNcIn0sX3ZtLl9sKChfdm0udGFicyksZnVuY3Rpb24odGFiKXtyZXR1cm4gX2MoJ3NlY3Rpb24nLHtrZXk6dGFiLmtleSxzdGF0aWNDbGFzczpcInRhYnMtaXRlbVwiLGNsYXNzOnRhYi5rZXksc3R5bGU6KChcImJhY2tncm91bmQ6XCIgKyAodGFiLmNvbG9yKSkpLG9uOntcImNsaWNrXCI6ZnVuY3Rpb24oJGV2ZW50KXtyZXR1cm4gX3ZtLmNoYW5nZVRhYih0YWIpfX19LFtfdm0uX3YoX3ZtLl9zKHRhYi5sYWJlbCkpXSl9KSwwKTpfdm0uX2UoKSxfdm0uX3YoXCIgXCIpLChfdm0uY3VyVGFiS2V5PT09J2xpc3QnKT9fYygnYXJlYS1idWlsZGluZycse3N0YXRpY0NsYXNzOlwibWFwLWNvblwifSk6X3ZtLl9lKCksX3ZtLl92KFwiIFwiKSwoX3ZtLmN1clRhYktleSA9PT0gJ21hcCcpP19jKCdhcmVhLW1hcCcse3N0YXRpY0NsYXNzOlwibWFwLWNvblwifSk6X3ZtLl9lKCksX3ZtLl92KFwiIFwiKSwoX3ZtLmN1clRhYktleSA9PT0gJ2Fzc2VzcycpP19jKCdhcmVhLWFzc2Vzcycse3N0YXRpY0NsYXNzOlwiYXNzZXNzLWNvbiBjb25cIixhdHRyczp7XCJhc3Nlc3NcIjpfdm0uYXJlYUluZm8uYXNzZXNzfSxvbjp7XCJ1cGRhdGVBcmVhXCI6ZnVuY3Rpb24oJGV2ZW50KXtyZXR1cm4gX3ZtLnNldEN1ckFyZWEoX3ZtLmFyZWFJbmZvKX19fSk6X3ZtLl9lKCldLDEpLF92bS5fdihcIiBcIiksX2MoJ3NlY3Rpb24nLHtzdGF0aWNDbGFzczpcIm1hcC1jb250YWluZXJcIixhdHRyczp7XCJpZFwiOlwibWFwLWNvbnRhaW5lclwifX0pXSl9XG52YXIgc3RhdGljUmVuZGVyRm5zID0gW11cblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9hcmVhLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2FyZWEudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwiPHRlbXBsYXRlPlxyXG4gICAgPHNlY3Rpb24gY2xhc3M9XCJhcmVhLXdyYXBwZXJcIj5cclxuICAgICAgICA8c2VjdGlvbiBjbGFzcz1cImhlYWRlclwiPlxyXG4gICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz1cImhlYWRlci1pY29uXCIgQGNsaWNrPVwiYmFja0hhbmRsZXJcIj7ov5Tlm548L3NlY3Rpb24+XHJcbiAgICAgICAgICAgIHt7IGdldEFyZWFMYWJlbCgpIH19XHJcbiAgICAgICAgPC9zZWN0aW9uPlxyXG4gICAgICAgIDxzZWN0aW9uIGNsYXNzPVwiY29udGVudFwiPlxyXG4gICAgICAgICAgICA8c2VjdGlvbiBjbGFzcz1cInRhYnNcIiB2LWlmPVwidGFicyAmJiB0YWJzLmxlbmd0aCA+IDBcIj5cclxuICAgICAgICAgICAgICAgIDxzZWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0YWJzLWl0ZW1cIlxyXG4gICAgICAgICAgICAgICAgICAgIDpjbGFzcz1cInRhYi5rZXlcIlxyXG4gICAgICAgICAgICAgICAgICAgIHYtZm9yPVwidGFiIGluIHRhYnNcIlxyXG4gICAgICAgICAgICAgICAgICAgIDprZXk9XCJ0YWIua2V5XCJcclxuICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XCJjaGFuZ2VUYWIodGFiKVwiXHJcbiAgICAgICAgICAgICAgICAgICAgOnN0eWxlPVwiYGJhY2tncm91bmQ6JHt0YWIuY29sb3J9YFwiXHJcbiAgICAgICAgICAgICAgICA+e3sgdGFiLmxhYmVsIH19PC9zZWN0aW9uPlxyXG4gICAgICAgICAgICA8L3NlY3Rpb24+XHJcbiAgICAgICAgICAgIDxhcmVhLWJ1aWxkaW5nIGNsYXNzPVwibWFwLWNvblwiIHYtaWY9XCJjdXJUYWJLZXk9PT0nbGlzdCdcIi8+XHJcbiAgICAgICAgICAgIDxhcmVhLW1hcCBjbGFzcz1cIm1hcC1jb25cIiB2LWlmPVwiY3VyVGFiS2V5ID09PSAnbWFwJ1wiLz5cclxuICAgICAgICAgICAgPGFyZWEtYXNzZXNzIGNsYXNzPVwiYXNzZXNzLWNvbiBjb25cIiB2LWlmPVwiY3VyVGFiS2V5ID09PSAnYXNzZXNzJ1wiIDphc3Nlc3M9XCJhcmVhSW5mby5hc3Nlc3NcIiBAdXBkYXRlQXJlYT1cInNldEN1ckFyZWEoYXJlYUluZm8pXCIgLz5cclxuICAgICAgICA8L3NlY3Rpb24+XHJcblxyXG4gICAgICAgIDxzZWN0aW9uIGNsYXNzPVwibWFwLWNvbnRhaW5lclwiIGlkPVwibWFwLWNvbnRhaW5lclwiPjwvc2VjdGlvbj5cclxuICAgICAgPC9zZWN0aW9uPlxyXG4gICAgICA8IS0tIDxzZWN0aW9uIGNsYXNzPVwiYXNzZXNzLWNvbiBjb25cIiB2LXNob3c9XCJjdXJUYWJLZXkgPT09ICdhc3Nlc3MnXCI+XHJcbiAgICAgICAgPGFzc2VzcyA6YXNzZXNzPVwiYXJlYUluZm8uYXNzZXNzXCIgQHVwZGF0ZUFyZWE9XCJzZXRDdXJBcmVhKGFyZWFJbmZvKVwiIC8+XHJcbiAgICAgIDwvc2VjdGlvbj4gLS0+XHJcbiAgICA8L3NlY3Rpb24+XHJcbiAgPC9zZWN0aW9uPlxyXG48L3RlbXBsYXRlPlxyXG48c2NyaXB0PlxyXG5pbXBvcnQgcmVxdWVzdCBmcm9tIFwicmVxdWVzdFwiO1xyXG5pbXBvcnQgeyBtYXBTdGF0ZSwgbWFwTXV0YXRpb25zIH0gZnJvbSBcInZ1ZXhcIjtcclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgY29tcG9uZW50czoge1xyXG4gICAgICAgIGFyZWFNYXA6KCk9PmltcG9ydCgnLi9hcmVhLW1hcC52dWUnKSxcclxuICAgICAgICBhcmVhQXNzZXNzOiAoKSA9PiBpbXBvcnQoXCIuL2FyZWEtYXNzZXNzLnZ1ZVwiKSxcclxuICAgICAgICBhcmVhQnVpbGRpbmc6KCk9PmltcG9ydCgnLi9hcmVhLWJ1aWxkaW5nLnZ1ZScpXHJcbiAgICB9LFxyXG4gICAgZGF0YSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBhcmVhSW5mbzoge30sXHJcbiAgICAgICAgICAgIHRhYnM6IFtcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6IFwibGlzdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIuaJgOacieaIv+mXtFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBcInJnYmEoNDMsIDExNiwgMjE1LCAxKVwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogXCJtYXBcIixcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCLlnLDlm77mn6XnnItcIixcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJyZ2JhKDExNSwgMTYzLCA5LCAxKVwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGtleTogXCJhc3Nlc3NcIixcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCLor4Tku7dcIixcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCJyZ2JhKDI1NCwgMTQ4LCA3MywgMSlcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBjdXJUYWJLZXk6IFwibGlzdFwiLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgbW91bnRlZCgpIHtcclxuICAgICAgICBkb2N1bWVudC50aXRsZSA9IFwi6auY5b63XCI7XHJcbiAgICAgICAgdGhpcy5faW5pdFByZXZQYWdlKCk7XHJcbiAgICB9LFxyXG4gICAgbWV0aG9kczoge1xyXG4gICAgICAgIC4uLm1hcE11dGF0aW9ucyhcImVzdGF0ZVwiLCBbXCJzZXRDdXJBcmVhXCJdKSxcclxuICAgICAgICBfaW5pdFByZXZQYWdlKCkge1xyXG4gICAgICAgICAgICBsZXQgYXJlYUluZm8gPSB0aGlzLiRyb3V0ZS5xdWVyeS5hcmVhSW5mbztcclxuICAgICAgICAgICAgdGhpcy5hcmVhSW5mbyA9IEpTT04ucGFyc2UoYXJlYUluZm8pO1xyXG4gICAgICAgICAgICB0aGlzLnNldEN1ckFyZWEodGhpcy5hcmVhSW5mbyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXRBcmVhTGFiZWwoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFyZWFJbmZvLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGFiZWwgPSB0aGlzLmFyZWFJbmZvLmxhYmVsLnJlcGxhY2UoXHJcbiAgICAgICAgICAgICAgICAgICAgLygmbWlkZG90O3wmbGRxdW87fCZyZHF1bzspL2csXHJcbiAgICAgICAgICAgICAgICAgICAgXCJcIlxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBsYWJlbDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFyZWFJbmZvLmxhYmVsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjaGFuZ2VUYWIodGFiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VyVGFiS2V5ID0gdGFiLmtleTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGJhY2tIYW5kbGVyKCkge1xyXG4gICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuPC9zY3JpcHQ+XHJcbiA8c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+XHJcbnNlY3Rpb24ge1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgbWFyZ2luOiAwO1xyXG4gIHBhZGRpbmc6IDA7XHJcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxufVxyXG4uYXJlYS13cmFwcGVyIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgYmFja2dyb3VuZDogcmdiYSg5LCA0MSwgMTE0LCAwLjk1KTtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbn1cclxuLmhlYWRlciB7XHJcbiAgZmxleC1zaHJpbms6IDE7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIGxpbmUtaGVpZ2h0OiAzMHB4O1xyXG4gIHBhZGRpbmc6IDEwcHggNDBweDtcclxuICBmb250LXNpemU6IDE4cHg7XHJcbiAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICBjb2xvcjogcmdiYSgyNDUsIDI0NSwgMjQ1LCAwLjkpO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAmLWljb24ge1xyXG4gICAgY29sb3I6IHJnYmEoMjQ1LCAyNDUsIDI0NSwgMC45KTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICBjb2xvcjogcmdiYSgyNDUsIDI0NSwgMjQ1LCAwLjkpO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBsZWZ0OiAxMHB4O1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTVweDtcclxuICB9XHJcbn1cclxuLmNvbnRlbnQge1xyXG4gICAgZmxleDogMTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTVweCAxNXB4IDNweCAzcHg7XHJcbnBhZGRpbmc6NXB4O1xyXG4gIGJhY2tncm91bmQ6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC45OCk7XHJcbn1cclxuLnRhYnMge1xyXG4gICAgZmxleC1zaHJpbms6IDE7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XHJcbiAgICBtYXJnaW4tYm90dG9tOjEwcHg7XHJcbiAgICBjb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpO1xyXG4gICAgJi1pdGVtIHtcclxuICAgICAgICBwYWRkaW5nOiAwcHggMTBweDtcclxuICAgICAgICBoZWlnaHQ6IDQ1cHg7XHJcbiAgICAgICAgbGluZS1oZWlnaHQ6IDQ1cHg7XHJcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgICAgIGZsZXg6IDE7XHJcbiAgICB9XHJcbiAgc2VjdGlvbjpmaXJzdC1jaGlsZCB7XHJcbiAgICBib3JkZXItcmFkaXVzOiAyMHB4IDBweCAwcHggMjBweDtcclxuICB9XHJcbiAgc2VjdGlvbjpsYXN0LWNoaWxkIHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDBweCAyMHB4IDIwcHggMHB4O1xyXG4gIH1cclxufVxyXG4gICAgXHJcbjwvc3R5bGU+IFxyXG4iLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2FyZWEudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTY4ZGM1MzBmJnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2FyZWEudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5leHBvcnQgKiBmcm9tIFwiLi9hcmVhLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuaW1wb3J0IHN0eWxlMCBmcm9tIFwiLi9hcmVhLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTY4ZGM1MzBmJmxhbmc9c2NzcyZzY29wZWQ9dHJ1ZSZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiNjhkYzUzMGZcIixcbiAgbnVsbFxuICBcbilcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcz8/cmVmLS00LTAhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vYXJlYS52dWU/dnVlJnR5cGU9c3R5bGUmaW5kZXg9MCZpZD02OGRjNTMwZiZsYW5nPXNjc3Mmc2NvcGVkPXRydWUmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzPz9yZWYtLTQtMCEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvbG9hZGVycy9zdHlsZVBvc3RMb2FkZXIuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9hcmVhLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTY4ZGM1MzBmJmxhbmc9c2NzcyZzY29wZWQ9dHJ1ZSZcIiJdLCJzb3VyY2VSb290IjoiIn0=