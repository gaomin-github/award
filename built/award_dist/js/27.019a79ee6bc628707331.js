(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{130:function(t,e,a){"use strict";a.r(e);var i=a(3),n=a(13);const o="108.8371912900,34.2032353700",r=[610103,610104,610113];var s={data:()=>({gardens:[],driveRoutes:[],mapObj:null,pathObj:null}),computed:{...Object(i.b)("estate",["getCurArea"])},async mounted(){await this._initMapScript(),await this._initMapUi(),await this._initGardens(),this._initDriveRoute(),setTimeout(async()=>{},1e3)},methods:{async _initMapScript(){return new Promise((t,e)=>{window.onLoad=async()=>(this._initMapContainer(),t());let a=document.createElement("script");a.charset="utf-8",a.src="https://webapi.amap.com/maps?v=1.4.15&key=17569efbd54a284b8bd0ce338ae71616&callback=onLoad",document.head.appendChild(a)})},_initMapContainer(){let t=this._initLocation(o),e=this._initLocation(this.getCurArea.location);this.mapObj=new AMap.Map("map-container",{zoom:11,center:[(Number(t[0])+Number(e[0]))/2,(Number(t[1])+Number(e[1]))/2],mapStyle:"amap://styles/light"})},async _initMapUi(){return new Promise((t,e)=>{let a=document.createElement("script");a.charset="utf-8",a.src="https://webapi.amap.com/ui/1.0/main.js?v=1.0.11",document.head.appendChild(a);let i=this;a.onload=()=>{AMapUI.loadUI(["overlay/SimpleMarker"],(function(e){return new e({iconTheme:"default",iconStyle:"orange",map:i.mapObj,position:i._initLocation(o),label:{content:"高新软件园",offset:new AMap.Pixel(-10,-20)}}),new e({iconTheme:"default",iconStyle:"orange",map:i.mapObj,position:i._initLocation(i.getCurArea.location),label:{content:i.getCurArea.label,offset:new AMap.Pixel(-10,-20)}}),t()}))}})},_initGardens(){n.a.get(`/xian/aroundGarden?originLocation=${this.getCurArea.location}`).then(t=>{if(200===t.status&&(this.gardens=t.data,this.gardens&&this.gardens.length>0)){let t=this;AMapUI.loadUI(["overlay/SvgMarker"],(function(e){t.gardens.map((a,i)=>{var n=new e.Shape.Circle({height:16,strokeWidth:1,strokeColor:"#fff",fillColor:"#177261"});n.getCenter();new e(n,{map:t.mapObj,position:t._initLocation(a.location),containerClassNames:"shape-Circle",iconLabel:{innerHTML:i+1,style:{color:"#fff",fontSize:"12px"}}})})}))}})},_initPathLns(){let t=this;AMapUI&&AMapUI.load(["ui/misc/PathSimplifier","lib/$"],(function(e,a){let i=new e({zIndex:100,map:t.mapObj,getPath:(t,e)=>t.path,renderOptions:{renderAllPointsIfNumberBelow:100}});i.setData([{name:"路线0",path:[...t.driveRoutes]}]),i.createPathNavigator(0,{loop:!0,speed:5e3}).start()}))},_initDistrict(){let t=this;AMapUI.load(["ui/geo/DistrictExplorer","lib/$"],(function(e){let a=new e({map:t.mapObj});var i=["#3366cc","#dc3912","#ff9900","#aa9900","#ff1901","#aa0101","red","green"];r.map((t,e)=>{a.loadAreaNode(t,(function(t,n){a.renderSubFeatures(n,(function(t,e){return{cursor:"default",bubble:!0,strokeColor:"blue",strokeOpacity:1,strokeWeight:1,fillColor:"red",fillOpacity:.35}})),a.renderParentFeature(n,{cursor:"default",bubble:!0,strokeColor:null,strokeOpacity:1,strokeWeight:1,fillColor:i[e],fillOpacity:.35})}))})}))},_initDriveRoute(){n.a.get(`/xian/drivingRoute?originLocation=${this.getCurArea.location}&destination=${o}`).then(t=>{200===t.status&&t.data.steps&&t.data.steps.length>0&&(t.data.steps.forEach(t=>{if(t.polyline){this._formatPolyline(t.polyline);this.driveRoutes.push(...this._formatPolyline(t.polyline))}}),this._initPathLns())})},_initLocation:t=>t.split(","),_formatPolyline(t){return t.split(";").map(t=>{let e=this._initLocation(t);return[Number(e[0]),Number(e[1])]})}}},l=(a(98),a(4)),c=Object(l.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"map-wrapper"},[t.gardens&&t.gardens.length>0?a("section",{staticClass:"garden"},t._l(t.gardens,(function(e,i){return a("section",{key:i,staticClass:"garden-item"},[a("section",{staticClass:"garden-item-icon"},[t._v(t._s(i+1))]),t._v(" "),a("section",{staticClass:"garden-item-label"},[t._v("\n        "+t._s(e.name)+",距离"+t._s(e.distance)+"米\n      ")])])})),0):t._e(),t._v(" "),a("section",{staticClass:"map-container",attrs:{id:"map-container"}})])}),[],!1,null,"875214a8",null);e.default=c.exports},33:function(t,e,a){},98:function(t,e,a){"use strict";var i=a(33);a.n(i).a}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYXdhcmRfZGlzdC8yNy42NzU3MGNhMjEyYTU2MjNlY2ZiNi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJwdXNoIiwiMTMwIiwibW9kdWxlIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJyIiwidnVleF9lc20iLCJyZXF1ZXN0IiwiZ3hfbG9jYXRpb24iLCJkaXNwbGF5U3RyaWN0Q29kZSIsInhpYW5fZXN0YXRlX2FyZWFfbWFwdnVlX3R5cGVfc2NyaXB0X2xhbmdfanNfIiwiZGF0YSIsImdhcmRlbnMiLCJkcml2ZVJvdXRlcyIsIm1hcE9iaiIsInBhdGhPYmoiLCJjb21wdXRlZCIsIk9iamVjdCIsIltvYmplY3QgT2JqZWN0XSIsInRoaXMiLCJfaW5pdE1hcFNjcmlwdCIsIl9pbml0TWFwVWkiLCJfaW5pdEdhcmRlbnMiLCJfaW5pdERyaXZlUm91dGUiLCJzZXRUaW1lb3V0IiwiYXN5bmMiLCJtZXRob2RzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJvbkxvYWQiLCJfaW5pdE1hcENvbnRhaW5lciIsIm1hcFNjcmlwdEVsIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2hhcnNldCIsInNyYyIsImhlYWQiLCJhcHBlbmRDaGlsZCIsImd4X2xvY2F0aW9uX251bSIsIl9pbml0TG9jYXRpb24iLCJkZXNfbG9jYXRpb25fbnVtIiwiZ2V0Q3VyQXJlYSIsImxvY2F0aW9uIiwiQU1hcCIsIk1hcCIsInpvb20iLCJjZW50ZXIiLCJOdW1iZXIiLCJtYXBTdHlsZSIsInVpU2NyaXB0RWwiLCJ0aGF0Iiwib25sb2FkIiwiQU1hcFVJIiwibG9hZFVJIiwiU2ltcGxlTWFya2VyIiwiaWNvblRoZW1lIiwiaWNvblN0eWxlIiwibWFwIiwicG9zaXRpb24iLCJsYWJlbCIsImNvbnRlbnQiLCJvZmZzZXQiLCJQaXhlbCIsImdldCIsInRoZW4iLCJyZXMiLCJzdGF0dXMiLCJsZW5ndGgiLCJTdmdNYXJrZXIiLCJnYXJkZW4iLCJpbmRleCIsInNoYXBlIiwiU2hhcGUiLCJoZWlnaHQiLCJzdHJva2VXaWR0aCIsInN0cm9rZUNvbG9yIiwiZmlsbENvbG9yIiwiZ2V0Q2VudGVyIiwiY29udGFpbmVyQ2xhc3NOYW1lcyIsImljb25MYWJlbCIsImlubmVySFRNTCIsInN0eWxlIiwiY29sb3IiLCJmb250U2l6ZSIsImxvYWQiLCJQYXRoU2ltcGxpZmllciIsIiQiLCJ6SW5kZXgiLCJnZXRQYXRoIiwicGF0aERhdGEiLCJwYXRoSW5kZXgiLCJwYXRoIiwicmVuZGVyT3B0aW9ucyIsInJlbmRlckFsbFBvaW50c0lmTnVtYmVyQmVsb3ciLCJzZXREYXRhIiwibmFtZSIsImNyZWF0ZVBhdGhOYXZpZ2F0b3IiLCJsb29wIiwic3BlZWQiLCJzdGFydCIsIkRpc3RyaWN0RXhwbG9yZXIiLCJkaXN0cmljdEV4cGxvcmVyIiwiY29sb3JzIiwiY29kZSIsImxvYWRBcmVhTm9kZSIsImVycm9yIiwiYXJlYU5vZGUiLCJyZW5kZXJTdWJGZWF0dXJlcyIsImZlYXR1cmUiLCJpIiwiY3Vyc29yIiwiYnViYmxlIiwic3Ryb2tlT3BhY2l0eSIsInN0cm9rZVdlaWdodCIsImZpbGxPcGFjaXR5IiwicmVuZGVyUGFyZW50RmVhdHVyZSIsInN0ZXBzIiwiZm9yRWFjaCIsInN0ZXAiLCJwb2x5bGluZSIsIl9mb3JtYXRQb2x5bGluZSIsIl9pbml0UGF0aExucyIsImxvY2F0aW9uU3RyIiwic3BsaXQiLCJsb2NhdGlvbkl0ZW0iLCJjb21wb25lbnROb3JtYWxpemVyIiwiY29tcG9uZW50IiwiX3ZtIiwiX2giLCIkY3JlYXRlRWxlbWVudCIsIl9jIiwiX3NlbGYiLCJzdGF0aWNDbGFzcyIsIl9sIiwia2V5IiwiX3YiLCJfcyIsImRpc3RhbmNlIiwiX2UiLCJhdHRycyIsImlkIiwiMzMiLCJleHBvcnRzIiwiOTgiLCJfbm9kZV9tb2R1bGVzX21pbmlfY3NzX2V4dHJhY3RfcGx1Z2luX2Rpc3RfbG9hZGVyX2pzX3JlZl8zXzBfbm9kZV9tb2R1bGVzX2Nzc19sb2FkZXJfZGlzdF9janNfanNfbm9kZV9tb2R1bGVzX3Z1ZV9sb2FkZXJfbGliX2xvYWRlcnNfc3R5bGVQb3N0TG9hZGVyX2pzX25vZGVfbW9kdWxlc19wb3N0Y3NzX2xvYWRlcl9zcmNfaW5kZXhfanNfbm9kZV9tb2R1bGVzX3Nhc3NfbG9hZGVyX2Rpc3RfY2pzX2pzX25vZGVfbW9kdWxlc192dWVfbG9hZGVyX2xpYl9pbmRleF9qc192dWVfbG9hZGVyX29wdGlvbnNfYXJlYV9tYXBfdnVlX3Z1ZV90eXBlX3N0eWxlX2luZGV4XzBfaWRfODc1MjE0YThfbGFuZ19zY3NzX3Njb3BlZF90cnVlX19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwibiJdLCJtYXBwaW5ncyI6IkNBQUNBLE9BQXFCLGFBQUlBLE9BQXFCLGNBQUssSUFBSUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUU3REMsSUFDQSxTQUFVQyxFQUFRQyxFQUFxQkMsR0FFN0MsYUFDQUEsRUFBb0JDLEVBQUVGLEdBR3RCLElBT0lHLEVBQVdGLEVBQW9CLEdBRy9CRyxFQUFVSCxFQUFvQixJQWtCbEMsTUFDTUksRUFBYywrQkFFZEMsRUFBb0IsQ0FBQyxPQUFRLE9BQVEsUUFJZCxJQXNQS0MsRUF0UGtDLENBQ2xFQyxLQUFJLEtBQ0ssQ0FDTEMsUUFBUyxHQUNUQyxZQUFhLEdBQ2JDLE9BQVEsS0FDUkMsUUFBUyxPQUliQyxTQUFVLElBQUtDLE9BQU9YLEVBQTZCLEVBQXBDVyxDQUF1QyxTQUFVLENBQUMsZ0JBR2pFQyxzQkFDUUMsS0FBS0MsdUJBQ0xELEtBQUtFLG1CQUVMRixLQUFLRyxlQUVYSCxLQUFLSSxrQkFFTEMsV0FBV0MsWUFBZ0IsTUFHN0JDLFFBQVMsQ0FDUFIsdUJBQ0UsT0FBTyxJQUFJUyxRQUFRLENBQUNDLEVBQVNDLEtBQzNCOUIsT0FBTytCLE9BQVNMLFVBQ2ROLEtBQUtZLG9CQUVFSCxLQUdULElBQUlJLEVBQWNDLFNBQVNDLGNBQWMsVUFDekNGLEVBQVlHLFFBQVUsUUFDdEJILEVBQVlJLElBQU0s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RyxFQUFHRCxFQUFJRSxlQUFtQkMsRUFBR0gsRUFBSUksTUFBTUQsSUFBSUYsRUFBRyxPQUFPRSxFQUFHLE1BQU0sQ0FBQ0UsWUFBWSxlQUFlLENBQUVMLEVBQUlwSCxTQUFXb0gsRUFBSXBILFFBQVF3RCxPQUFTLEVBQUcrRCxFQUFHLFVBQVUsQ0FBQ0UsWUFBWSxVQUFVTCxFQUFJTSxHQUFJTixFQUFXLFNBQUUsU0FBUzFELEVBQU9pRSxHQUFLLE9BQU9KLEVBQUcsVUFBVSxDQUFDSSxJQUFJQSxFQUFJRixZQUFZLGVBQWUsQ0FBQ0YsRUFBRyxVQUFVLENBQUNFLFlBQVksb0JBQW9CLENBQUNMLEVBQUlRLEdBQUdSLEVBQUlTLEdBQUdGLEVBQU0sTUFBTVAsRUFBSVEsR0FBRyxLQUFLTCxFQUFHLFVBQVUsQ0FBQ0UsWUFBWSxxQkFBcUIsQ0FBQ0wsRUFBSVEsR0FBRyxhQUFhUixFQUFJUyxHQUFHbkUsRUFBTzBCLE1BQU0sTUFBTWdDLEVBQUlTLEdBQUduRSxFQUFPb0UsVUFBVSxvQkFBbUIsR0FBR1YsRUFBSVcsS0FBS1gsRUFBSVEsR0FBRyxLQUFLTCxFQUFHLFVBQVUsQ0FBQ0UsWUFBWSxnQkFBZ0JPLE1BQU0sQ0FBQ0MsR0FBSyx1QkFDM2tCLElBNFNwQixFQUNBLEtBQ0EsV0FDQSxNQUkwQzFJLEVBQTZCLFFBQUs0SCxFQUFpQixTQUl6RmUsR0FDQSxTQUFVNUksRUFBUTZJLEVBQVMzSSxLQU0zQjRJLEdBQ0EsU0FBVTlJLEVBQVFDLEVBQXFCQyxHQUU3QyxhQUNxQixJQUFJNkksRUFBb1k3SSxFQUFvQixJQUNDQSxFQUFvQjhJLEVBQUVELEdBRWMiLCJmaWxlIjoiYXdhcmRfZGlzdC9qcy8yNy4wMTlhNzllZTZiYzYyODcwNzMzMS5qcyIsInNvdXJjZVJvb3QiOiIifQ==