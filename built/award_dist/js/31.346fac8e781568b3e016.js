(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{127:function(e,t,r){"use strict";r.r(t);var i=r(48),s=r(69),n=r.n(s),a={data:()=>({scene:null,camera:null,renderer:null,fogNum:.01,geometry:null,particle:null,particles:[],group:null,clock:null,newMesh:null,meshes:[],dir:1}),mounted(){document.title="obj loader",this._initScene(),this._getObjData()},methods:{_initScene(){this.camera=new i.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,5e4),this.camera.position.set(100,100,800),this.scene=new i.Scene,this.scene.add(new i.AxisHelper(55)),this.clock=new i.Clock,this.renderer=new i.WebGLRenderer({antialias:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.$refs.renderDom.appendChild(this.renderer.domElement)},_initCube(){let e=new i.BoxBufferGeometry(1,1,1),t=new i.MeshBasicMaterial({color:65280}),r=new i.Mesh(e,t);this.scene.add(r)},_getObjData(){n()(i),(new i.OBJLoader).load("male02.obj",e=>{this.group=new i.Group,this.scene.add(this.group);let t=null;for(let r=0;r<e.children.length;r++){let s=e.children[r].geometry;s.attributes.position.setUsage(i.DynamicDrawUsage);let n=s.attributes.position;s.setAttribute("initPosition",n.clone());for(let e=0;e<n.count;e++)n.setXYZ(e,0,0,0);t=new i.Points(s,new i.PointsMaterial({size:3,color:16777215})),t.position.x=30,t.position.y=0,t.position.z=30,this.group.add(t),this.meshes.push(t)}this._renderAnimate()})},_renderAnimate(){this.fogNum>0?this.fogNum-=1e-4:this.fogNum<.5&&(this.fogNum+=1e-4),this.scene.fog=new i.FogExp2("#fff",this.fogNum),this.group.rotation.y-=.002;let e=0,t=0;for(let e=0;e<this.meshes.length;e++){t+=this.meshes[e].geometry.attributes.position.count}let r=100*this.clock.getDelta();for(let i=0;i<this.meshes.length;i++){let s=this.meshes[i],n=s.geometry.attributes.position,a=s.geometry.attributes.initPosition;for(let s=0;s<n.count;s++){let o=n.getX(s),h=n.getY(s),l=n.getZ(s);if(this.dir>0){let i=a.getX(s),d=a.getY(s),u=a.getZ(s),c=Math.abs(o-i),p=Math.abs(h-d),m=Math.abs(l-u);c+p+m>1?n.setXYZ(s,o+(i-o)/c*r*Math.random(),h+(d-h)/p*r*Math.random(),l+(u-l)/m*r*Math.random()):e++,e===t&&(this.dir=-1)}else{if(h>.1){a.getY(i);n.setXYZ(s,o+(.5-Math.random())*r,h+(.25-Math.random())*r,l+(.5-Math.random())*r)}else e++;e===t&&(this.dir=1)}}n.needsUpdate=!0}this.renderer.render(this.scene,this.camera),requestAnimationFrame(this._renderAnimate)}}},o=r(1),h=Object(o.a)(a,(function(){var e=this.$createElement;return(this._self._c||e)("section",{ref:"renderDom"})}),[],!1,null,"02c81d94",null);t.default=h.exports},69:function(e,t,r){"use strict";function i(e){throw new Error(e)}e.exports=function(e){e.OBJLoader=function(t){this.manager=void 0!==t?t:e.DefaultLoadingManager,this.materials=null,this.regexp={vertex_pattern:/^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,normal_pattern:/^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,uv_pattern:/^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}},e.OBJLoader.prototype={constructor:e.OBJLoader,load:function(t,r,s,n){var a=this;this.onError=n||i;var o=new e.FileLoader(a.manager);o.setPath(this.path),o.load(t,(function(e){r(a.parse(e))}),s,n)},setPath:function(e){this.path=e},setMaterials:function(e){this.materials=e},_createParserState:function(){var e={objects:[],object:{},vertices:[],normals:[],uvs:[],materialLibraries:[],startObject:function(e,t){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=e,void(this.object.fromDeclaration=!1!==t);var r=this.object&&"function"==typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:!1!==t,geometry:{vertices:[],normals:[],uvs:[]},materials:[],smooth:!0,startMaterial:function(e,t){var r=this._finalize(!1);r&&(r.inherited||r.groupCount<=0)&&this.materials.splice(r.index,1);var i={index:this.materials.length,name:e||"",mtllib:Array.isArray(t)&&t.length>0?t[t.length-1]:"",smooth:void 0!==r?r.smooth:this.smooth,groupStart:void 0!==r?r.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(e){var t={index:"number"==typeof e?e:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return t.clone=this.clone.bind(t),t}};return this.materials.push(i),i},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(e){var t=this.currentMaterial();if(t&&-1===t.groupEnd&&(t.groupEnd=this.geometry.vertices.length/3,t.groupCount=t.groupEnd-t.groupStart,t.inherited=!1),e&&this.materials.length>1)for(var r=this.materials.length-1;r>=0;r--)this.materials[r].groupCount<=0&&this.materials.splice(r,1);return e&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),t}},r&&r.name&&"function"==typeof r.clone){var i=r.clone(0);i.inherited=!0,this.object.materials.push(i)}this.objects.push(this.object)},finalize:function(){this.object&&"function"==typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(e,t){var r=parseInt(e,10);return 3*(r>=0?r-1:r+t/3)},parseNormalIndex:function(e,t){var r=parseInt(e,10);return 3*(r>=0?r-1:r+t/3)},parseUVIndex:function(e,t){var r=parseInt(e,10);return 2*(r>=0?r-1:r+t/2)},addVertex:function(e,t,r){var i=this.vertices,s=this.object.geometry.vertices;s.push(i[e+0]),s.push(i[e+1]),s.push(i[e+2]),s.push(i[t+0]),s.push(i[t+1]),s.push(i[t+2]),s.push(i[r+0]),s.push(i[r+1]),s.push(i[r+2])},addVertexLine:function(e){var t=this.vertices,r=this.object.geometry.vertices;r.push(t[e+0]),r.push(t[e+1]),r.push(t[e+2])},addNormal:function(e,t,r){var i=this.normals,s=this.object.geometry.normals;s.push(i[e+0]),s.push(i[e+1]),s.push(i[e+2]),s.push(i[t+0]),s.push(i[t+1]),s.push(i[t+2]),s.push(i[r+0]),s.push(i[r+1]),s.push(i[r+2])},addUV:function(e,t,r){var i=this.uvs,s=this.object.geometry.uvs;s.push(i[e+0]),s.push(i[e+1]),s.push(i[t+0]),s.push(i[t+1]),s.push(i[r+0]),s.push(i[r+1])},addUVLine:function(e){var t=this.uvs,r=this.object.geometry.uvs;r.push(t[e+0]),r.push(t[e+1])},addFace:function(e,t,r,i,s,n,a,o,h,l,d,u){var c,p=this.vertices.length,m=this.parseVertexIndex(e,p),f=this.parseVertexIndex(t,p),g=this.parseVertexIndex(r,p);if(void 0===i?this.addVertex(m,f,g):(c=this.parseVertexIndex(i,p),this.addVertex(m,f,c),this.addVertex(f,g,c)),void 0!==s){var v=this.uvs.length;m=this.parseUVIndex(s,v),f=this.parseUVIndex(n,v),g=this.parseUVIndex(a,v),void 0===i?this.addUV(m,f,g):(c=this.parseUVIndex(o,v),this.addUV(m,f,c),this.addUV(f,g,c))}if(void 0!==h){var b=this.normals.length;m=this.parseNormalIndex(h,b),f=h===l?m:this.parseNormalIndex(l,b),g=h===d?m:this.parseNormalIndex(d,b),void 0===i?this.addNormal(m,f,g):(c=this.parseNormalIndex(u,b),this.addNormal(m,f,c),this.addNormal(f,g,c))}},addLineGeometry:function(e,t){this.object.geometry.type="Line";for(var r=this.vertices.length,i=this.uvs.length,s=0,n=e.length;s<n;s++)this.addVertexLine(this.parseVertexIndex(e[s],r));var a=0;for(n=t.length;a<n;a++)this.addUVLine(this.parseUVIndex(t[a],i))}};return e.startObject("",!1),e},parse:function(t,r){void 0===r&&(r=!0),r&&console.time("OBJLoader");var i=this._createParserState();-1!==t.indexOf("\r\n")&&(t=t.replace(/\r\n/g,"\n")),-1!==t.indexOf("\\\n")&&(t=t.replace(/\\\n/g,""));for(var s=t.split("\n"),n="",a="",o="",h=[],l="function"==typeof"".trimLeft,d=0,u=s.length;d<u;d++)if(n=s[d],0!==(n=l?n.trimLeft():n.trim()).length&&"#"!==(a=n.charAt(0)))if("v"===a)" "===(o=n.charAt(1))&&null!==(h=this.regexp.vertex_pattern.exec(n))?i.vertices.push(parseFloat(h[1]),parseFloat(h[2]),parseFloat(h[3])):"n"===o&&null!==(h=this.regexp.normal_pattern.exec(n))?i.normals.push(parseFloat(h[1]),parseFloat(h[2]),parseFloat(h[3])):"t"===o&&null!==(h=this.regexp.uv_pattern.exec(n))?i.uvs.push(parseFloat(h[1]),parseFloat(h[2])):this.onError("Unexpected vertex/normal/uv line: '"+n+"'");else if("f"===a)null!==(h=this.regexp.face_vertex_uv_normal.exec(n))?i.addFace(h[1],h[4],h[7],h[10],h[2],h[5],h[8],h[11],h[3],h[6],h[9],h[12]):null!==(h=this.regexp.face_vertex_uv.exec(n))?i.addFace(h[1],h[3],h[5],h[7],h[2],h[4],h[6],h[8]):null!==(h=this.regexp.face_vertex_normal.exec(n))?i.addFace(h[1],h[3],h[5],h[7],void 0,void 0,void 0,void 0,h[2],h[4],h[6],h[8]):null!==(h=this.regexp.face_vertex.exec(n))?i.addFace(h[1],h[2],h[3],h[4]):this.onError("Unexpected face line: '"+n+"'");else if("l"===a){var c=n.substring(1).trim().split(" "),p=[],m=[];if(-1===n.indexOf("/"))p=c;else for(var f=0,g=c.length;f<g;f++){var v=c[f].split("/");""!==v[0]&&p.push(v[0]),""!==v[1]&&m.push(v[1])}i.addLineGeometry(p,m)}else if(null!==(h=this.regexp.object_pattern.exec(n))){var b=(" "+h[0].substr(1).trim()).substr(1);i.startObject(b)}else if(this.regexp.material_use_pattern.test(n))i.object.startMaterial(n.substring(7).trim(),i.materialLibraries);else if(this.regexp.material_library_pattern.test(n))i.materialLibraries.push(n.substring(7).trim());else if(null!==(h=this.regexp.smoothing_pattern.exec(n))){var x=h[1].trim().toLowerCase();i.object.smooth="1"===x||"on"===x,(U=i.object.currentMaterial())&&(U.smooth=i.object.smooth)}else{if("\0"===n)continue;this.onError("Unexpected line: '"+n+"'")}i.finalize();var _=new e.Group;_.materialLibraries=[].concat(i.materialLibraries);for(d=0,u=i.objects.length;d<u;d++){var w=i.objects[d],j=w.geometry,y=w.materials,M="Line"===j.type;if(0!==j.vertices.length){var L=new e.BufferGeometry;L.addAttribute("position",new e.BufferAttribute(new Float32Array(j.vertices),3)),j.normals.length>0?L.addAttribute("normal",new e.BufferAttribute(new Float32Array(j.normals),3)):L.computeVertexNormals(),j.uvs.length>0&&L.addAttribute("uv",new e.BufferAttribute(new Float32Array(j.uvs),2));for(var V,E=[],F=0,I=y.length;F<I;F++){var A=y[F],U=void 0;if(null!==this.materials&&(U=this.materials.create(A.name),M&&U&&!(U instanceof e.LineBasicMaterial))){var B=new e.LineBasicMaterial;B.copy(U),U=B}U||((U=M?new e.LineBasicMaterial:new e.MeshPhongMaterial).name=A.name),U.shading=A.smooth?e.SmoothShading:e.FlatShading,E.push(U)}if(E.length>1){for(F=0,I=y.length;F<I;F++){A=y[F];L.addGroup(A.groupStart,A.groupCount,F)}var N=new e.MultiMaterial(E);V=M?new e.LineSegments(L,N):new e.Mesh(L,N)}else V=M?new e.LineSegments(L,E[0]):new e.Mesh(L,E[0]);V.name=w.name,_.add(V)}}return r&&console.timeEnd("OBJLoader"),_}}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvZ3JhbnVsZXMvaW5kZXgudnVlP2FlNTAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYW51bGVzL2luZGV4LnZ1ZT8wMmIyIiwid2VicGFjazovLy9zcmMvZ3JhbnVsZXMvaW5kZXgudnVlIiwid2VicGFjazovLy8uL3NyYy9ncmFudWxlcy9pbmRleC52dWUiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3RocmVlLW9iai1sb2FkZXIvZGlzdC9pbmRleC5qcyJdLCJuYW1lcyI6WyJkYXRhIiwic2NlbmUiLCJjYW1lcmEiLCJyZW5kZXJlciIsImZvZ051bSIsImdlb21ldHJ5IiwicGFydGljbGUiLCJwYXJ0aWNsZXMiLCJncm91cCIsImNsb2NrIiwibmV3TWVzaCIsIm1lc2hlcyIsImRpciIsImRvY3VtZW50IiwidGl0bGUiLCJ0aGlzIiwiX2luaXRTY2VuZSIsIl9nZXRPYmpEYXRhIiwibWV0aG9kcyIsInBvc2l0aW9uIiwic2V0IiwiYWRkIiwic2V0U2l6ZSIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsIiRyZWZzIiwicmVuZGVyRG9tIiwiYXBwZW5kQ2hpbGQiLCJkb21FbGVtZW50IiwiY3ViZSIsIm1hdGVyaWFsQ3ViZSIsImN1YmVNZXNoIiwibG9hZCIsIm1vZHVsZSIsIm1lc2giLCJpIiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJhdHRyaWJ1dGVzIiwic2V0VXNhZ2UiLCJwb3NpdGlvbnMiLCJzZXRBdHRyaWJ1dGUiLCJjbG9uZSIsImoiLCJjb3VudCIsInNldFhZWiIsIngiLCJ5IiwieiIsInB1c2giLCJfcmVuZGVyQW5pbWF0ZSIsImZvZyIsInJvdGF0aW9uIiwidmVydGljYWxDb3VudCIsImFsbFBvaW50Q291bnQiLCJkZWx0YSIsImdldERlbHRhIiwibWVzaFBvc2l0aW9ucyIsImluaXRNZXNoUG9zaXRpb25zIiwiaW5pdFBvc2l0aW9uIiwicHgiLCJnZXRYIiwicHkiLCJnZXRZIiwicHoiLCJnZXRaIiwiaXgiLCJpeSIsIml6IiwiZHgiLCJNYXRoIiwiYWJzIiwiZHkiLCJkeiIsIm5lZWRzVXBkYXRlIiwicmVuZGVyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY29tcG9uZW50IiwiX2giLCIkY3JlYXRlRWxlbWVudCIsIl9zZWxmIiwiX2MiLCJyZWYiLCJkZWZhdWx0T25FcnJvciIsImVyciIsIkVycm9yIiwiZXhwb3J0cyIsIlRIUkVFIiwiT0JKTG9hZGVyIiwibWFuYWdlciIsInVuZGVmaW5lZCIsIkRlZmF1bHRMb2FkaW5nTWFuYWdlciIsIm1hdGVyaWFscyIsInJlZ2V4cCIsInZlcnRleF9wYXR0ZXJuIiwibm9ybWFsX3BhdHRlcm4iLCJ1dl9wYXR0ZXJuIiwiZmFjZV92ZXJ0ZXgiLCJmYWNlX3ZlcnRleF91diIsImZhY2VfdmVydGV4X3V2X25vcm1hbCIsImZhY2VfdmVydGV4X25vcm1hbCIsIm9iamVjdF9wYXR0ZXJuIiwic21vb3RoaW5nX3BhdHRlcm4iLCJtYXRlcmlhbF9saWJyYXJ5X3BhdHRlcm4iLCJtYXRlcmlhbF91c2VfcGF0dGVybiIsInByb3RvdHlwZSIsImNvbnN0cnVjdG9yIiwidXJsIiwib25Mb2FkIiwib25Qcm9ncmVzcyIsIm9uRXJyb3IiLCJzY29wZSIsImxvYWRlciIsIkZpbGVMb2FkZXIiLCJzZXRQYXRoIiwicGF0aCIsInRleHQiLCJwYXJzZSIsInZhbHVlIiwic2V0TWF0ZXJpYWxzIiwiX2NyZWF0ZVBhcnNlclN0YXRlIiwic3RhdGUiLCJvYmplY3RzIiwib2JqZWN0IiwidmVydGljZXMiLCJub3JtYWxzIiwidXZzIiwibWF0ZXJpYWxMaWJyYXJpZXMiLCJzdGFydE9iamVjdCIsIm5hbWUiLCJmcm9tRGVjbGFyYXRpb24iLCJwcmV2aW91c01hdGVyaWFsIiwiY3VycmVudE1hdGVyaWFsIiwiX2ZpbmFsaXplIiwic21vb3RoIiwic3RhcnRNYXRlcmlhbCIsImxpYnJhcmllcyIsInByZXZpb3VzIiwiaW5oZXJpdGVkIiwiZ3JvdXBDb3VudCIsInNwbGljZSIsImluZGV4IiwibWF0ZXJpYWwiLCJtdGxsaWIiLCJBcnJheSIsImlzQXJyYXkiLCJncm91cFN0YXJ0IiwiZ3JvdXBFbmQiLCJjbG9uZWQiLCJiaW5kIiwiZW5kIiwibGFzdE11bHRpTWF0ZXJpYWwiLCJtaSIsImRlY2xhcmVkIiwiZmluYWxpemUiLCJwYXJzZVZlcnRleEluZGV4IiwibGVuIiwicGFyc2VJbnQiLCJwYXJzZU5vcm1hbEluZGV4IiwicGFyc2VVVkluZGV4IiwiYWRkVmVydGV4IiwiYSIsImIiLCJjIiwic3JjIiwiZHN0IiwiYWRkVmVydGV4TGluZSIsImFkZE5vcm1hbCIsImFkZFVWIiwiYWRkVVZMaW5lIiwiYWRkRmFjZSIsImQiLCJ1YSIsInViIiwidWMiLCJ1ZCIsIm5hIiwibmIiLCJuYyIsIm5kIiwiaWQiLCJ2TGVuIiwiaWEiLCJpYiIsImljIiwidXZMZW4iLCJuTGVuIiwiYWRkTGluZUdlb21ldHJ5IiwidHlwZSIsInZpIiwibCIsInV2aSIsImRlYnVnIiwiY29uc29sZSIsInRpbWUiLCJpbmRleE9mIiwicmVwbGFjZSIsImxpbmVzIiwic3BsaXQiLCJsaW5lIiwibGluZUZpcnN0Q2hhciIsImxpbmVTZWNvbmRDaGFyIiwicmVzdWx0IiwidHJpbUxlZnQiLCJ0cmltIiwiY2hhckF0IiwiZXhlYyIsInBhcnNlRmxvYXQiLCJsaW5lUGFydHMiLCJzdWJzdHJpbmciLCJsaW5lVmVydGljZXMiLCJsaW5lVVZzIiwibGkiLCJsbGVuIiwicGFydHMiLCJzdWJzdHIiLCJ0ZXN0IiwidG9Mb3dlckNhc2UiLCJjb250YWluZXIiLCJHcm91cCIsImNvbmNhdCIsImlzTGluZSIsImJ1ZmZlcmdlb21ldHJ5IiwiQnVmZmVyR2VvbWV0cnkiLCJhZGRBdHRyaWJ1dGUiLCJCdWZmZXJBdHRyaWJ1dGUiLCJGbG9hdDMyQXJyYXkiLCJjb21wdXRlVmVydGV4Tm9ybWFscyIsImNyZWF0ZWRNYXRlcmlhbHMiLCJtaUxlbiIsInNvdXJjZU1hdGVyaWFsIiwiY3JlYXRlIiwiTGluZUJhc2ljTWF0ZXJpYWwiLCJtYXRlcmlhbExpbmUiLCJjb3B5IiwiTWVzaFBob25nTWF0ZXJpYWwiLCJzaGFkaW5nIiwiU21vb3RoU2hhZGluZyIsIkZsYXRTaGFkaW5nIiwiYWRkR3JvdXAiLCJtdWx0aU1hdGVyaWFsIiwiTXVsdGlNYXRlcmlhbCIsIkxpbmVTZWdtZW50cyIsIk1lc2giLCJ0aW1lRW5kIl0sIm1hcHBpbmdzIjoia0dBQUEsSSx5QkNBcUwsRUNNckwsQ0FDRUEsS0FBSSxLQUNLLENBQ0xDLE1BQU8sS0FDUEMsT0FBUSxLQUNSQyxTQUFVLEtBQ1ZDLE9BQVEsSUFDUkMsU0FBVSxLQUNWQyxTQUFVLEtBQ1ZDLFVBQVcsR0FDWEMsTUFBTyxLQUNQQyxNQUFPLEtBQ1BDLFFBQVMsS0FDVEMsT0FBUSxHQUNSQyxJQUFLLElBR1QsVUFDRUMsU0FBU0MsTUFBUSxhQUNqQkMsS0FBS0MsYUFFTEQsS0FBS0UsZUFHUEMsUUFBUyxDQUNQLGFBRUVILEtBQUtiLE9BQVMsSUFBSSxFQUF4QixrQkFDQSxHQUNBLHFDQUNBLEVBQ0EsS0FFTWEsS0FBS2IsT0FBT2lCLFNBQVNDLElBQUksSUFBSyxJQUFLLEtBRW5DTCxLQUFLZCxNQUFRLElBQUksRUFBdkIsTUFDTWMsS0FBS2QsTUFBTW9CLElBQUksSUFBSSxFQUF6QixnQkFNTU4sS0FBS04sTUFBUSxJQUFJLEVBQXZCLE1BRU1NLEtBQUtaLFNBQVcsSUFBSSxFQUExQiw4QkFDTVksS0FBS1osU0FBU21CLFFBQVFDLE9BQU9DLFdBQVlELE9BQU9FLGFBQ25DVixLQUFLVyxNQUFNQyxVQUNqQkMsWUFBWWIsS0FBS1osU0FBUzBCLGFBRW5DLFlBQ0UsSUFBSUMsRUFBTyxJQUFJLEVBQXJCLHlCQUNVQyxFQUFlLElBQUksRUFBN0IsaUNBQ1VDLEVBQVcsSUFBSSxFQUF6QixVQUNNakIsS0FBS2QsTUFBTW9CLElBQUlXLElBRWpCLGNBQ0UsSUFBTixJQUNtQixJQUFJLEVBQXZCLFdBQ2FDLEtBQUssYUFBY0MsSUFDeEJuQixLQUFLUCxNQUFRLElBQUksRUFBekIsTUFDUU8sS0FBS2QsTUFB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RCxRQUFRLGFBR1gxQiIsImZpbGUiOiJhd2FyZF9kaXN0L2pzLzMxLjM0NmZhYzhlNzgxNTY4YjNlMDE2LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ3NlY3Rpb24nLHtyZWY6XCJyZW5kZXJEb21cIn0pfVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uL25vZGVfbW9kdWxlcy9iYWJlbC1sb2FkZXIvbGliL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vaW5kZXgudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwiPHRlbXBsYXRlPlxyXG4gIDxzZWN0aW9uIHJlZj1cInJlbmRlckRvbVwiPjwvc2VjdGlvbj5cclxuPC90ZW1wbGF0ZT5cclxuPHNjcmlwdD5cclxuaW1wb3J0ICogYXMgVGhyZWUgZnJvbSBcInRocmVlXCI7XHJcbmltcG9ydCBPQkpMb2FkZXIgZnJvbSBcInRocmVlLW9iai1sb2FkZXJcIjtcclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGRhdGEoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzY2VuZTogbnVsbCxcclxuICAgICAgY2FtZXJhOiBudWxsLFxyXG4gICAgICByZW5kZXJlcjogbnVsbCxcclxuICAgICAgZm9nTnVtOiAwLjAxLFxyXG4gICAgICBnZW9tZXRyeTogbnVsbCxcclxuICAgICAgcGFydGljbGU6IG51bGwsXHJcbiAgICAgIHBhcnRpY2xlczogW10sXHJcbiAgICAgIGdyb3VwOiBudWxsLFxyXG4gICAgICBjbG9jazogbnVsbCxcclxuICAgICAgbmV3TWVzaDogbnVsbCxcclxuICAgICAgbWVzaGVzOiBbXSxcclxuICAgICAgZGlyOiAxIC8v5ZCR5LiKXHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgbW91bnRlZCgpIHtcclxuICAgIGRvY3VtZW50LnRpdGxlID0gXCJvYmogbG9hZGVyXCI7XHJcbiAgICB0aGlzLl9pbml0U2NlbmUoKTtcclxuICAgIC8vIHRoaXMuX2luaXRDdWJlKCk7XHJcbiAgICB0aGlzLl9nZXRPYmpEYXRhKCk7XHJcbiAgICAvLyB0aGlzLl9yZW5kZXJBbmltYXRlKCk7XHJcbiAgfSxcclxuICBtZXRob2RzOiB7XHJcbiAgICBfaW5pdFNjZW5lKCkge1xyXG4gICAgICAvLyAgIOebuOaculxyXG4gICAgICB0aGlzLmNhbWVyYSA9IG5ldyBUaHJlZS5QZXJzcGVjdGl2ZUNhbWVyYShcclxuICAgICAgICA0NSxcclxuICAgICAgICB3aW5kb3cuaW5uZXJXaWR0aCAvIHdpbmRvdy5pbm5lckhlaWdodCxcclxuICAgICAgICAxLFxyXG4gICAgICAgIDUwMDAwXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnNldCgxMDAsIDEwMCwgODAwKTtcclxuICAgICAgLy8gICDlnLrmma9cclxuICAgICAgdGhpcy5zY2VuZSA9IG5ldyBUaHJlZS5TY2VuZSgpO1xyXG4gICAgICB0aGlzLnNjZW5lLmFkZChuZXcgVGhyZWUuQXhpc0hlbHBlcig1NSkpO1xyXG5cclxuICAgICAgLy8gICBsZXQgZGlyTGlnaHQgPSBuZXcgVGhyZWUuRGlyZWN0aW9uYWxMaWdodCgweGZmZmZmZiwgMSk7XHJcbiAgICAgIC8vICAgZGlyTGlnaHQucG9zaXRpb24uc2V0KDgsIDEwLCA2KTtcclxuICAgICAgLy8gICB0aGlzLnNjZW5lLmFkZChkaXJMaWdodCk7XHJcbiAgICAgIC8vIOiuoeaXtuWZqFxyXG4gICAgICB0aGlzLmNsb2NrID0gbmV3IFRocmVlLkNsb2NrKCk7XHJcbiAgICAgIC8vICAg5riy5p+T5ZmoXHJcbiAgICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVGhyZWUuV2ViR0xSZW5kZXJlcih7IGFudGlhbGlhczogdHJ1ZSB9KTtcclxuICAgICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xyXG4gICAgICBsZXQgcmVuRG9tID0gdGhpcy4kcmVmcy5yZW5kZXJEb207XHJcbiAgICAgIHJlbkRvbS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xyXG4gICAgfSxcclxuICAgIF9pbml0Q3ViZSgpIHtcclxuICAgICAgbGV0IGN1YmUgPSBuZXcgVGhyZWUuQm94QnVmZmVyR2VvbWV0cnkoMSwgMSwgMSk7XHJcbiAgICAgIGxldCBtYXRlcmlhbEN1YmUgPSBuZXcgVGhyZWUuTWVzaEJhc2ljTWF0ZXJpYWwoeyBjb2xvcjogMHgwMGZmMDAgfSk7XHJcbiAgICAgIGxldCBjdWJlTWVzaCA9IG5ldyBUaHJlZS5NZXNoKGN1YmUsIG1hdGVyaWFsQ3ViZSk7XHJcbiAgICAgIHRoaXMuc2NlbmUuYWRkKGN1YmVNZXNoKTtcclxuICAgIH0sXHJcbiAgICBfZ2V0T2JqRGF0YSgpIHtcclxuICAgICAgT0JKTG9hZGVyKFRocmVlKTtcclxuICAgICAgbGV0IGxvYWRlciA9IG5ldyBUaHJlZS5PQkpMb2FkZXIoKTtcclxuICAgICAgbG9hZGVyLmxvYWQoXCJtYWxlMDIub2JqXCIsIG1vZHVsZSA9PiB7XHJcbiAgICAgICAgdGhpcy5ncm91cCA9IG5ldyBUaHJlZS5Hcm91cCgpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMuZ3JvdXApO1xyXG4gICAgICAgIC8vIHRoaXMuZ2VvbWV0cnkgPSBtb2R1bGUuY2hpbGRyZW5bMV0uZ2VvbWV0cnk7XHJcblxyXG4gICAgICAgIC8vIGxldCBwb3NpdGlvbnMgPSB0aGlzLmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247XHJcbiAgICAgICAgLy8gZm9yIChsZXQgaSA9IDA7IGkgPCBwb3NpdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyBzcHJpdGXlrp7njrBcclxuICAgICAgICAvLyBsZXQgbWF0ZXJpYWwgPSBuZXcgVGhyZWUuU3ByaXRlTWF0ZXJpYWwoe1xyXG4gICAgICAgIC8vICAgICBjb2xvcjogMHgwODA4MDggKiBNYXRoLnJhbmRvbSgpICsgMHgwODA4MDgsXHJcbiAgICAgICAgLy8gICAgIHNpemU6IDJcclxuICAgICAgICAvLyB9KTtcclxuICAgICAgICAvLyBsZXQgcGFydGljbGUgPSBuZXcgVGhyZWUuU3ByaXRlKG1hdGVyaWFsKTtcclxuICAgICAgICAvLyBwYXJ0aWNsZS5wb3NpdGlvbi54ID0gcG9zaXRpb25zLmdldFgoaSk7XHJcbiAgICAgICAgLy8gcGFydGljbGUucG9zaXRpb24ueSA9IC0xMDtcclxuICAgICAgICAvLyBwYXJ0aWNsZS5wb3NpdGlvbi56ID0gcG9zaXRpb25zLmdldFooaSk7XHJcbiAgICAgICAgLy8gdGhpcy5ncm91cC5hZGQocGFydGljbGUpO1xyXG4gICAgICAgIC8vIHRoaXMucGFydGljbGVzLnB1c2gocGFydGljbGUpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBwb2ludOWunueOsFxyXG4gICAgICAgIGxldCBtZXNoID0gbnVsbDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vZHVsZS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgbGV0IGdlb21ldHJ5ID0gbW9kdWxlLmNoaWxkcmVuW2ldLmdlb21ldHJ5O1xyXG4gICAgICAgICAgZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbi5zZXRVc2FnZShUaHJlZS5EeW5hbWljRHJhd1VzYWdlKTtcclxuICAgICAgICAgIGxldCBwb3NpdGlvbnMgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uO1xyXG4gICAgICAgICAgZ2VvbWV0cnkuc2V0QXR0cmlidXRlKFwiaW5pdFBvc2l0aW9uXCIsIHBvc2l0aW9ucy5jbG9uZSgpKTtcclxuICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcG9zaXRpb25zLmNvdW50OyBqKyspIHtcclxuICAgICAgICAgICAgcG9zaXRpb25zLnNldFhZWihqLCAwLCAwLCAwKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIG1lc2ggPSBuZXcgVGhyZWUuUG9pbnRzKFxyXG4gICAgICAgICAgICBnZW9tZXRyeSxcclxuICAgICAgICAgICAgbmV3IFRocmVlLlBvaW50c01hdGVyaWFsKHtcclxuICAgICAgICAgICAgICBzaXplOiAzLFxyXG4gICAgICAgICAgICAgIGNvbG9yOiAweGZmZmZmZlxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICAgIG1lc2gucG9zaXRpb24ueCA9IDMwO1xyXG4gICAgICAgICAgbWVzaC5wb3NpdGlvbi55ID0gMDtcclxuICAgICAgICAgIG1lc2gucG9zaXRpb24ueiA9IDMwO1xyXG5cclxuICAgICAgICAgIHRoaXMuZ3JvdXAuYWRkKG1lc2gpO1xyXG4gICAgICAgICAgdGhpcy5tZXNoZXMucHVzaChtZXNoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyQW5pbWF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBfcmVuZGVyQW5pbWF0ZSgpIHtcclxuICAgICAgaWYgKHRoaXMuZm9nTnVtID4gMCkge1xyXG4gICAgICAgIHRoaXMuZm9nTnVtIC09IDAuMDAwMTtcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLmZvZ051bSA8IDAuNSkge1xyXG4gICAgICAgIHRoaXMuZm9nTnVtICs9IDAuMDAwMTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnNjZW5lLmZvZyA9IG5ldyBUaHJlZS5Gb2dFeHAyKFwiI2ZmZlwiLCB0aGlzLmZvZ051bSk7XHJcblxyXG4gICAgICB0aGlzLmdyb3VwLnJvdGF0aW9uLnkgLT0gMC4wMDI7XHJcbiAgICAgIGxldCB2ZXJ0aWNhbENvdW50ID0gMDtcclxuICAgICAgbGV0IGFsbFBvaW50Q291bnQgPSAwO1xyXG4gICAgICAvLyAgIOiOt+WPluWdkOagh+eCueaVsOmHj1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWVzaGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGV0IG1lc2ggPSB0aGlzLm1lc2hlc1tpXTtcclxuICAgICAgICBsZXQgbWVzaFBvc2l0aW9ucyA9IG1lc2guZ2VvbWV0cnkuYXR0cmlidXRlcy5wb3NpdGlvbjtcclxuICAgICAgICBhbGxQb2ludENvdW50ICs9IG1lc2hQb3NpdGlvbnMuY291bnQ7XHJcbiAgICAgIH1cclxuICAgICAgbGV0IGRlbHRhID0gdGhpcy5jbG9jay5nZXREZWx0YSgpICogMTAwO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWVzaGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGV0IG1lc2ggPSB0aGlzLm1lc2hlc1tpXTtcclxuXHJcbiAgICAgICAgbGV0IG1lc2hQb3NpdGlvbnMgPSBtZXNoLmdlb21ldHJ5LmF0dHJpYnV0ZXMucG9zaXRpb247XHJcbiAgICAgICAgbGV0IGluaXRNZXNoUG9zaXRpb25zID0gbWVzaC5nZW9tZXRyeS5hdHRyaWJ1dGVzLmluaXRQb3NpdGlvbjtcclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG1lc2hQb3NpdGlvbnMuY291bnQ7IGorKykge1xyXG4gICAgICAgICAgbGV0IHB4ID0gbWVzaFBvc2l0aW9ucy5nZXRYKGopO1xyXG4gICAgICAgICAgbGV0IHB5ID0gbWVzaFBvc2l0aW9ucy5nZXRZKGopO1xyXG4gICAgICAgICAgbGV0IHB6ID0gbWVzaFBvc2l0aW9ucy5nZXRaKGopO1xyXG4gICAgICAgICAgaWYgKHRoaXMuZGlyID4gMCkge1xyXG4gICAgICAgICAgICAvLyAgIOWQkeS4ilxyXG4gICAgICAgICAgICBsZXQgaXggPSBpbml0TWVzaFBvc2l0aW9ucy5nZXRYKGopO1xyXG4gICAgICAgICAgICBsZXQgaXkgPSBpbml0TWVzaFBvc2l0aW9ucy5nZXRZKGopO1xyXG4gICAgICAgICAgICBsZXQgaXogPSBpbml0TWVzaFBvc2l0aW9ucy5nZXRaKGopO1xyXG4gICAgICAgICAgICBsZXQgZHggPSBNYXRoLmFicyhweCAtIGl4KTtcclxuICAgICAgICAgICAgbGV0IGR5ID0gTWF0aC5hYnMocHkgLSBpeSk7XHJcbiAgICAgICAgICAgIGxldCBkeiA9IE1hdGguYWJzKHB6IC0gaXopO1xyXG4gICAgICAgICAgICBpZiAoZHggKyBkeSArIGR6ID4gMSkge1xyXG4gICAgICAgICAgICAgIG1lc2hQb3NpdGlvbnMuc2V0WFlaKFxyXG4gICAgICAgICAgICAgICAgaixcclxuICAgICAgICAgICAgICAgIHB4ICsgKChpeCAtIHB4KSAvIGR4KSAqIGRlbHRhICogTWF0aC5yYW5kb20oKSxcclxuICAgICAgICAgICAgICAgIHB5ICsgKChpeSAtIHB5KSAvIGR5KSAqIGRlbHRhICogTWF0aC5yYW5kb20oKSxcclxuICAgICAgICAgICAgICAgIHB6ICsgKChpeiAtIHB6KSAvIGR6KSAqIGRlbHRhICogTWF0aC5yYW5kb20oKVxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdmVydGljYWxDb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh2ZXJ0aWNhbENvdW50ID09PSBhbGxQb2ludENvdW50KSB0aGlzLmRpciA9IC0xO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gICDlkJHkuItcclxuICAgICAgICAgICAgaWYgKHB5ID4gMC4xKSB7XHJcbiAgICAgICAgICAgICAgbGV0IGl5ID0gaW5pdE1lc2hQb3NpdGlvbnMuZ2V0WShpKTtcclxuICAgICAgICAgICAgICBtZXNoUG9zaXRpb25zLnNldFhZWihcclxuICAgICAgICAgICAgICAgIGosXHJcbiAgICAgICAgICAgICAgICBweCArICgwLjUgLSBNYXRoLnJhbmRvbSgpKSAqIGRlbHRhLFxyXG4gICAgICAgICAgICAgICAgcHkgKyAoMC4yNSAtIE1hdGgucmFuZG9tKCkpICogZGVsdGEsXHJcbiAgICAgICAgICAgICAgICBweiArICgwLjUgLSBNYXRoLnJhbmRvbSgpKSAqIGRlbHRhXHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB2ZXJ0aWNhbENvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHZlcnRpY2FsQ291bnQgPT09IGFsbFBvaW50Q291bnQpIHRoaXMuZGlyID0gMTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbWVzaFBvc2l0aW9ucy5uZWVkc1VwZGF0ZSA9IHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMuc2NlbmUsIHRoaXMuY2FtZXJhKTtcclxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuX3JlbmRlckFuaW1hdGUpO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuPC9zY3JpcHQ+XHJcbjxzdHlsZSBsYW5nPVwic2Nzc1wiIHNjb3BlZD48L3N0eWxlPlxyXG4iLCJpbXBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0wMmM4MWQ5NCZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9pbmRleC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL2luZGV4LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiMDJjODFkOTRcIixcbiAgbnVsbFxuICBcbilcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCIndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIGRlZmF1bHRPbkVycm9yKGVycikge1xuICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoVEhSRUUpIHtcblxuICAvKipcbiAgICogQGF1dGhvciBtcmRvb2IgLyBodHRwOi8vbXJkb29iLmNvbS9cbiAgICovXG5cbiAgVEhSRUUuT0JKTG9hZGVyID0gZnVuY3Rpb24gKG1hbmFnZXIpIHtcblxuICAgIHRoaXMubWFuYWdlciA9IG1hbmFnZXIgIT09IHVuZGVmaW5lZCA/IG1hbmFnZXIgOiBUSFJFRS5EZWZhdWx0TG9hZGluZ01hbmFnZXI7XG5cbiAgICB0aGlzLm1hdGVyaWFscyA9IG51bGw7XG5cbiAgICB0aGlzLnJlZ2V4cCA9IHtcbiAgICAgIC8vIHYgZmxvYXQgZmxvYXQgZmxvYXRcbiAgICAgIHZlcnRleF9wYXR0ZXJuOiAvXnZcXHMrKFtcXGR8XFwufFxcK3xcXC18ZXxFXSspXFxzKyhbXFxkfFxcLnxcXCt8XFwtfGV8RV0rKVxccysoW1xcZHxcXC58XFwrfFxcLXxlfEVdKykvLFxuICAgICAgLy8gdm4gZmxvYXQgZmxvYXQgZmxvYXRcbiAgICAgIG5vcm1hbF9wYXR0ZXJuOiAvXnZuXFxzKyhbXFxkfFxcLnxcXCt8XFwtfGV8RV0rKVxccysoW1xcZHxcXC58XFwrfFxcLXxlfEVdKylcXHMrKFtcXGR8XFwufFxcK3xcXC18ZXxFXSspLyxcbiAgICAgIC8vIHZ0IGZsb2F0IGZsb2F0XG4gICAgICB1dl9wYXR0ZXJuOiAvXnZ0XFxzKyhbXFxkfFxcLnxcXCt8XFwtfGV8RV0rKVxccysoW1xcZHxcXC58XFwrfFxcLXxlfEVdKykvLFxuICAgICAgLy8gZiB2ZXJ0ZXggdmVydGV4IHZlcnRleFxuICAgICAgZmFjZV92ZXJ0ZXg6IC9eZlxccysoLT9cXGQrKVxccysoLT9cXGQrKVxccysoLT9cXGQrKSg/OlxccysoLT9cXGQrKSk/LyxcbiAgICAgIC8vIGYgdmVydGV4L3V2IHZlcnRleC91diB2ZXJ0ZXgvdXZcbiAgICAgIGZhY2VfdmVydGV4X3V2OiAvXmZcXHMrKC0/XFxkKylcXC8oLT9cXGQrKVxccysoLT9cXGQrKVxcLygtP1xcZCspXFxzKygtP1xcZCspXFwvKC0/XFxkKykoPzpcXHMrKC0/XFxkKylcXC8oLT9cXGQrKSk/LyxcbiAgICAgIC8vIGYgdmVydGV4L3V2L25vcm1hbCB2ZXJ0ZXgvdXYvbm9ybWFsIHZlcnRleC91di9ub3JtYWxcbiAgICAgIGZhY2VfdmVydGV4X3V2X25vcm1hbDogL15mXFxzKygtP1xcZCspXFwvKC0/XFxkKylcXC8oLT9cXGQrKVxccysoLT9cXGQrKVxcLygtP1xcZCspXFwvKC0/XFxkKylcXHMrKC0/XFxkKylcXC8oLT9cXGQrKVxcLygtP1xcZCspKD86XFxzKygtP1xcZCspXFwvKC0/XFxkKylcXC8oLT9cXGQrKSk/LyxcbiAgICAgIC8vIGYgdmVydGV4Ly9ub3JtYWwgdmVydGV4Ly9ub3JtYWwgdmVydGV4Ly9ub3JtYWxcbiAgICAgIGZhY2VfdmVydGV4X25vcm1hbDogL15mXFxzKygtP1xcZCspXFwvXFwvKC0/XFxkKylcXHMrKC0/XFxkKylcXC9cXC8oLT9cXGQrKVxccysoLT9cXGQrKVxcL1xcLygtP1xcZCspKD86XFxzKygtP1xcZCspXFwvXFwvKC0/XFxkKykpPy8sXG4gICAgICAvLyBvIG9iamVjdF9uYW1lIHwgZyBncm91cF9uYW1lXG4gICAgICBvYmplY3RfcGF0dGVybjogL15bb2ddXFxzKiguKyk/LyxcbiAgICAgIC8vIHMgYm9vbGVhblxuICAgICAgc21vb3RoaW5nX3BhdHRlcm46IC9ec1xccysoXFxkK3xvbnxvZmYpLyxcbiAgICAgIC8vIG10bGxpYiBmaWxlX3JlZmVyZW5jZVxuICAgICAgbWF0ZXJpYWxfbGlicmFyeV9wYXR0ZXJuOiAvXm10bGxpYiAvLFxuICAgICAgLy8gdXNlbXRsIG1hdGVyaWFsX25hbWVcbiAgICAgIG1hdGVyaWFsX3VzZV9wYXR0ZXJuOiAvXnVzZW10bCAvXG4gICAgfTtcbiAgfTtcblxuICBUSFJFRS5PQkpMb2FkZXIucHJvdG90eXBlID0ge1xuXG4gICAgY29uc3RydWN0b3I6IFRIUkVFLk9CSkxvYWRlcixcblxuICAgIGxvYWQ6IGZ1bmN0aW9uIGxvYWQodXJsLCBvbkxvYWQsIG9uUHJvZ3Jlc3MsIG9uRXJyb3IpIHtcblxuICAgICAgdmFyIHNjb3BlID0gdGhpcztcbiAgICAgIHRoaXMub25FcnJvciA9IG9uRXJyb3IgfHwgZGVmYXVsdE9uRXJyb3I7XG5cbiAgICAgIHZhciBsb2FkZXIgPSBuZXcgVEhSRUUuRmlsZUxvYWRlcihzY29wZS5tYW5hZ2VyKTtcbiAgICAgIGxvYWRlci5zZXRQYXRoKHRoaXMucGF0aCk7XG4gICAgICBsb2FkZXIubG9hZCh1cmwsIGZ1bmN0aW9uICh0ZXh0KSB7XG5cbiAgICAgICAgb25Mb2FkKHNjb3BlLnBhcnNlKHRleHQpKTtcbiAgICAgIH0sIG9uUHJvZ3Jlc3MsIG9uRXJyb3IpO1xuICAgIH0sXG5cbiAgICBzZXRQYXRoOiBmdW5jdGlvbiBzZXRQYXRoKHZhbHVlKSB7XG5cbiAgICAgIHRoaXMucGF0aCA9IHZhbHVlO1xuICAgIH0sXG5cbiAgICBzZXRNYXRlcmlhbHM6IGZ1bmN0aW9uIHNldE1hdGVyaWFscyhtYXRlcmlhbHMpIHtcblxuICAgICAgdGhpcy5tYXRlcmlhbHMgPSBtYXRlcmlhbHM7XG4gICAgfSxcblxuICAgIF9jcmVhdGVQYXJzZXJTdGF0ZTogZnVuY3Rpb24gX2NyZWF0ZVBhcnNlclN0YXRlKCkge1xuXG4gICAgICB2YXIgc3RhdGUgPSB7XG4gICAgICAgIG9iamVjdHM6IFtdLFxuICAgICAgICBvYmplY3Q6IHt9LFxuXG4gICAgICAgIHZlcnRpY2VzOiBbXSxcbiAgICAgICAgbm9ybWFsczogW10sXG4gICAgICAgIHV2czogW10sXG5cbiAgICAgICAgbWF0ZXJpYWxMaWJyYXJpZXM6IFtdLFxuXG4gICAgICAgIHN0YXJ0T2JqZWN0OiBmdW5jdGlvbiBzdGFydE9iamVjdChuYW1lLCBmcm9tRGVjbGFyYXRpb24pIHtcblxuICAgICAgICAgIC8vIElmIHRoZSBjdXJyZW50IG9iamVjdCAoaW5pdGlhbCBmcm9tIHJlc2V0KSBpcyBub3QgZnJvbSBhIGcvbyBkZWNsYXJhdGlvbiBpbiB0aGUgcGFyc2VkXG4gICAgICAgICAgLy8gZmlsZS4gV2UgbmVlZCB0byB1c2UgaXQgZm9yIHRoZSBmaXJzdCBwYXJzZWQgZy9vIHRvIGtlZXAgdGhpbmdzIGluIHN5bmMuXG4gICAgICAgICAgaWYgKHRoaXMub2JqZWN0ICYmIHRoaXMub2JqZWN0LmZyb21EZWNsYXJhdGlvbiA9PT0gZmFsc2UpIHtcblxuICAgICAgICAgICAgdGhpcy5vYmplY3QubmFtZSA9IG5hbWU7XG4gICAgICAgICAgICB0aGlzLm9iamVjdC5mcm9tRGVjbGFyYXRpb24gPSBmcm9tRGVjbGFyYXRpb24gIT09IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBwcmV2aW91c01hdGVyaWFsID0gdGhpcy5vYmplY3QgJiYgdHlwZW9mIHRoaXMub2JqZWN0LmN1cnJlbnRNYXRlcmlhbCA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMub2JqZWN0LmN1cnJlbnRNYXRlcmlhbCgpIDogdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKHRoaXMub2JqZWN0ICYmIHR5cGVvZiB0aGlzLm9iamVjdC5fZmluYWxpemUgPT09ICdmdW5jdGlvbicpIHtcblxuICAgICAgICAgICAgdGhpcy5vYmplY3QuX2ZpbmFsaXplKHRydWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMub2JqZWN0ID0ge1xuICAgICAgICAgICAgbmFtZTogbmFtZSB8fCAnJyxcbiAgICAgICAgICAgIGZyb21EZWNsYXJhdGlvbjogZnJvbURlY2xhcmF0aW9uICE9PSBmYWxzZSxcblxuICAgICAgICAgICAgZ2VvbWV0cnk6IHtcbiAgICAgICAgICAgICAgdmVydGljZXM6IFtdLFxuICAgICAgICAgICAgICBub3JtYWxzOiBbXSxcbiAgICAgICAgICAgICAgdXZzOiBbXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1hdGVyaWFsczogW10sXG4gICAgICAgICAgICBzbW9vdGg6IHRydWUsXG5cbiAgICAgICAgICAgIHN0YXJ0TWF0ZXJpYWw6IGZ1bmN0aW9uIHN0YXJ0TWF0ZXJpYWwobmFtZSwgbGlicmFyaWVzKSB7XG5cbiAgICAgICAgICAgICAgdmFyIHByZXZpb3VzID0gdGhpcy5fZmluYWxpemUoZmFsc2UpO1xuXG4gICAgICAgICAgICAgIC8vIE5ldyB1c2VtdGwgZGVjbGFyYXRpb24gb3ZlcndyaXRlcyBhbiBpbmhlcml0ZWQgbWF0ZXJpYWwsIGV4Y2VwdCBpZiBmYWNlcyB3ZXJlIGRlY2xhcmVkXG4gICAgICAgICAgICAgIC8vIGFmdGVyIHRoZSBtYXRlcmlhbCwgdGhlbiBpdCBtdXN0IGJlIHByZXNlcnZlZCBmb3IgcHJvcGVyIE11bHRpTWF0ZXJpYWwgY29udGludWF0aW9uLlxuICAgICAgICAgICAgICBpZiAocHJldmlvdXMgJiYgKHByZXZpb3VzLmluaGVyaXRlZCB8fCBwcmV2aW91cy5ncm91cENvdW50IDw9IDApKSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm1hdGVyaWFscy5zcGxpY2UocHJldmlvdXMuaW5kZXgsIDEpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdmFyIG1hdGVyaWFsID0ge1xuICAgICAgICAgICAgICAgIGluZGV4OiB0aGlzLm1hdGVyaWFscy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgbmFtZTogbmFtZSB8fCAnJyxcbiAgICAgICAgICAgICAgICBtdGxsaWI6IEFycmF5LmlzQXJyYXkobGlicmFyaWVzKSAmJiBsaWJyYXJpZXMubGVuZ3RoID4gMCA/IGxpYnJhcmllc1tsaWJyYXJpZXMubGVuZ3RoIC0gMV0gOiAnJyxcbiAgICAgICAgICAgICAgICBzbW9vdGg6IHByZXZpb3VzICE9PSB1bmRlZmluZWQgPyBwcmV2aW91cy5zbW9vdGggOiB0aGlzLnNtb290aCxcbiAgICAgICAgICAgICAgICBncm91cFN0YXJ0OiBwcmV2aW91cyAhPT0gdW5kZWZpbmVkID8gcHJldmlvdXMuZ3JvdXBFbmQgOiAwLFxuICAgICAgICAgICAgICAgIGdyb3VwRW5kOiAtMSxcbiAgICAgICAgICAgICAgICBncm91cENvdW50OiAtMSxcbiAgICAgICAgICAgICAgICBpbmhlcml0ZWQ6IGZhbHNlLFxuXG4gICAgICAgICAgICAgICAgY2xvbmU6IGZ1bmN0aW9uIGNsb25lKGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICB2YXIgY2xvbmVkID0ge1xuICAgICAgICAgICAgICAgICAgICBpbmRleDogdHlwZW9mIGluZGV4ID09PSAnbnVtYmVyJyA/IGluZGV4IDogdGhpcy5pbmRleCxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBtdGxsaWI6IHRoaXMubXRsbGliLFxuICAgICAgICAgICAgICAgICAgICBzbW9vdGg6IHRoaXMuc21vb3RoLFxuICAgICAgICAgICAgICAgICAgICBncm91cFN0YXJ0OiAwLFxuICAgICAgICAgICAgICAgICAgICBncm91cEVuZDogLTEsXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwQ291bnQ6IC0xLFxuICAgICAgICAgICAgICAgICAgICBpbmhlcml0ZWQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgY2xvbmVkLmNsb25lID0gdGhpcy5jbG9uZS5iaW5kKGNsb25lZCk7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gY2xvbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICB0aGlzLm1hdGVyaWFscy5wdXNoKG1hdGVyaWFsKTtcblxuICAgICAgICAgICAgICByZXR1cm4gbWF0ZXJpYWw7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBjdXJyZW50TWF0ZXJpYWw6IGZ1bmN0aW9uIGN1cnJlbnRNYXRlcmlhbCgpIHtcblxuICAgICAgICAgICAgICBpZiAodGhpcy5tYXRlcmlhbHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1hdGVyaWFsc1t0aGlzLm1hdGVyaWFscy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBfZmluYWxpemU6IGZ1bmN0aW9uIF9maW5hbGl6ZShlbmQpIHtcblxuICAgICAgICAgICAgICB2YXIgbGFzdE11bHRpTWF0ZXJpYWwgPSB0aGlzLmN1cnJlbnRNYXRlcmlhbCgpO1xuICAgICAgICAgICAgICBpZiAobGFzdE11bHRpTWF0ZXJpYWwgJiYgbGFzdE11bHRpTWF0ZXJpYWwuZ3JvdXBFbmQgPT09IC0xKSB7XG5cbiAgICAgICAgICAgICAgICBsYXN0TXVsdGlNYXRlcmlhbC5ncm91cEVuZCA9IHRoaXMuZ2VvbWV0cnkudmVydGljZXMubGVuZ3RoIC8gMztcbiAgICAgICAgICAgICAgICBsYXN0TXVsdGlNYXRlcmlhbC5ncm91cENvdW50ID0gbGFzdE11bHRpTWF0ZXJpYWwuZ3JvdXBFbmQgLSBsYXN0TXVsdGlNYXRlcmlhbC5ncm91cFN0YXJ0O1xuICAgICAgICAgICAgICAgIGxhc3RNdWx0aU1hdGVyaWFsLmluaGVyaXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gSWdub3JlIG9iamVjdHMgdGFpbCBtYXRlcmlhbHMgaWYgbm8gZmFjZSBkZWNsYXJhdGlvbnMgZm9sbG93ZWQgdGhlbSBiZWZvcmUgYSBuZXcgby9nIHN0YXJ0ZWQuXG4gICAgICAgICAgICAgIGlmIChlbmQgJiYgdGhpcy5tYXRlcmlhbHMubGVuZ3RoID4gMSkge1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbWkgPSB0aGlzLm1hdGVyaWFscy5sZW5ndGggLSAxOyBtaSA+PSAwOyBtaS0tKSB7XG4gICAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXRlcmlhbHNbbWldLmdyb3VwQ291bnQgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdGVyaWFscy5zcGxpY2UobWksIDEpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vIEd1YXJhbnRlZSBhdCBsZWFzdCBvbmUgZW1wdHkgbWF0ZXJpYWwsIHRoaXMgbWFrZXMgdGhlIGNyZWF0aW9uIGxhdGVyIG1vcmUgc3RyYWlnaHQgZm9yd2FyZC5cbiAgICAgICAgICAgICAgaWYgKGVuZCAmJiB0aGlzLm1hdGVyaWFscy5sZW5ndGggPT09IDApIHtcblxuICAgICAgICAgICAgICAgIHRoaXMubWF0ZXJpYWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgbmFtZTogJycsXG4gICAgICAgICAgICAgICAgICBzbW9vdGg6IHRoaXMuc21vb3RoXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gbGFzdE11bHRpTWF0ZXJpYWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIC8vIEluaGVyaXQgcHJldmlvdXMgb2JqZWN0cyBtYXRlcmlhbC5cbiAgICAgICAgICAvLyBTcGVjIHRlbGxzIHVzIHRoYXQgYSBkZWNsYXJlZCBtYXRlcmlhbCBtdXN0IGJlIHNldCB0byBhbGwgb2JqZWN0cyB1bnRpbCBhIG5ldyBtYXRlcmlhbCBpcyBkZWNsYXJlZC5cbiAgICAgICAgICAvLyBJZiBhIHVzZW10bCBkZWNsYXJhdGlvbiBpcyBlbmNvdW50ZXJlZCB3aGlsZSB0aGlzIG5ldyBvYmplY3QgaXMgYmVpbmcgcGFyc2VkLCBpdCB3aWxsXG4gICAgICAgICAgLy8gb3ZlcndyaXRlIHRoZSBpbmhlcml0ZWQgbWF0ZXJpYWwuIEV4Y2VwdGlvbiBiZWluZyB0aGF0IHRoZXJlIHdhcyBhbHJlYWR5IGZhY2UgZGVjbGFyYXRpb25zXG4gICAgICAgICAgLy8gdG8gdGhlIGluaGVyaXRlZCBtYXRlcmlhbCwgdGhlbiBpdCB3aWxsIGJlIHByZXNlcnZlZCBmb3IgcHJvcGVyIE11bHRpTWF0ZXJpYWwgY29udGludWF0aW9uLlxuXG4gICAgICAgICAgaWYgKHByZXZpb3VzTWF0ZXJpYWwgJiYgcHJldmlvdXNNYXRlcmlhbC5uYW1lICYmIHR5cGVvZiBwcmV2aW91c01hdGVyaWFsLmNsb25lID09PSBcImZ1bmN0aW9uXCIpIHtcblxuICAgICAgICAgICAgdmFyIGRlY2xhcmVkID0gcHJldmlvdXNNYXRlcmlhbC5jbG9uZSgwKTtcbiAgICAgICAgICAgIGRlY2xhcmVkLmluaGVyaXRlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm9iamVjdC5tYXRlcmlhbHMucHVzaChkZWNsYXJlZCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdGhpcy5vYmplY3RzLnB1c2godGhpcy5vYmplY3QpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGZpbmFsaXplOiBmdW5jdGlvbiBmaW5hbGl6ZSgpIHtcblxuICAgICAgICAgIGlmICh0aGlzLm9iamVjdCAmJiB0eXBlb2YgdGhpcy5vYmplY3QuX2ZpbmFsaXplID09PSAnZnVuY3Rpb24nKSB7XG5cbiAgICAgICAgICAgIHRoaXMub2JqZWN0Ll9maW5hbGl6ZSh0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgcGFyc2VWZXJ0ZXhJbmRleDogZnVuY3Rpb24gcGFyc2VWZXJ0ZXhJbmRleCh2YWx1ZSwgbGVuKSB7XG5cbiAgICAgICAgICB2YXIgaW5kZXggPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgICAgIHJldHVybiAoaW5kZXggPj0gMCA/IGluZGV4IC0gMSA6IGluZGV4ICsgbGVuIC8gMykgKiAzO1xuICAgICAgICB9LFxuXG4gICAgICAgIHBhcnNlTm9ybWFsSW5kZXg6IGZ1bmN0aW9uIHBhcnNlTm9ybWFsSW5kZXgodmFsdWUsIGxlbikge1xuXG4gICAgICAgICAgdmFyIGluZGV4ID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICAgICAgICByZXR1cm4gKGluZGV4ID49IDAgPyBpbmRleCAtIDEgOiBpbmRleCArIGxlbiAvIDMpICogMztcbiAgICAgICAgfSxcblxuICAgICAgICBwYXJzZVVWSW5kZXg6IGZ1bmN0aW9uIHBhcnNlVVZJbmRleCh2YWx1ZSwgbGVuKSB7XG5cbiAgICAgICAgICB2YXIgaW5kZXggPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgICAgIHJldHVybiAoaW5kZXggPj0gMCA/IGluZGV4IC0gMSA6IGluZGV4ICsgbGVuIC8gMikgKiAyO1xuICAgICAgICB9LFxuXG4gICAgICAgIGFkZFZlcnRleDogZnVuY3Rpb24gYWRkVmVydGV4KGEsIGIsIGMpIHtcblxuICAgICAgICAgIHZhciBzcmMgPSB0aGlzLnZlcnRpY2VzO1xuICAgICAgICAgIHZhciBkc3QgPSB0aGlzLm9iamVjdC5nZW9tZXRyeS52ZXJ0aWNlcztcblxuICAgICAgICAgIGRzdC5wdXNoKHNyY1thICsgMF0pO1xuICAgICAgICAgIGRzdC5wdXNoKHNyY1thICsgMV0pO1xuICAgICAgICAgIGRzdC5wdXNoKHNyY1thICsgMl0pO1xuICAgICAgICAgIGRzdC5wdXNoKHNyY1tiICsgMF0pO1xuICAgICAgICAgIGRzdC5wdXNoKHNyY1tiICsgMV0pO1xuICAgICAgICAgIGRzdC5wdXNoKHNyY1tiICsgMl0pO1xuICAgICAgICAgIGRzdC5wdXNoKHNyY1tjICsgMF0pO1xuICAgICAgICAgIGRzdC5wdXNoKHNyY1tjICsgMV0pO1xuICAgICAgICAgIGRzdC5wdXNoKHNyY1tjICsgMl0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGFkZFZlcnRleExpbmU6IGZ1bmN0aW9uIGFkZFZlcnRleExpbmUoYSkge1xuXG4gICAgICAgICAgdmFyIHNyYyA9IHRoaXMudmVydGljZXM7XG4gICAgICAgICAgdmFyIGRzdCA9IHRoaXMub2JqZWN0Lmdlb21ldHJ5LnZlcnRpY2VzO1xuXG4gICAgICAgICAgZHN0LnB1c2goc3JjW2EgKyAwXSk7XG4gICAgICAgICAgZHN0LnB1c2goc3JjW2EgKyAxXSk7XG4gICAgICAgICAgZHN0LnB1c2goc3JjW2EgKyAyXSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYWRkTm9ybWFsOiBmdW5jdGlvbiBhZGROb3JtYWwoYSwgYiwgYykge1xuXG4gICAgICAgICAgdmFyIHNyYyA9IHRoaXMubm9ybWFscztcbiAgICAgICAgICB2YXIgZHN0ID0gdGhpcy5vYmplY3QuZ2VvbWV0cnkubm9ybWFscztcblxuICAgICAgICAgIGRzdC5wdXNoKHNyY1thICsgMF0pO1xuICAgICAgICAgIGRzdC5wdXNoKHNyY1thICsgMV0pO1xuICAgICAgICAgIGRzdC5wdXNoKHNyY1thICsgMl0pO1xuICAgICAgICAgIGRzdC5wdXNoKHNyY1tiICsgMF0pO1xuICAgICAgICAgIGRzdC5wdXNoKHNyY1tiICsgMV0pO1xuICAgICAgICAgIGRzdC5wdXNoKHNyY1tiICsgMl0pO1xuICAgICAgICAgIGRzdC5wdXNoKHNyY1tjICsgMF0pO1xuICAgICAgICAgIGRzdC5wdXNoKHNyY1tjICsgMV0pO1xuICAgICAgICAgIGRzdC5wdXNoKHNyY1tjICsgMl0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGFkZFVWOiBmdW5jdGlvbiBhZGRVVihhLCBiLCBjKSB7XG5cbiAgICAgICAgICB2YXIgc3JjID0gdGhpcy51dnM7XG4gICAgICAgICAgdmFyIGRzdCA9IHRoaXMub2JqZWN0Lmdlb21ldHJ5LnV2cztcblxuICAgICAgICAgIGRzdC5wdXNoKHNyY1thICsgMF0pO1xuICAgICAgICAgIGRzdC5wdXNoKHNyY1thICsgMV0pO1xuICAgICAgICAgIGRzdC5wdXNoKHNyY1tiICsgMF0pO1xuICAgICAgICAgIGRzdC5wdXNoKHNyY1tiICsgMV0pO1xuICAgICAgICAgIGRzdC5wdXNoKHNyY1tjICsgMF0pO1xuICAgICAgICAgIGRzdC5wdXNoKHNyY1tjICsgMV0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGFkZFVWTGluZTogZnVuY3Rpb24gYWRkVVZMaW5lKGEpIHtcblxuICAgICAgICAgIHZhciBzcmMgPSB0aGlzLnV2cztcbiAgICAgICAgICB2YXIgZHN0ID0gdGhpcy5vYmplY3QuZ2VvbWV0cnkudXZzO1xuXG4gICAgICAgICAgZHN0LnB1c2goc3JjW2EgKyAwXSk7XG4gICAgICAgICAgZHN0LnB1c2goc3JjW2EgKyAxXSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgYWRkRmFjZTogZnVuY3Rpb24gYWRkRmFjZShhLCBiLCBjLCBkLCB1YSwgdWIsIHVjLCB1ZCwgbmEsIG5iLCBuYywgbmQpIHtcblxuICAgICAgICAgIHZhciB2TGVuID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGg7XG5cbiAgICAgICAgICB2YXIgaWEgPSB0aGlzLnBhcnNlVmVydGV4SW5kZXgoYSwgdkxlbik7XG4gICAgICAgICAgdmFyIGliID0gdGhpcy5wYXJzZVZlcnRleEluZGV4KGIsIHZMZW4pO1xuICAgICAgICAgIHZhciBpYyA9IHRoaXMucGFyc2VWZXJ0ZXhJbmRleChjLCB2TGVuKTtcbiAgICAgICAgICB2YXIgaWQ7XG5cbiAgICAgICAgICBpZiAoZCA9PT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgIHRoaXMuYWRkVmVydGV4KGlhLCBpYiwgaWMpO1xuICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIGlkID0gdGhpcy5wYXJzZVZlcnRleEluZGV4KGQsIHZMZW4pO1xuXG4gICAgICAgICAgICB0aGlzLmFkZFZlcnRleChpYSwgaWIsIGlkKTtcbiAgICAgICAgICAgIHRoaXMuYWRkVmVydGV4KGliLCBpYywgaWQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh1YSAhPT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgIHZhciB1dkxlbiA9IHRoaXMudXZzLmxlbmd0aDtcblxuICAgICAgICAgICAgaWEgPSB0aGlzLnBhcnNlVVZJbmRleCh1YSwgdXZMZW4pO1xuICAgICAgICAgICAgaWIgPSB0aGlzLnBhcnNlVVZJbmRleCh1YiwgdXZMZW4pO1xuICAgICAgICAgICAgaWMgPSB0aGlzLnBhcnNlVVZJbmRleCh1YywgdXZMZW4pO1xuXG4gICAgICAgICAgICBpZiAoZCA9PT0gdW5kZWZpbmVkKSB7XG5cbiAgICAgICAgICAgICAgdGhpcy5hZGRVVihpYSwgaWIsIGljKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgaWQgPSB0aGlzLnBhcnNlVVZJbmRleCh1ZCwgdXZMZW4pO1xuXG4gICAgICAgICAgICAgIHRoaXMuYWRkVVYoaWEsIGliLCBpZCk7XG4gICAgICAgICAgICAgIHRoaXMuYWRkVVYoaWIsIGljLCBpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG5hICE9PSB1bmRlZmluZWQpIHtcblxuICAgICAgICAgICAgLy8gTm9ybWFscyBhcmUgbWFueSB0aW1lcyB0aGUgc2FtZS4gSWYgc28sIHNraXAgZnVuY3Rpb24gY2FsbCBhbmQgcGFyc2VJbnQuXG4gICAgICAgICAgICB2YXIgbkxlbiA9IHRoaXMubm9ybWFscy5sZW5ndGg7XG4gICAgICAgICAgICBpYSA9IHRoaXMucGFyc2VOb3JtYWxJbmRleChuYSwgbkxlbik7XG5cbiAgICAgICAgICAgIGliID0gbmEgPT09IG5iID8gaWEgOiB0aGlzLnBhcnNlTm9ybWFsSW5kZXgobmIsIG5MZW4pO1xuICAgICAgICAgICAgaWMgPSBuYSA9PT0gbmMgPyBpYSA6IHRoaXMucGFyc2VOb3JtYWxJbmRleChuYywgbkxlbik7XG5cbiAgICAgICAgICAgIGlmIChkID09PSB1bmRlZmluZWQpIHtcblxuICAgICAgICAgICAgICB0aGlzLmFkZE5vcm1hbChpYSwgaWIsIGljKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgaWQgPSB0aGlzLnBhcnNlTm9ybWFsSW5kZXgobmQsIG5MZW4pO1xuXG4gICAgICAgICAgICAgIHRoaXMuYWRkTm9ybWFsKGlhLCBpYiwgaWQpO1xuICAgICAgICAgICAgICB0aGlzLmFkZE5vcm1hbChpYiwgaWMsIGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgYWRkTGluZUdlb21ldHJ5OiBmdW5jdGlvbiBhZGRMaW5lR2VvbWV0cnkodmVydGljZXMsIHV2cykge1xuXG4gICAgICAgICAgdGhpcy5vYmplY3QuZ2VvbWV0cnkudHlwZSA9ICdMaW5lJztcblxuICAgICAgICAgIHZhciB2TGVuID0gdGhpcy52ZXJ0aWNlcy5sZW5ndGg7XG4gICAgICAgICAgdmFyIHV2TGVuID0gdGhpcy51dnMubGVuZ3RoO1xuXG4gICAgICAgICAgZm9yICh2YXIgdmkgPSAwLCBsID0gdmVydGljZXMubGVuZ3RoOyB2aSA8IGw7IHZpKyspIHtcblxuICAgICAgICAgICAgdGhpcy5hZGRWZXJ0ZXhMaW5lKHRoaXMucGFyc2VWZXJ0ZXhJbmRleCh2ZXJ0aWNlc1t2aV0sIHZMZW4pKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmb3IgKHZhciB1dmkgPSAwLCBsID0gdXZzLmxlbmd0aDsgdXZpIDwgbDsgdXZpKyspIHtcblxuICAgICAgICAgICAgdGhpcy5hZGRVVkxpbmUodGhpcy5wYXJzZVVWSW5kZXgodXZzW3V2aV0sIHV2TGVuKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIH07XG5cbiAgICAgIHN0YXRlLnN0YXJ0T2JqZWN0KCcnLCBmYWxzZSk7XG5cbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9LFxuXG4gICAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKHRleHQsIGRlYnVnKSB7XG4gICAgICBpZiAodHlwZW9mIGRlYnVnID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBkZWJ1ZyA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChkZWJ1Zykge1xuICAgICAgICBjb25zb2xlLnRpbWUoJ09CSkxvYWRlcicpO1xuICAgICAgfVxuXG4gICAgICB2YXIgc3RhdGUgPSB0aGlzLl9jcmVhdGVQYXJzZXJTdGF0ZSgpO1xuXG4gICAgICBpZiAodGV4dC5pbmRleE9mKCdcXHJcXG4nKSAhPT0gLTEpIHtcblxuICAgICAgICAvLyBUaGlzIGlzIGZhc3RlciB0aGFuIFN0cmluZy5zcGxpdCB3aXRoIHJlZ2V4IHRoYXQgc3BsaXRzIG9uIGJvdGhcbiAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvXFxyXFxuL2csICdcXG4nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRleHQuaW5kZXhPZignXFxcXFxcbicpICE9PSAtMSkge1xuXG4gICAgICAgIC8vIGpvaW4gbGluZXMgc2VwYXJhdGVkIGJ5IGEgbGluZSBjb250aW51YXRpb24gY2hhcmFjdGVyIChcXClcbiAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvXFxcXFxcbi9nLCAnJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBsaW5lcyA9IHRleHQuc3BsaXQoJ1xcbicpO1xuICAgICAgdmFyIGxpbmUgPSAnJyxcbiAgICAgICAgICBsaW5lRmlyc3RDaGFyID0gJycsXG4gICAgICAgICAgbGluZVNlY29uZENoYXIgPSAnJztcbiAgICAgIHZhciBsaW5lTGVuZ3RoID0gMDtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgICAgLy8gRmFzdGVyIHRvIGp1c3QgdHJpbSBsZWZ0IHNpZGUgb2YgdGhlIGxpbmUuIFVzZSBpZiBhdmFpbGFibGUuXG4gICAgICB2YXIgdHJpbUxlZnQgPSB0eXBlb2YgJycudHJpbUxlZnQgPT09ICdmdW5jdGlvbic7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gbGluZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cbiAgICAgICAgbGluZSA9IGxpbmVzW2ldO1xuXG4gICAgICAgIGxpbmUgPSB0cmltTGVmdCA/IGxpbmUudHJpbUxlZnQoKSA6IGxpbmUudHJpbSgpO1xuXG4gICAgICAgIGxpbmVMZW5ndGggPSBsaW5lLmxlbmd0aDtcblxuICAgICAgICBpZiAobGluZUxlbmd0aCA9PT0gMCkgY29udGludWU7XG5cbiAgICAgICAgbGluZUZpcnN0Q2hhciA9IGxpbmUuY2hhckF0KDApO1xuXG4gICAgICAgIC8vIEB0b2RvIGludm9rZSBwYXNzZWQgaW4gaGFuZGxlciBpZiBhbnlcbiAgICAgICAgaWYgKGxpbmVGaXJzdENoYXIgPT09ICcjJykgY29udGludWU7XG5cbiAgICAgICAgaWYgKGxpbmVGaXJzdENoYXIgPT09ICd2Jykge1xuXG4gICAgICAgICAgbGluZVNlY29uZENoYXIgPSBsaW5lLmNoYXJBdCgxKTtcblxuICAgICAgICAgIGlmIChsaW5lU2Vjb25kQ2hhciA9PT0gJyAnICYmIChyZXN1bHQgPSB0aGlzLnJlZ2V4cC52ZXJ0ZXhfcGF0dGVybi5leGVjKGxpbmUpKSAhPT0gbnVsbCkge1xuXG4gICAgICAgICAgICAvLyAwICAgICAgICAgICAgICAgICAgMSAgICAgIDIgICAgICAzXG4gICAgICAgICAgICAvLyBbXCJ2IDEuMCAyLjAgMy4wXCIsIFwiMS4wXCIsIFwiMi4wXCIsIFwiMy4wXCJdXG5cbiAgICAgICAgICAgIHN0YXRlLnZlcnRpY2VzLnB1c2gocGFyc2VGbG9hdChyZXN1bHRbMV0pLCBwYXJzZUZsb2F0KHJlc3VsdFsyXSksIHBhcnNlRmxvYXQocmVzdWx0WzNdKSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChsaW5lU2Vjb25kQ2hhciA9PT0gJ24nICYmIChyZXN1bHQgPSB0aGlzLnJlZ2V4cC5ub3JtYWxfcGF0dGVybi5leGVjKGxpbmUpKSAhPT0gbnVsbCkge1xuXG4gICAgICAgICAgICAvLyAwICAgICAgICAgICAgICAgICAgIDEgICAgICAyICAgICAgM1xuICAgICAgICAgICAgLy8gW1widm4gMS4wIDIuMCAzLjBcIiwgXCIxLjBcIiwgXCIyLjBcIiwgXCIzLjBcIl1cblxuICAgICAgICAgICAgc3RhdGUubm9ybWFscy5wdXNoKHBhcnNlRmxvYXQocmVzdWx0WzFdKSwgcGFyc2VGbG9hdChyZXN1bHRbMl0pLCBwYXJzZUZsb2F0KHJlc3VsdFszXSkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAobGluZVNlY29uZENoYXIgPT09ICd0JyAmJiAocmVzdWx0ID0gdGhpcy5yZWdleHAudXZfcGF0dGVybi5leGVjKGxpbmUpKSAhPT0gbnVsbCkge1xuXG4gICAgICAgICAgICAvLyAwICAgICAgICAgICAgICAgMSAgICAgIDJcbiAgICAgICAgICAgIC8vIFtcInZ0IDAuMSAwLjJcIiwgXCIwLjFcIiwgXCIwLjJcIl1cblxuICAgICAgICAgICAgc3RhdGUudXZzLnB1c2gocGFyc2VGbG9hdChyZXN1bHRbMV0pLCBwYXJzZUZsb2F0KHJlc3VsdFsyXSkpO1xuICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgIHRoaXMub25FcnJvcihcIlVuZXhwZWN0ZWQgdmVydGV4L25vcm1hbC91diBsaW5lOiAnXCIgKyBsaW5lICsgXCInXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChsaW5lRmlyc3RDaGFyID09PSBcImZcIikge1xuXG4gICAgICAgICAgaWYgKChyZXN1bHQgPSB0aGlzLnJlZ2V4cC5mYWNlX3ZlcnRleF91dl9ub3JtYWwuZXhlYyhsaW5lKSkgIT09IG51bGwpIHtcblxuICAgICAgICAgICAgLy8gZiB2ZXJ0ZXgvdXYvbm9ybWFsIHZlcnRleC91di9ub3JtYWwgdmVydGV4L3V2L25vcm1hbFxuICAgICAgICAgICAgLy8gMCAgICAgICAgICAgICAgICAgICAgICAgIDEgICAgMiAgICAzICAgIDQgICAgNSAgICA2ICAgIDcgICAgOCAgICA5ICAgMTAgICAgICAgICAxMSAgICAgICAgIDEyXG4gICAgICAgICAgICAvLyBbXCJmIDEvMS8xIDIvMi8yIDMvMy8zXCIsIFwiMVwiLCBcIjFcIiwgXCIxXCIsIFwiMlwiLCBcIjJcIiwgXCIyXCIsIFwiM1wiLCBcIjNcIiwgXCIzXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWRdXG5cbiAgICAgICAgICAgIHN0YXRlLmFkZEZhY2UocmVzdWx0WzFdLCByZXN1bHRbNF0sIHJlc3VsdFs3XSwgcmVzdWx0WzEwXSwgcmVzdWx0WzJdLCByZXN1bHRbNV0sIHJlc3VsdFs4XSwgcmVzdWx0WzExXSwgcmVzdWx0WzNdLCByZXN1bHRbNl0sIHJlc3VsdFs5XSwgcmVzdWx0WzEyXSk7XG4gICAgICAgICAgfSBlbHNlIGlmICgocmVzdWx0ID0gdGhpcy5yZWdleHAuZmFjZV92ZXJ0ZXhfdXYuZXhlYyhsaW5lKSkgIT09IG51bGwpIHtcblxuICAgICAgICAgICAgLy8gZiB2ZXJ0ZXgvdXYgdmVydGV4L3V2IHZlcnRleC91dlxuICAgICAgICAgICAgLy8gMCAgICAgICAgICAgICAgICAgIDEgICAgMiAgICAzICAgIDQgICAgNSAgICA2ICAgNyAgICAgICAgICA4XG4gICAgICAgICAgICAvLyBbXCJmIDEvMSAyLzIgMy8zXCIsIFwiMVwiLCBcIjFcIiwgXCIyXCIsIFwiMlwiLCBcIjNcIiwgXCIzXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkXVxuXG4gICAgICAgICAgICBzdGF0ZS5hZGRGYWNlKHJlc3VsdFsxXSwgcmVzdWx0WzNdLCByZXN1bHRbNV0sIHJlc3VsdFs3XSwgcmVzdWx0WzJdLCByZXN1bHRbNF0sIHJlc3VsdFs2XSwgcmVzdWx0WzhdKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKChyZXN1bHQgPSB0aGlzLnJlZ2V4cC5mYWNlX3ZlcnRleF9ub3JtYWwuZXhlYyhsaW5lKSkgIT09IG51bGwpIHtcblxuICAgICAgICAgICAgLy8gZiB2ZXJ0ZXgvL25vcm1hbCB2ZXJ0ZXgvL25vcm1hbCB2ZXJ0ZXgvL25vcm1hbFxuICAgICAgICAgICAgLy8gMCAgICAgICAgICAgICAgICAgICAgIDEgICAgMiAgICAzICAgIDQgICAgNSAgICA2ICAgNyAgICAgICAgICA4XG4gICAgICAgICAgICAvLyBbXCJmIDEvLzEgMi8vMiAzLy8zXCIsIFwiMVwiLCBcIjFcIiwgXCIyXCIsIFwiMlwiLCBcIjNcIiwgXCIzXCIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkXVxuXG4gICAgICAgICAgICBzdGF0ZS5hZGRGYWNlKHJlc3VsdFsxXSwgcmVzdWx0WzNdLCByZXN1bHRbNV0sIHJlc3VsdFs3XSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCByZXN1bHRbMl0sIHJlc3VsdFs0XSwgcmVzdWx0WzZdLCByZXN1bHRbOF0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoKHJlc3VsdCA9IHRoaXMucmVnZXhwLmZhY2VfdmVydGV4LmV4ZWMobGluZSkpICE9PSBudWxsKSB7XG5cbiAgICAgICAgICAgIC8vIGYgdmVydGV4IHZlcnRleCB2ZXJ0ZXhcbiAgICAgICAgICAgIC8vIDAgICAgICAgICAgICAxICAgIDIgICAgMyAgIDRcbiAgICAgICAgICAgIC8vIFtcImYgMSAyIDNcIiwgXCIxXCIsIFwiMlwiLCBcIjNcIiwgdW5kZWZpbmVkXVxuXG4gICAgICAgICAgICBzdGF0ZS5hZGRGYWNlKHJlc3VsdFsxXSwgcmVzdWx0WzJdLCByZXN1bHRbM10sIHJlc3VsdFs0XSk7XG4gICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgdGhpcy5vbkVycm9yKFwiVW5leHBlY3RlZCBmYWNlIGxpbmU6ICdcIiArIGxpbmUgKyBcIidcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGxpbmVGaXJzdENoYXIgPT09IFwibFwiKSB7XG5cbiAgICAgICAgICB2YXIgbGluZVBhcnRzID0gbGluZS5zdWJzdHJpbmcoMSkudHJpbSgpLnNwbGl0KFwiIFwiKTtcbiAgICAgICAgICB2YXIgbGluZVZlcnRpY2VzID0gW10sXG4gICAgICAgICAgICAgIGxpbmVVVnMgPSBbXTtcblxuICAgICAgICAgIGlmIChsaW5lLmluZGV4T2YoXCIvXCIpID09PSAtMSkge1xuXG4gICAgICAgICAgICBsaW5lVmVydGljZXMgPSBsaW5lUGFydHM7XG4gICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgZm9yICh2YXIgbGkgPSAwLCBsbGVuID0gbGluZVBhcnRzLmxlbmd0aDsgbGkgPCBsbGVuOyBsaSsrKSB7XG5cbiAgICAgICAgICAgICAgdmFyIHBhcnRzID0gbGluZVBhcnRzW2xpXS5zcGxpdChcIi9cIik7XG5cbiAgICAgICAgICAgICAgaWYgKHBhcnRzWzBdICE9PSBcIlwiKSBsaW5lVmVydGljZXMucHVzaChwYXJ0c1swXSk7XG4gICAgICAgICAgICAgIGlmIChwYXJ0c1sxXSAhPT0gXCJcIikgbGluZVVWcy5wdXNoKHBhcnRzWzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgc3RhdGUuYWRkTGluZUdlb21ldHJ5KGxpbmVWZXJ0aWNlcywgbGluZVVWcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoKHJlc3VsdCA9IHRoaXMucmVnZXhwLm9iamVjdF9wYXR0ZXJuLmV4ZWMobGluZSkpICE9PSBudWxsKSB7XG5cbiAgICAgICAgICAvLyBvIG9iamVjdF9uYW1lXG4gICAgICAgICAgLy8gb3JcbiAgICAgICAgICAvLyBnIGdyb3VwX25hbWVcblxuICAgICAgICAgIC8vIFdPUktBUk9VTkQ6IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTI4NjlcbiAgICAgICAgICAvLyB2YXIgbmFtZSA9IHJlc3VsdFsgMCBdLnN1YnN0ciggMSApLnRyaW0oKTtcbiAgICAgICAgICB2YXIgbmFtZSA9IChcIiBcIiArIHJlc3VsdFswXS5zdWJzdHIoMSkudHJpbSgpKS5zdWJzdHIoMSk7XG5cbiAgICAgICAgICBzdGF0ZS5zdGFydE9iamVjdChuYW1lKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJlZ2V4cC5tYXRlcmlhbF91c2VfcGF0dGVybi50ZXN0KGxpbmUpKSB7XG5cbiAgICAgICAgICAvLyBtYXRlcmlhbFxuXG4gICAgICAgICAgc3RhdGUub2JqZWN0LnN0YXJ0TWF0ZXJpYWwobGluZS5zdWJzdHJpbmcoNykudHJpbSgpLCBzdGF0ZS5tYXRlcmlhbExpYnJhcmllcyk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5yZWdleHAubWF0ZXJpYWxfbGlicmFyeV9wYXR0ZXJuLnRlc3QobGluZSkpIHtcblxuICAgICAgICAgIC8vIG10bCBmaWxlXG5cbiAgICAgICAgICBzdGF0ZS5tYXRlcmlhbExpYnJhcmllcy5wdXNoKGxpbmUuc3Vic3RyaW5nKDcpLnRyaW0oKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoKHJlc3VsdCA9IHRoaXMucmVnZXhwLnNtb290aGluZ19wYXR0ZXJuLmV4ZWMobGluZSkpICE9PSBudWxsKSB7XG5cbiAgICAgICAgICAvLyBzbW9vdGggc2hhZGluZ1xuXG4gICAgICAgICAgLy8gQHRvZG8gSGFuZGxlIGZpbGVzIHRoYXQgaGF2ZSB2YXJ5aW5nIHNtb290aCB2YWx1ZXMgZm9yIGEgc2V0IG9mIGZhY2VzIGluc2lkZSBvbmUgZ2VvbWV0cnksXG4gICAgICAgICAgLy8gYnV0IGRvZXMgbm90IGRlZmluZSBhIHVzZW10bCBmb3IgZWFjaCBmYWNlIHNldC5cbiAgICAgICAgICAvLyBUaGlzIHNob3VsZCBiZSBkZXRlY3RlZCBhbmQgYSBkdW1teSBtYXRlcmlhbCBjcmVhdGVkIChsYXRlciBNdWx0aU1hdGVyaWFsIGFuZCBnZW9tZXRyeSBncm91cHMpLlxuICAgICAgICAgIC8vIFRoaXMgcmVxdWlyZXMgc29tZSBjYXJlIHRvIG5vdCBjcmVhdGUgZXh0cmEgbWF0ZXJpYWwgb24gZWFjaCBzbW9vdGggdmFsdWUgZm9yIFwibm9ybWFsXCIgb2JqIGZpbGVzLlxuICAgICAgICAgIC8vIHdoZXJlIGV4cGxpY2l0IHVzZW10bCBkZWZpbmVzIGdlb21ldHJ5IGdyb3Vwcy5cbiAgICAgICAgICAvLyBFeGFtcGxlIGFzc2V0OiBleGFtcGxlcy9tb2RlbHMvb2JqL2NlcmJlcnVzL0NlcmJlcnVzLm9ialxuXG4gICAgICAgICAgdmFyIHZhbHVlID0gcmVzdWx0WzFdLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIHN0YXRlLm9iamVjdC5zbW9vdGggPSB2YWx1ZSA9PT0gJzEnIHx8IHZhbHVlID09PSAnb24nO1xuXG4gICAgICAgICAgdmFyIG1hdGVyaWFsID0gc3RhdGUub2JqZWN0LmN1cnJlbnRNYXRlcmlhbCgpO1xuICAgICAgICAgIGlmIChtYXRlcmlhbCkge1xuXG4gICAgICAgICAgICBtYXRlcmlhbC5zbW9vdGggPSBzdGF0ZS5vYmplY3Quc21vb3RoO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgIC8vIEhhbmRsZSBudWxsIHRlcm1pbmF0ZWQgZmlsZXMgd2l0aG91dCBleGNlcHRpb25cbiAgICAgICAgICBpZiAobGluZSA9PT0gJ1xcMCcpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgdGhpcy5vbkVycm9yKFwiVW5leHBlY3RlZCBsaW5lOiAnXCIgKyBsaW5lICsgXCInXCIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHN0YXRlLmZpbmFsaXplKCk7XG5cbiAgICAgIHZhciBjb250YWluZXIgPSBuZXcgVEhSRUUuR3JvdXAoKTtcbiAgICAgIGNvbnRhaW5lci5tYXRlcmlhbExpYnJhcmllcyA9IFtdLmNvbmNhdChzdGF0ZS5tYXRlcmlhbExpYnJhcmllcyk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gc3RhdGUub2JqZWN0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblxuICAgICAgICB2YXIgb2JqZWN0ID0gc3RhdGUub2JqZWN0c1tpXTtcbiAgICAgICAgdmFyIGdlb21ldHJ5ID0gb2JqZWN0Lmdlb21ldHJ5O1xuICAgICAgICB2YXIgbWF0ZXJpYWxzID0gb2JqZWN0Lm1hdGVyaWFscztcbiAgICAgICAgdmFyIGlzTGluZSA9IGdlb21ldHJ5LnR5cGUgPT09ICdMaW5lJztcblxuICAgICAgICAvLyBTa2lwIG8vZyBsaW5lIGRlY2xhcmF0aW9ucyB0aGF0IGRpZCBub3QgZm9sbG93IHdpdGggYW55IGZhY2VzXG4gICAgICAgIGlmIChnZW9tZXRyeS52ZXJ0aWNlcy5sZW5ndGggPT09IDApIGNvbnRpbnVlO1xuXG4gICAgICAgIHZhciBidWZmZXJnZW9tZXRyeSA9IG5ldyBUSFJFRS5CdWZmZXJHZW9tZXRyeSgpO1xuXG4gICAgICAgIGJ1ZmZlcmdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgncG9zaXRpb24nLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKG5ldyBGbG9hdDMyQXJyYXkoZ2VvbWV0cnkudmVydGljZXMpLCAzKSk7XG5cbiAgICAgICAgaWYgKGdlb21ldHJ5Lm5vcm1hbHMubGVuZ3RoID4gMCkge1xuXG4gICAgICAgICAgYnVmZmVyZ2VvbWV0cnkuYWRkQXR0cmlidXRlKCdub3JtYWwnLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKG5ldyBGbG9hdDMyQXJyYXkoZ2VvbWV0cnkubm9ybWFscyksIDMpKTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgIGJ1ZmZlcmdlb21ldHJ5LmNvbXB1dGVWZXJ0ZXhOb3JtYWxzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2VvbWV0cnkudXZzLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgIGJ1ZmZlcmdlb21ldHJ5LmFkZEF0dHJpYnV0ZSgndXYnLCBuZXcgVEhSRUUuQnVmZmVyQXR0cmlidXRlKG5ldyBGbG9hdDMyQXJyYXkoZ2VvbWV0cnkudXZzKSwgMikpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIG1hdGVyaWFsc1xuXG4gICAgICAgIHZhciBjcmVhdGVkTWF0ZXJpYWxzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgbWkgPSAwLCBtaUxlbiA9IG1hdGVyaWFscy5sZW5ndGg7IG1pIDwgbWlMZW47IG1pKyspIHtcblxuICAgICAgICAgIHZhciBzb3VyY2VNYXRlcmlhbCA9IG1hdGVyaWFsc1ttaV07XG4gICAgICAgICAgdmFyIG1hdGVyaWFsID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgaWYgKHRoaXMubWF0ZXJpYWxzICE9PSBudWxsKSB7XG5cbiAgICAgICAgICAgIG1hdGVyaWFsID0gdGhpcy5tYXRlcmlhbHMuY3JlYXRlKHNvdXJjZU1hdGVyaWFsLm5hbWUpO1xuXG4gICAgICAgICAgICAvLyBtdGwgZXRjLiBsb2FkZXJzIHByb2JhYmx5IGNhbid0IGNyZWF0ZSBsaW5lIG1hdGVyaWFscyBjb3JyZWN0bHksIGNvcHkgcHJvcGVydGllcyB0byBhIGxpbmUgbWF0ZXJpYWwuXG4gICAgICAgICAgICBpZiAoaXNMaW5lICYmIG1hdGVyaWFsICYmICEobWF0ZXJpYWwgaW5zdGFuY2VvZiBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbCkpIHtcblxuICAgICAgICAgICAgICB2YXIgbWF0ZXJpYWxMaW5lID0gbmV3IFRIUkVFLkxpbmVCYXNpY01hdGVyaWFsKCk7XG4gICAgICAgICAgICAgIG1hdGVyaWFsTGluZS5jb3B5KG1hdGVyaWFsKTtcbiAgICAgICAgICAgICAgbWF0ZXJpYWwgPSBtYXRlcmlhbExpbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFtYXRlcmlhbCkge1xuXG4gICAgICAgICAgICBtYXRlcmlhbCA9ICFpc0xpbmUgPyBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoKSA6IG5ldyBUSFJFRS5MaW5lQmFzaWNNYXRlcmlhbCgpO1xuICAgICAgICAgICAgbWF0ZXJpYWwubmFtZSA9IHNvdXJjZU1hdGVyaWFsLm5hbWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbWF0ZXJpYWwuc2hhZGluZyA9IHNvdXJjZU1hdGVyaWFsLnNtb290aCA/IFRIUkVFLlNtb290aFNoYWRpbmcgOiBUSFJFRS5GbGF0U2hhZGluZztcblxuICAgICAgICAgIGNyZWF0ZWRNYXRlcmlhbHMucHVzaChtYXRlcmlhbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgbWVzaFxuXG4gICAgICAgIHZhciBtZXNoO1xuXG4gICAgICAgIGlmIChjcmVhdGVkTWF0ZXJpYWxzLmxlbmd0aCA+IDEpIHtcblxuICAgICAgICAgIGZvciAodmFyIG1pID0gMCwgbWlMZW4gPSBtYXRlcmlhbHMubGVuZ3RoOyBtaSA8IG1pTGVuOyBtaSsrKSB7XG5cbiAgICAgICAgICAgIHZhciBzb3VyY2VNYXRlcmlhbCA9IG1hdGVyaWFsc1ttaV07XG4gICAgICAgICAgICBidWZmZXJnZW9tZXRyeS5hZGRHcm91cChzb3VyY2VNYXRlcmlhbC5ncm91cFN0YXJ0LCBzb3VyY2VNYXRlcmlhbC5ncm91cENvdW50LCBtaSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIG11bHRpTWF0ZXJpYWwgPSBuZXcgVEhSRUUuTXVsdGlNYXRlcmlhbChjcmVhdGVkTWF0ZXJpYWxzKTtcbiAgICAgICAgICBtZXNoID0gIWlzTGluZSA/IG5ldyBUSFJFRS5NZXNoKGJ1ZmZlcmdlb21ldHJ5LCBtdWx0aU1hdGVyaWFsKSA6IG5ldyBUSFJFRS5MaW5lU2VnbWVudHMoYnVmZmVyZ2VvbWV0cnksIG11bHRpTWF0ZXJpYWwpO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgbWVzaCA9ICFpc0xpbmUgPyBuZXcgVEhSRUUuTWVzaChidWZmZXJnZW9tZXRyeSwgY3JlYXRlZE1hdGVyaWFsc1swXSkgOiBuZXcgVEhSRUUuTGluZVNlZ21lbnRzKGJ1ZmZlcmdlb21ldHJ5LCBjcmVhdGVkTWF0ZXJpYWxzWzBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1lc2gubmFtZSA9IG9iamVjdC5uYW1lO1xuXG4gICAgICAgIGNvbnRhaW5lci5hZGQobWVzaCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChkZWJ1Zykge1xuICAgICAgICBjb25zb2xlLnRpbWVFbmQoJ09CSkxvYWRlcicpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH1cblxuICB9O1xufTsiXSwic291cmNlUm9vdCI6IiJ9