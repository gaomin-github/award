(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{137:function(t,e,i){"use strict";var a=i(55);i.n(a).a},176:function(t,e,i){"use strict";i.r(e);var a=i(3),n=i(16);const o="108.8371912900,34.2032353700",r=[610103,610104,610113];var s={data:()=>({gardens:[],driveRoutes:[],mapObj:null,pathObj:null}),computed:{...Object(a.b)("estate",["getCurArea"])},async mounted(){await this._initMapScript(),await this._initMapUi(),await this._initGardens(),this._initDriveRoute(),setTimeout(async()=>{},1e3)},methods:{async _initMapScript(){return new Promise((t,e)=>{window.onLoad=async()=>(this._initMapContainer(),t());let i=document.createElement("script");i.charset="utf-8",i.src="https://webapi.amap.com/maps?v=1.4.15&key=17569efbd54a284b8bd0ce338ae71616&callback=onLoad",document.head.appendChild(i)})},_initMapContainer(){let t=this._initLocation(o),e=this._initLocation(this.getCurArea.location);this.mapObj=new AMap.Map("map-container",{zoom:11,center:[(Number(t[0])+Number(e[0]))/2,(Number(t[1])+Number(e[1]))/2],mapStyle:"amap://styles/light"})},async _initMapUi(){return new Promise((t,e)=>{let i=document.createElement("script");i.charset="utf-8",i.src="https://webapi.amap.com/ui/1.0/main.js?v=1.0.11",document.head.appendChild(i);let a=this;i.onload=()=>{AMapUI.loadUI(["overlay/SimpleMarker"],(function(e){return new e({iconTheme:"default",iconStyle:"orange",map:a.mapObj,position:a._initLocation(o),label:{content:"高新软件园",offset:new AMap.Pixel(-10,-20)}}),new e({iconTheme:"default",iconStyle:"orange",map:a.mapObj,position:a._initLocation(a.getCurArea.location),label:{content:a.getCurArea.label,offset:new AMap.Pixel(-10,-20)}}),t()}))}})},_initGardens(){n.a.get(`/xian/aroundGarden?originLocation=${this.getCurArea.location}`).then(t=>{if(200===t.status&&(this.gardens=t.data,this.gardens&&this.gardens.length>0)){let t=this;AMapUI.loadUI(["overlay/SvgMarker"],(function(e){t.gardens.map((i,a)=>{var n=new e.Shape.Circle({height:16,strokeWidth:1,strokeColor:"#fff",fillColor:"#177261"});n.getCenter();new e(n,{map:t.mapObj,position:t._initLocation(i.location),containerClassNames:"shape-Circle",iconLabel:{innerHTML:a+1,style:{color:"#fff",fontSize:"12px"}}})})}))}})},_initPathLns(){let t=this;AMapUI&&AMapUI.load(["ui/misc/PathSimplifier","lib/$"],(function(e,i){let a=new e({zIndex:100,map:t.mapObj,getPath:(t,e)=>t.path,renderOptions:{renderAllPointsIfNumberBelow:100}});a.setData([{name:"路线0",path:[...t.driveRoutes]}]),a.createPathNavigator(0,{loop:!0,speed:5e3}).start()}))},_initDistrict(){let t=this;AMapUI.load(["ui/geo/DistrictExplorer","lib/$"],(function(e){let i=new e({map:t.mapObj});var a=["#3366cc","#dc3912","#ff9900","#aa9900","#ff1901","#aa0101","red","green"];r.map((t,e)=>{i.loadAreaNode(t,(function(t,n){i.renderSubFeatures(n,(function(t,e){return{cursor:"default",bubble:!0,strokeColor:"blue",strokeOpacity:1,strokeWeight:1,fillColor:"red",fillOpacity:.35}})),i.renderParentFeature(n,{cursor:"default",bubble:!0,strokeColor:null,strokeOpacity:1,strokeWeight:1,fillColor:a[e],fillOpacity:.35})}))})}))},_initDriveRoute(){n.a.get(`/xian/drivingRoute?originLocation=${this.getCurArea.location}&destination=${o}`).then(t=>{200===t.status&&t.data.steps&&t.data.steps.length>0&&(t.data.steps.forEach(t=>{if(t.polyline){this._formatPolyline(t.polyline);this.driveRoutes.push(...this._formatPolyline(t.polyline))}}),this._initPathLns())})},_initLocation:t=>t.split(","),_formatPolyline(t){return t.split(";").map(t=>{let e=this._initLocation(t);return[Number(e[0]),Number(e[1])]})}}},l=(i(137),i(5)),c=Object(l.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"map-wrapper"},[t.gardens&&t.gardens.length>0?i("section",{staticClass:"garden"},t._l(t.gardens,(function(e,a){return i("section",{key:a,staticClass:"garden-item"},[i("section",{staticClass:"garden-item-icon"},[t._v(t._s(a+1))]),t._v(" "),i("section",{staticClass:"garden-item-label"},[t._v("\n        "+t._s(e.name)+",距离"+t._s(e.distance)+"米\n      ")])])})),0):t._e(),t._v(" "),i("section",{staticClass:"map-container",attrs:{id:"map-container"}})])}),[],!1,null,"57b8c1c3",null);e.default=c.exports},55:function(t,e,i){var a=i(7),n=i(56);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[t.i,n,""]]);var o={insert:"head",singleton:!1},r=a(n,o),s=n.locals?n.locals:{};n.locals||t.hot.accept(56,(function(){var e=i(56);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[t.i,e,""]]),r(e)})),t.hot.dispose((function(){r()})),t.exports=s},56:function(t,e,i){(e=i(8)(!1)).push([t.i,'.map-con[data-v-57b8c1c3]{padding:0 1.333vw 1.333vw;flex:1;display:flex;flex-direction:column;content:"viewport-units-buggyfill; padding: 0px 1.333vw 1.333vw"}.garden[data-v-57b8c1c3]{flex-shrink:1;font-size:3.733vw;color:rgba(0,0,0,.8);padding-bottom:2.667vw;max-height:42.667vw;overflow:scroll;content:"viewport-units-buggyfill; font-size: 3.733vw; padding-bottom: 2.667vw; max-height: 42.667vw"}.garden-item[data-v-57b8c1c3]{line-height:6.933vw;display:flex;content:"viewport-units-buggyfill; line-height: 6.933vw"}.garden-item-icon[data-v-57b8c1c3]{width:5.333vw;background:#177261;color:#fff;border-radius:50%;text-align:center;height:5.333vw;line-height:5.333vw;margin:.8vw 2.667vw;content:"viewport-units-buggyfill; width: 5.333vw; height: 5.333vw; line-height: 5.333vw; margin: 0.8vw 2.667vw"}.map-container[data-v-57b8c1c3]{width:100%;flex:1;overflow:scroll;position:relative}.amap-markers[data-v-57b8c1c3]{overflow:visible!important}',""]),t.exports=e}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMveGlhbi1lc3RhdGUvYXJlYS1tYXAudnVlP2JkM2EiLCJ3ZWJwYWNrOi8vLy4vc3JjL3hpYW4tZXN0YXRlL2FyZWEtbWFwLnZ1ZT9iYmE0Iiwid2VicGFjazovLy9zcmMveGlhbi1lc3RhdGUvYXJlYS1tYXAudnVlIiwid2VicGFjazovLy8uL3NyYy94aWFuLWVzdGF0ZS9hcmVhLW1hcC52dWU/ZjUxZCIsIndlYnBhY2s6Ly8vLi9zcmMveGlhbi1lc3RhdGUvYXJlYS1tYXAudnVlIiwid2VicGFjazovLy8uL3NyYy94aWFuLWVzdGF0ZS9hcmVhLW1hcC52dWU/MWQxOSIsIndlYnBhY2s6Ly8vLi9zcmMveGlhbi1lc3RhdGUvYXJlYS1tYXAudnVlPzVkNDUiXSwibmFtZXMiOlsiZ3hfbG9jYXRpb24iLCJkaXNwbGF5U3RyaWN0Q29kZSIsImRhdGEiLCJnYXJkZW5zIiwiZHJpdmVSb3V0ZXMiLCJtYXBPYmoiLCJwYXRoT2JqIiwiY29tcHV0ZWQiLCJ0aGlzIiwiX2luaXRNYXBTY3JpcHQiLCJfaW5pdE1hcFVpIiwiX2luaXRHYXJkZW5zIiwiX2luaXREcml2ZVJvdXRlIiwic2V0VGltZW91dCIsImFzeW5jIiwibWV0aG9kcyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwid2luZG93Iiwib25Mb2FkIiwiX2luaXRNYXBDb250YWluZXIiLCJtYXBTY3JpcHRFbCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNoYXJzZXQiLCJzcmMiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJneF9sb2NhdGlvbl9udW0iLCJfaW5pdExvY2F0aW9uIiwiZGVzX2xvY2F0aW9uX251bSIsImdldEN1ckFyZWEiLCJsb2NhdGlvbiIsIkFNYXAiLCJNYXAiLCJ6b29tIiwiY2VudGVyIiwibWFwU3R5bGUiLCJ1aVNjcmlwdEVsIiwidGhhdCIsIm9ubG9hZCIsIkFNYXBVSSIsImxvYWRVSSIsIlNpbXBsZU1hcmtlciIsImljb25UaGVtZSIsImljb25TdHlsZSIsIm1hcCIsInBvc2l0aW9uIiwibGFiZWwiLCJjb250ZW50Iiwib2Zmc2V0IiwiUGl4ZWwiLCJyZXF1ZXN0IiwibG9hZCIsIlBhdGhTaW1wbGlmaWVyIiwiekluZGV4IiwiZ2V0UGF0aCIsInBhdGhEYXRhIiwicGF0aEluZGV4IiwicGF0aCIsInJlbmRlck9wdGlvbnMiLCJyZW5kZXJBbGxQb2ludHNJZk51bWJlckJlbG93Iiwic2V0RGF0YSIsImNyZWF0ZVBhdGhOYXZpZ2F0b3IiLCJsb29wIiwic3BlZWQiLCJzdGFydCIsImRpc3RyaWN0RXhwbG9yZXIiLCJEaXN0cmljdEV4cGxvcmVyIiwiY29sb3JzIiwiY29kZSIsImluZGV4IiwibG9hZEFyZWFOb2RlIiwicmVuZGVyU3ViRmVhdHVyZXMiLCJhcmVhTm9kZSIsImN1cnNvciIsImJ1YmJsZSIsInN0cm9rZUNvbG9yIiwic3Ryb2tlT3BhY2l0eSIsInN0cm9rZVdlaWdodCIsImZpbGxDb2xvciIsImZpbGxPcGFjaXR5IiwicmVuZGVyUGFyZW50RmVhdHVyZSIsImxvY2F0aW9uU3RyIiwic3BsaXQiLCJwb2x5bGluZSIsImxvY2F0aW9uSXRlbSIsIk51bWJlciIsImNvbXBvbmVudCIsIl92bSIsIl9oIiwiJGNyZWF0ZUVsZW1lbnQiLCJfYyIsIl9zZWxmIiwic3RhdGljQ2xhc3MiLCJsZW5ndGgiLCJfbCIsImdhcmRlbiIsImtleSIsIl92IiwiX3MiLCJuYW1lIiwiZGlzdGFuY2UiLCJfZSIsImF0dHJzIiwiYXBpIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJtb2R1bGUiLCJpIiwib3B0aW9ucyIsInVwZGF0ZSIsImV4cG9ydGVkIiwibG9jYWxzIiwiaG90IiwiYWNjZXB0IiwibmV3Q29udGVudCIsImRpc3Bvc2UiLCJleHBvcnRzIiwiX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIiwicHVzaCJdLCJtYXBwaW5ncyI6IjJGQUFBLG1CQUE0WixHLHdDQ0E1WixJLGVDZ0JBLE1BQ01BLEVBQWMsK0JBQ2RDLEVBQW9CLENBQzFCLE9BQ0EsT0FDQSxRQUtBLElDMUJ3TCxFRDBCeEwsQ0FDRUMsS0FBSSxLQUNLLENBQ0xDLFFBQVMsR0FDVEMsWUFBYSxHQUNiQyxPQUFRLEtBQ1JDLFFBQVMsT0FHYkMsU0FBVSxJQUNaLHNDQUVFLHNCQUNRQyxLQUFLQyx1QkFDTEQsS0FBS0UsbUJBSUxGLEtBQUtHLGVBR1hILEtBQUtJLGtCQUNMQyxXQUFXQyxZQUFnQixNQUU3QkMsUUFBUyxDQUNQLHVCQUNFLE9BQU8sSUFBSUMsUUFBUSxDQUFDQyxFQUFTQyxLQUMzQkMsT0FBT0MsT0FBU04sVUFDZE4sS0FBS2Esb0JBQ0VKLEtBRVQsSUFBSUssRUFBY0MsU0FBU0MsY0FBYyxVQUN6Q0YsRUFBWUcsUUFBVSxRQUN0QkgsRUFBWUksSUFBTSw2RkFDbEJILFNBQVNJLEtBQUtDLFlBQVlOLE1BRzlCLG9CQUNFLElBQUlPLEVBQWtCckIsS0FBS3NCLGNBQWM5QixHQUNyQytCLEVBQW1CdkIsS0FBS3NCLGNBQWN0QixLQUFLd0IsV0FBV0MsVUFDMUR6QixLQUFLSCxPQUFTLElBQUk2QixLQUFLQyxJQUFJLGdCQUFpQixDQUMxQ0MsS0FBTSxHQUNOQyxPQUFRLEVBQ2hCLDhCQUNBLDhCQUVRQyxTQUFVLHlCQUlkLG1CQUNFLE9BQU8sSUFBSXRCLFFBQVEsQ0FBQ0MsRUFBU0MsS0FFM0IsSUFBSXFCLEVBQWFoQixTQUFTQyxjQUFjLFVBQ3hDZSxFQUFXZCxRQUFVLFFBQ3JCYyxFQUFXYixJQUFNLGtEQUNqQkgsU0FBU0ksS0FBS0MsWUFBWVcsR0FDMUIsSUFBSUMsRUFBT2hDLEtBQ1grQixFQUFXRSxPQUFTLEtBRWxCQyxPQUFPQyxPQUFPLENBQUMseUJBQXlCLFNBQWxELEdBc0JZLE9BckJBLElBQUlDLEVBQWEsQ0FDZkMsVUFBVyxVQUNYQyxVQUFXLFNBQ1hDLElBQUtQLEVBQUtuQyxPQUNWMkMsU0FBVVIsRUFBS1YsY0FBYzlCLEdBQzdCaUQsTUFBTyxDQUNMQyxRQUFTLFFBQ1RDLE9BQVEsSUFBSWpCLEtBQUtrQixPQUFPLElBQUssT0FJakMsSUFBSVIsRUFBYSxDQUNmQyxVQUFXLFVBQ1hDLFVBQVcsU0FDWEMsSUFBS1AsRUFBS25DLE9BQ1YyQyxTQUFVUixFQUFLVixjQUFjVSxFQUFLUixXQUFXQyxVQUM3Q2dCLE1BQU8sQ0FDTEMsUUFBU1YsRUFBS1IsV0FBV2lCLE1BQ3pCRSxPQUFRLElBQUlqQixLQUFLa0IsT0FBTyxJQUFLLE9BRzFCbkMsV0FRZixlQUNFb0MsRUFBTixFQUNBLHFFQUNBLFNBQ1EsR0FBUixpQkFDVSxLQUFWLGVBQ0Esc0NBQ1ksSUFBWixPQUNZLE9BQVosMENBQ2MsRUFBZCxvQkFDZ0IsSUFBaEIsc0JBQ2tCLE9BQWxCLEdBQ2tCLFlBQWxCLEVBQ2tCLFlBQWxCLE9BQ2tCLFVBQWxCLFlBRUEsY0FDZ0IsSUFBaEIsS0FDa0IsSUFBbEIsU0FDa0IsU0FBbEIsNEJBQ2tCLG9CQUFsQixlQUNrQixVQUFsQixDQUNvQixVQUFwQixJQUNvQixNQUFwQixDQUNzQixNQUF0QixPQUNzQixTQUF0QixvQkFZSSxlQUNFLElBQUliLEVBQU9oQyxLQUNOa0MsUUFJTEEsT0FBT1ksS0FBSyxDQUFDLHlCQUEwQixVQUFVLFNBQ3ZELEVBQ0EsR0FFUSxJQUFJaEQsRUFBVSxJQUFJaUQsRUFBZSxDQUMvQkMsT0FBUSxJQUNSVCxJQUFLUCxFQUFLbkMsT0FFVm9ELFFBQVMsQ0FBQ0MsRUFBVUMsSUFDWEQsRUFBU0UsS0FFbEJDLGNBQWUsQ0FDYkMsNkJBQThCLE9BR2xDeEQsRUFBUXlELFFBQVEsQ0FDeEIsQ0FDVSxLQUFWLE1BQ1UsS0FBVixzQkFHb0J6RCxFQUFRMEQsb0JBQW9CLEVBQUcsQ0FDekNDLE1BQU0sRUFDTkMsTUFBTyxNQUVIQyxZQUlWLGdCQUNFLElBQUkzQixFQUFPaEMsS0FDWGtDLE9BQU9ZLEtBQUssQ0FBQywwQkFBMkIsVUFBVSxTQUN4RCxHQUVRLElBQUljLEVBQW1CLElBQUlDLEVBQWlCLENBQzFDdEIsSUFBS1AsRUFBS25DLFNBRVosSUFBSWlFLEVBQVMsQ0FDckIsVUFDQSxVQUNBLFVBQ0EsVUFDQSxVQUNBLFVBQ0EsTUFDQSxTQUVRckUsRUFBa0I4QyxJQUFJLENBQUN3QixFQUFNQyxLQUMzQkosRUFBaUJLLGFBQWFGLEdBQU0sU0FBOUMsS0FDWUgsRUFBaUJNLGtCQUFrQkMsR0FBVSxTQUF6RCxLQUNjLE1BQU8sQ0FDTEMsT0FBUSxVQUNSQyxRQUFRLEVBQ1JDLFlBQWEsT0FDYkMsY0FBZSxFQUNmQyxhQUFjLEVBQ2RDLFVBQVcsTUFDWEMsWUFBYSxRQUdqQmQsRUFBaUJlLG9CQUFvQlIsRUFBVSxDQUM3Q0MsT0FBUSxVQUNSQyxRQUFRLEVBQ1JDLFlBQWEsS0FDYkMsY0FBZSxFQUNmQyxhQUFjLEVBQ2RDLFVBQVdYLEVBQU9FLEdBQ2xCVSxZQUFhLGVBUXZCLGtCQUNFN0IsRUFBTixFQUNBLElBQ0Esa0ZBRUEsU0FDQSxnQkFDQSxzQ0FDWSxFQUFaLHVCQUNjLEdBQWQsWUFDQSxpQ0FDZ0IsS0FBaEIseURBR1ksS0FBWixtQkFPSXZCLGNBQWNzRCxHQUNMQSxFQUFZQyxNQUFNLEtBRTNCLGdCQUFnQkMsR0FNZCxPQUxrQkEsRUFBU0QsTUFBTSxLQUNIdEMsSUFBSSxJQUNoQyxJQUFJd0MsRUFBZS9FLEtBQUtzQixjQUFjRyxHQUN0QyxNQUFPLENBQUN1RCxPQUFPRCxFQUFhLElBQUtDLE9BQU9ELEVBQWEsVSxnQkU5UHpERSxFQUFZLFlBQ2QsR0hUVyxXQUFhLElBQUlDLEVBQUlsRixLQUFTbUYsRUFBR0QsRUFBSUUsZUFBbUJDLEVBQUdILEVBQUlJLE1BQU1ELElBQUlGLEVBQUcsT0FBT0UsRUFBRyxNQUFNLENBQUNFLFlBQVksZUFBZSxDQUFFTCxFQUFJdkYsU0FBV3VGLEVBQUl2RixRQUFRNkYsT0FBUyxFQUFHSCxFQUFHLFVBQVUsQ0FBQ0UsWUFBWSxVQUFVTCxFQUFJTyxHQUFJUCxFQUFXLFNBQUUsU0FBU1EsRUFBT0MsR0FBSyxPQUFPTixFQUFHLFVBQVUsQ0FBQ00sSUFBSUEsRUFBSUosWUFBWSxlQUFlLENBQUNGLEVBQUcsVUFBVSxDQUFDRSxZQUFZLG9CQUFvQixDQUFDTCxFQUFJVSxHQUFHVixFQUFJVyxHQUFHRixFQUFNLE1BQU1ULEVBQUlVLEdBQUcsS0FBS1AsRUFBRyxVQUFVLENBQUNFLFlBQVkscUJBQXFCLENBQUNMLEVBQUlVLEdBQUcsYUFBYVYsRUFBSVcsR0FBR0gsRUFBT0ksTUFBTSxNQUFNWixFQUFJVyxHQUFHSCxFQUFPSyxVQUFVLG9CQUFtQixHQUFHYixFQUFJYyxLQUFLZCxFQUFJVSxHQUFHLEtBQUtQLEVBQUcsVUFBVSxDQUFDRSxZQUFZLGdCQUFnQlUsTUFBTSxDQUFDLEdBQUssdUJBQzNrQixJR1dwQixFQUNBLEtBQ0EsV0FDQSxNQUlhLFVBQUFoQixFLDRCQ25CZixJQUFJaUIsRUFBTSxFQUFRLEdBQ0Z4RCxFQUFVLEVBQVEsSUFJQyxpQkFGdkJBLEVBQVVBLEVBQVF5RCxXQUFhekQsRUFBUTBELFFBQVUxRCxLQUcvQ0EsRUFBVSxDQUFDLENBQUMyRCxFQUFPQyxFQUFJNUQsRUFBUyxNQUc5QyxJQUFJNkQsRUFBVSxDQUVkLE9BQWlCLE9BQ2pCLFdBQW9CLEdBRWhCQyxFQUFTTixFQUFJeEQsRUFBUzZELEdBRXRCRSxFQUFXL0QsRUFBUWdFLE9BQVNoRSxFQUFRZ0UsT0FBUyxHQUkxQ2hFLEVBQVFnRSxRQUNYTCxFQUFPTSxJQUFJQyxPQUNULElBQ0EsV0FDRSxJQUFJQyxFQUFhLEVBQVEsSUFJTyxpQkFGMUJBLEVBQWFBLEVBQVdWLFdBQWFVLEVBQVdULFFBQVVTLEtBR3hEQSxFQUFhLENBQUMsQ0FBQ1IsRUFBT0MsRUFBSU8sRUFBWSxNQUd4Q0wsRUFBT0ssTUFLbkJSLEVBQU9NLElBQUlHLFNBQVEsV0FDakJOLE9BSUpILEVBQU9VLFFBQVVOLEcsb0JDeENqQk0sRUFEa0MsRUFBUSxFQUNoQ0MsRUFBNEIsSUFFOUJDLEtBQUssQ0FBQ1osRUFBT0MsRUFBSSxrN0JBQTI3QixLQUVwOUJELEVBQU9VLFFBQVVBIiwiZmlsZSI6ImF3YXJkX2Rpc3QvMjcuMTMzYjdlNzA2YzAyNDkyYjVjZjcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kIGZyb20gXCItIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vYXJlYS1tYXAudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9NTdiOGMxYzMmbGFuZz1zY3NzJnNjb3BlZD10cnVlJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vYXJlYS1tYXAudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9NTdiOGMxYzMmbGFuZz1zY3NzJnNjb3BlZD10cnVlJlwiIiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uICgpIHt2YXIgX3ZtPXRoaXM7dmFyIF9oPV92bS4kY3JlYXRlRWxlbWVudDt2YXIgX2M9X3ZtLl9zZWxmLl9jfHxfaDtyZXR1cm4gX2MoJ2Rpdicse3N0YXRpY0NsYXNzOlwibWFwLXdyYXBwZXJcIn0sWyhfdm0uZ2FyZGVucyAmJiBfdm0uZ2FyZGVucy5sZW5ndGggPiAwKT9fYygnc2VjdGlvbicse3N0YXRpY0NsYXNzOlwiZ2FyZGVuXCJ9LF92bS5fbCgoX3ZtLmdhcmRlbnMpLGZ1bmN0aW9uKGdhcmRlbixrZXkpe3JldHVybiBfYygnc2VjdGlvbicse2tleTprZXksc3RhdGljQ2xhc3M6XCJnYXJkZW4taXRlbVwifSxbX2MoJ3NlY3Rpb24nLHtzdGF0aWNDbGFzczpcImdhcmRlbi1pdGVtLWljb25cIn0sW192bS5fdihfdm0uX3Moa2V5ICsgMSkpXSksX3ZtLl92KFwiIFwiKSxfYygnc2VjdGlvbicse3N0YXRpY0NsYXNzOlwiZ2FyZGVuLWl0ZW0tbGFiZWxcIn0sW192bS5fdihcIlxcbiAgICAgICAgXCIrX3ZtLl9zKGdhcmRlbi5uYW1lKStcIizot53nprtcIitfdm0uX3MoZ2FyZGVuLmRpc3RhbmNlKStcIuexs1xcbiAgICAgIFwiKV0pXSl9KSwwKTpfdm0uX2UoKSxfdm0uX3YoXCIgXCIpLF9jKCdzZWN0aW9uJyx7c3RhdGljQ2xhc3M6XCJtYXAtY29udGFpbmVyXCIsYXR0cnM6e1wiaWRcIjpcIm1hcC1jb250YWluZXJcIn19KV0pfVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5cbmV4cG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0iLCI8dGVtcGxhdGU+XG4gIDxkaXYgY2xhc3M9XCJtYXAtd3JhcHBlclwiPlxuICAgIDxzZWN0aW9uIGNsYXNzPVwiZ2FyZGVuXCIgdi1pZj1cImdhcmRlbnMgJiYgZ2FyZGVucy5sZW5ndGggPiAwXCI+XG4gICAgICA8c2VjdGlvbiB2LWZvcj1cIihnYXJkZW4sIGtleSkgaW4gZ2FyZGVuc1wiIDprZXk9XCJrZXlcIiBjbGFzcz1cImdhcmRlbi1pdGVtXCI+XG4gICAgICAgIDxzZWN0aW9uIGNsYXNzPVwiZ2FyZGVuLWl0ZW0taWNvblwiPnt7IGtleSArIDEgfX08L3NlY3Rpb24+XG4gICAgICAgIDxzZWN0aW9uIGNsYXNzPVwiZ2FyZGVuLWl0ZW0tbGFiZWxcIj5cbiAgICAgICAgICB7eyBnYXJkZW4ubmFtZSB9fSzot53nprt7eyBnYXJkZW4uZGlzdGFuY2UgfX3nsbNcbiAgICAgICAgPC9zZWN0aW9uPlxuICAgICAgPC9zZWN0aW9uPlxuICAgIDwvc2VjdGlvbj5cbiAgICA8c2VjdGlvbiBjbGFzcz1cIm1hcC1jb250YWluZXJcIiBpZD1cIm1hcC1jb250YWluZXJcIj48L3NlY3Rpb24+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cbjxzY3JpcHQ+XG5pbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSBcInZ1ZXhcIjtcbmltcG9ydCByZXF1ZXN0IGZyb20gXCJyZXF1ZXN0XCI7XG5jb25zdCBHREtFWSA9IFwiMTc1NjllZmJkNTRhMjg0YjhiZDBjZTMzOGFlNzE2MTZcIjtcbmNvbnN0IGd4X2xvY2F0aW9uID0gXCIxMDguODM3MTkxMjkwMCwzNC4yMDMyMzUzNzAwXCI7IC8v6auY5paw6L2v5Lu25Zut57uP57qs5bqmXG5jb25zdCBkaXNwbGF5U3RyaWN0Q29kZSA9IFtcbiAgNjEwMTAzLFxuICA2MTAxMDQsXG4gIDYxMDExMyxcbiAgLy8gICA2MTAxMTYsXG4gIC8vIDYxMDEyNFxuXTsgLy/nopHmnpfljLrvvIzojrLmuZbljLrvvIzpm4HloZTljLrvvIzplb/lronljLrvvIzlkajoh7Pljr9cblxuZXhwb3J0IGRlZmF1bHQge1xuICBkYXRhKCkge1xuICAgIHJldHVybiB7XG4gICAgICBnYXJkZW5zOiBbXSxcbiAgICAgIGRyaXZlUm91dGVzOiBbXSxcbiAgICAgIG1hcE9iajogbnVsbCxcbiAgICAgIHBhdGhPYmo6IG51bGwsXG4gICAgfTtcbiAgfSxcbiAgY29tcHV0ZWQ6IHtcbiAgICAuLi5tYXBHZXR0ZXJzKFwiZXN0YXRlXCIsIFtcImdldEN1ckFyZWFcIl0pLFxuICB9LFxuICBhc3luYyBtb3VudGVkKCkge1xuICAgIGF3YWl0IHRoaXMuX2luaXRNYXBTY3JpcHQoKTtcbiAgICBhd2FpdCB0aGlzLl9pbml0TWFwVWkoKTtcblxuICAgIC8vIHRoaXMuX2luaXREaXN0cmljdCgpO1xuXG4gICAgYXdhaXQgdGhpcy5faW5pdEdhcmRlbnMoKTtcbiAgICAvLyB0aGlzLl9pbml0UGF0aExucygpO1xuXG4gICAgdGhpcy5faW5pdERyaXZlUm91dGUoKTtcbiAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHt9LCAxMDAwKTtcbiAgfSxcbiAgbWV0aG9kczoge1xuICAgIGFzeW5jIF9pbml0TWFwU2NyaXB0KCkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgd2luZG93Lm9uTG9hZCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICB0aGlzLl9pbml0TWFwQ29udGFpbmVyKCk7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IG1hcFNjcmlwdEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtcbiAgICAgICAgbWFwU2NyaXB0RWwuY2hhcnNldCA9IFwidXRmLThcIjtcbiAgICAgICAgbWFwU2NyaXB0RWwuc3JjID0gYGh0dHBzOi8vd2ViYXBpLmFtYXAuY29tL21hcHM/dj0xLjQuMTUma2V5PSR7R0RLRVl9JmNhbGxiYWNrPW9uTG9hZGA7XG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobWFwU2NyaXB0RWwpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBfaW5pdE1hcENvbnRhaW5lcigpIHtcbiAgICAgIGxldCBneF9sb2NhdGlvbl9udW0gPSB0aGlzLl9pbml0TG9jYXRpb24oZ3hfbG9jYXRpb24pO1xuICAgICAgbGV0IGRlc19sb2NhdGlvbl9udW0gPSB0aGlzLl9pbml0TG9jYXRpb24odGhpcy5nZXRDdXJBcmVhLmxvY2F0aW9uKTtcbiAgICAgIHRoaXMubWFwT2JqID0gbmV3IEFNYXAuTWFwKFwibWFwLWNvbnRhaW5lclwiLCB7XG4gICAgICAgIHpvb206IDExLFxuICAgICAgICBjZW50ZXI6IFtcbiAgICAgICAgICAoTnVtYmVyKGd4X2xvY2F0aW9uX251bVswXSkgKyBOdW1iZXIoZGVzX2xvY2F0aW9uX251bVswXSkpIC8gMixcbiAgICAgICAgICAoTnVtYmVyKGd4X2xvY2F0aW9uX251bVsxXSkgKyBOdW1iZXIoZGVzX2xvY2F0aW9uX251bVsxXSkpIC8gMixcbiAgICAgICAgXSxcbiAgICAgICAgbWFwU3R5bGU6IFwiYW1hcDovL3N0eWxlcy9saWdodFwiLCAvL+iuvue9ruWcsOWbvueahOaYvuekuuagt+W8j1xuICAgICAgfSk7XG4gICAgfSxcblxuICAgIGFzeW5jIF9pbml0TWFwVWkoKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAvLyBnZCBzY3JpcHQgdWnlvJXlhaVcbiAgICAgICAgbGV0IHVpU2NyaXB0RWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO1xuICAgICAgICB1aVNjcmlwdEVsLmNoYXJzZXQgPSBcInV0Zi04XCI7XG4gICAgICAgIHVpU2NyaXB0RWwuc3JjID0gXCJodHRwczovL3dlYmFwaS5hbWFwLmNvbS91aS8xLjAvbWFpbi5qcz92PTEuMC4xMVwiO1xuICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHVpU2NyaXB0RWwpO1xuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XG4gICAgICAgIHVpU2NyaXB0RWwub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgIC8vIOi1t+eCueWSjOe7iOeCueagh+azqFxuICAgICAgICAgIEFNYXBVSS5sb2FkVUkoW1wib3ZlcmxheS9TaW1wbGVNYXJrZXJcIl0sIGZ1bmN0aW9uKFNpbXBsZU1hcmtlcikge1xuICAgICAgICAgICAgbmV3IFNpbXBsZU1hcmtlcih7XG4gICAgICAgICAgICAgIGljb25UaGVtZTogXCJkZWZhdWx0XCIsXG4gICAgICAgICAgICAgIGljb25TdHlsZTogXCJvcmFuZ2VcIixcbiAgICAgICAgICAgICAgbWFwOiB0aGF0Lm1hcE9iaixcbiAgICAgICAgICAgICAgcG9zaXRpb246IHRoYXQuX2luaXRMb2NhdGlvbihneF9sb2NhdGlvbiksXG4gICAgICAgICAgICAgIGxhYmVsOiB7XG4gICAgICAgICAgICAgICAgY29udGVudDogXCLpq5jmlrDova/ku7blm61cIixcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IG5ldyBBTWFwLlBpeGVsKC0xMCwgLTIwKSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBuZXcgU2ltcGxlTWFya2VyKHtcbiAgICAgICAgICAgICAgaWNvblRoZW1lOiBcImRlZmF1bHRcIixcbiAgICAgICAgICAgICAgaWNvblN0eWxlOiBcIm9yYW5nZVwiLFxuICAgICAgICAgICAgICBtYXA6IHRoYXQubWFwT2JqLFxuICAgICAgICAgICAgICBwb3NpdGlvbjogdGhhdC5faW5pdExvY2F0aW9uKHRoYXQuZ2V0Q3VyQXJlYS5sb2NhdGlvbiksXG4gICAgICAgICAgICAgIGxhYmVsOiB7XG4gICAgICAgICAgICAgICAgY29udGVudDogdGhhdC5nZXRDdXJBcmVhLmxhYmVsLFxuICAgICAgICAgICAgICAgIG9mZnNldDogbmV3IEFNYXAuUGl4ZWwoLTEwLCAtMjApLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8vIOi3r+W+hOagh+azqFxuICAgICAgICAgIC8vICAgdGhpcy5faW5pdFBhdGhMbnMoKTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgLy8g5bGV56S65ZGo6L655YWs5ZutXG4gICAgX2luaXRHYXJkZW5zKCkge1xuICAgICAgcmVxdWVzdFxuICAgICAgICAuZ2V0KGAveGlhbi9hcm91bmRHYXJkZW4/b3JpZ2luTG9jYXRpb249JHt0aGlzLmdldEN1ckFyZWEubG9jYXRpb259YClcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHtcbiAgICAgICAgICAgIHRoaXMuZ2FyZGVucyA9IHJlcy5kYXRhO1xuICAgICAgICAgICAgaWYgKHRoaXMuZ2FyZGVucyAmJiB0aGlzLmdhcmRlbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICAgIEFNYXBVSS5sb2FkVUkoW1wib3ZlcmxheS9TdmdNYXJrZXJcIl0sIGZ1bmN0aW9uKFN2Z01hcmtlcikge1xuICAgICAgICAgICAgICAgIHRoYXQuZ2FyZGVucy5tYXAoKGdhcmRlbiwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgIHZhciBzaGFwZSA9IG5ldyBTdmdNYXJrZXIuU2hhcGVbXCJDaXJjbGVcIl0oe1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDE2LFxuICAgICAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogMSxcbiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6IFwiI2ZmZlwiLFxuICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6IFwiIzE3NzI2MVwiLFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBsZXQgbGFiZWxDZW50ZXIgPSBzaGFwZS5nZXRDZW50ZXIoKTtcbiAgICAgICAgICAgICAgICAgIG5ldyBTdmdNYXJrZXIoc2hhcGUsIHtcbiAgICAgICAgICAgICAgICAgICAgbWFwOiB0aGF0Lm1hcE9iaixcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHRoYXQuX2luaXRMb2NhdGlvbihnYXJkZW4ubG9jYXRpb24pLFxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJDbGFzc05hbWVzOiBcInNoYXBlLUNpcmNsZVwiLFxuICAgICAgICAgICAgICAgICAgICBpY29uTGFiZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICBpbm5lckhUTUw6IGluZGV4ICsgMSxcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IFwiI2ZmZlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IFwiMTJweFwiLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIC8vIHNob3dQb3NpdGlvblBvaW50OiB0cnVlLC8v5piv5ZCm5pi+56S6bWFya2Vy5LiK55qE57qi54K5XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIC8vIOW8gOi9pui3r+e6v+Wbvuagt+W8j1xuICAgIF9pbml0UGF0aExucygpIHtcbiAgICAgIGxldCB0aGF0ID0gdGhpcztcbiAgICAgIGlmICghQU1hcFVJKSB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiQU1hcFVJIGZhbHNlXCIsIDE3NSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIEFNYXBVSS5sb2FkKFtcInVpL21pc2MvUGF0aFNpbXBsaWZpZXJcIiwgXCJsaWIvJFwiXSwgZnVuY3Rpb24oXG4gICAgICAgIFBhdGhTaW1wbGlmaWVyLFxuICAgICAgICAkXG4gICAgICApIHtcbiAgICAgICAgbGV0IHBhdGhPYmogPSBuZXcgUGF0aFNpbXBsaWZpZXIoe1xuICAgICAgICAgIHpJbmRleDogMTAwLFxuICAgICAgICAgIG1hcDogdGhhdC5tYXBPYmosXG5cbiAgICAgICAgICBnZXRQYXRoOiAocGF0aERhdGEsIHBhdGhJbmRleCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHBhdGhEYXRhLnBhdGg7XG4gICAgICAgICAgfSxcbiAgICAgICAgICByZW5kZXJPcHRpb25zOiB7XG4gICAgICAgICAgICByZW5kZXJBbGxQb2ludHNJZk51bWJlckJlbG93OiAxMDAsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHBhdGhPYmouc2V0RGF0YShbXG4gICAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogXCLot6/nur8wXCIsXG4gICAgICAgICAgICBwYXRoOiBbLi4udGhhdC5kcml2ZVJvdXRlc10sXG4gICAgICAgICAgfSxcbiAgICAgICAgXSk7XG4gICAgICAgIGxldCBuYXZnMSA9IHBhdGhPYmouY3JlYXRlUGF0aE5hdmlnYXRvcigwLCB7XG4gICAgICAgICAgbG9vcDogdHJ1ZSwgLy/lvqrnjq/mkq3mlL5cbiAgICAgICAgICBzcGVlZDogNTAwMCwgLy/lt6HoiKrpgJ/luqbvvIzljZXkvY3ljYPnsbMv5bCP5pe2XG4gICAgICAgIH0pO1xuICAgICAgICBuYXZnMS5zdGFydCgpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICAvLyDlsZXnpLrljLrln59cbiAgICBfaW5pdERpc3RyaWN0KCkge1xuICAgICAgbGV0IHRoYXQgPSB0aGlzO1xuICAgICAgQU1hcFVJLmxvYWQoW1widWkvZ2VvL0Rpc3RyaWN0RXhwbG9yZXJcIiwgXCJsaWIvJFwiXSwgZnVuY3Rpb24oXG4gICAgICAgIERpc3RyaWN0RXhwbG9yZXJcbiAgICAgICkge1xuICAgICAgICBsZXQgZGlzdHJpY3RFeHBsb3JlciA9IG5ldyBEaXN0cmljdEV4cGxvcmVyKHtcbiAgICAgICAgICBtYXA6IHRoYXQubWFwT2JqLCAvL+WFs+iBlOeahOWcsOWbvuWunuS+i1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGNvbG9ycyA9IFtcbiAgICAgICAgICBcIiMzMzY2Y2NcIixcbiAgICAgICAgICBcIiNkYzM5MTJcIixcbiAgICAgICAgICBcIiNmZjk5MDBcIixcbiAgICAgICAgICBcIiNhYTk5MDBcIixcbiAgICAgICAgICBcIiNmZjE5MDFcIixcbiAgICAgICAgICBcIiNhYTAxMDFcIixcbiAgICAgICAgICBcInJlZFwiLFxuICAgICAgICAgIFwiZ3JlZW5cIixcbiAgICAgICAgXTtcbiAgICAgICAgZGlzcGxheVN0cmljdENvZGUubWFwKChjb2RlLCBpbmRleCkgPT4ge1xuICAgICAgICAgIGRpc3RyaWN0RXhwbG9yZXIubG9hZEFyZWFOb2RlKGNvZGUsIGZ1bmN0aW9uKGVycm9yLCBhcmVhTm9kZSkge1xuICAgICAgICAgICAgZGlzdHJpY3RFeHBsb3Jlci5yZW5kZXJTdWJGZWF0dXJlcyhhcmVhTm9kZSwgZnVuY3Rpb24oZmVhdHVyZSwgaSkge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGN1cnNvcjogXCJkZWZhdWx0XCIsXG4gICAgICAgICAgICAgICAgYnViYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIHN0cm9rZUNvbG9yOiBcImJsdWVcIiwgLy/nur/popzoibJcbiAgICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAxLCAvL+e6v+mAj+aYjuW6plxuICAgICAgICAgICAgICAgIHN0cm9rZVdlaWdodDogMSwgLy/nur/lrr1cbiAgICAgICAgICAgICAgICBmaWxsQ29sb3I6IFwicmVkXCIsIC8v5aGr5YWF6ImyXG4gICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuMzUsIC8v5aGr5YWF6YCP5piO5bqmXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRpc3RyaWN0RXhwbG9yZXIucmVuZGVyUGFyZW50RmVhdHVyZShhcmVhTm9kZSwge1xuICAgICAgICAgICAgICBjdXJzb3I6IFwiZGVmYXVsdFwiLFxuICAgICAgICAgICAgICBidWJibGU6IHRydWUsXG4gICAgICAgICAgICAgIHN0cm9rZUNvbG9yOiBudWxsLCAvL+e6v+minOiJslxuICAgICAgICAgICAgICBzdHJva2VPcGFjaXR5OiAxLCAvL+e6v+mAj+aYjuW6plxuICAgICAgICAgICAgICBzdHJva2VXZWlnaHQ6IDEsIC8v57q/5a69XG4gICAgICAgICAgICAgIGZpbGxDb2xvcjogY29sb3JzW2luZGV4XSwgLy/loavlhYXoibJcbiAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuMzUsIC8v5aGr5YWF6YCP5piO5bqmXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgLy8g5Yid5aeL5YyW6am+6L2m6Lev57q/5pWw5o2uXG4gICAgX2luaXREcml2ZVJvdXRlKCkge1xuICAgICAgcmVxdWVzdFxuICAgICAgICAuZ2V0KFxuICAgICAgICAgIGAveGlhbi9kcml2aW5nUm91dGU/b3JpZ2luTG9jYXRpb249JHt0aGlzLmdldEN1ckFyZWEubG9jYXRpb259JmRlc3RpbmF0aW9uPSR7Z3hfbG9jYXRpb259YFxuICAgICAgICApXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICBpZiAocmVzLmRhdGEuc3RlcHMgJiYgcmVzLmRhdGEuc3RlcHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICByZXMuZGF0YS5zdGVwcy5mb3JFYWNoKChzdGVwKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHN0ZXAucG9seWxpbmUpIHtcbiAgICAgICAgICAgICAgICAgIGxldCBhcnJMb2NhdGlvbiA9IHRoaXMuX2Zvcm1hdFBvbHlsaW5lKHN0ZXAucG9seWxpbmUpO1xuICAgICAgICAgICAgICAgICAgdGhpcy5kcml2ZVJvdXRlcy5wdXNoKC4uLnRoaXMuX2Zvcm1hdFBvbHlsaW5lKHN0ZXAucG9seWxpbmUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB0aGlzLl9pbml0UGF0aExucygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIC8vIOi+heWKqeWHveaVsFxuICAgIF9pbml0TG9jYXRpb24obG9jYXRpb25TdHIpIHtcbiAgICAgIHJldHVybiBsb2NhdGlvblN0ci5zcGxpdChcIixcIik7XG4gICAgfSxcbiAgICBfZm9ybWF0UG9seWxpbmUocG9seWxpbmUpIHtcbiAgICAgIGxldCBsb2NhdGlvblN0ciA9IHBvbHlsaW5lLnNwbGl0KFwiO1wiKTtcbiAgICAgIGxldCBsb2NhdGlvbkFyciA9IGxvY2F0aW9uU3RyLm1hcCgobG9jYXRpb24pID0+IHtcbiAgICAgICAgbGV0IGxvY2F0aW9uSXRlbSA9IHRoaXMuX2luaXRMb2NhdGlvbihsb2NhdGlvbik7XG4gICAgICAgIHJldHVybiBbTnVtYmVyKGxvY2F0aW9uSXRlbVswXSksIE51bWJlcihsb2NhdGlvbkl0ZW1bMV0pXTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGxvY2F0aW9uQXJyO1xuICAgIH0sXG4gIH0sXG59O1xuPC9zY3JpcHQ+XG48c3R5bGUgbGFuZz1cInNjc3NcIiBzY29wZWQ+XG4ubWFwLWNvbiB7XG4gIHBhZGRpbmc6IDBweCA1cHggNXB4O1xuICBmbGV4OiAxO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xufVxuLmdhcmRlbiB7XG4gIGZsZXgtc2hyaW5rOiAxO1xuICBmb250LXNpemU6IDE0cHg7XG4gIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuOCk7XG4gIHBhZGRpbmctYm90dG9tOiAxMHB4O1xuICBtYXgtaGVpZ2h0OiAxNjBweDtcbiAgb3ZlcmZsb3c6IHNjcm9sbDtcbiAgJi1pdGVtIHtcbiAgICBsaW5lLWhlaWdodDogMjZweDtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICB9XG4gICYtaXRlbS1pY29uIHtcbiAgICB3aWR0aDogMjBweDtcbiAgICBiYWNrZ3JvdW5kOiAjMTc3MjYxO1xuICAgIGNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDEpO1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgaGVpZ2h0OiAyMHB4O1xuICAgIGxpbmUtaGVpZ2h0OiAyMHB4O1xuICAgIG1hcmdpbjogM3B4IDEwcHg7XG4gIH1cbiAgJi1pdGVtLWxhYmVsIHtcbiAgfVxufVxuLm1hcC1jb250YWluZXIge1xuICB3aWR0aDogMTAwJTtcbiAgZmxleDogMTtcbiAgb3ZlcmZsb3c6IHNjcm9sbDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuLmFtYXAtbWFya2VycyB7XG4gIC8qIGJvcmRlcjogMXB4IGJsYWNrIHNvbGlkICFpbXBvcnRhbnQ7ICovXG4gIG92ZXJmbG93OiB2aXNpYmxlICFpbXBvcnRhbnQ7XG59XG48L3N0eWxlPlxuIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2FyZWEtbWFwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2FyZWEtbWFwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsImltcG9ydCB7IHJlbmRlciwgc3RhdGljUmVuZGVyRm5zIH0gZnJvbSBcIi4vYXJlYS1tYXAudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTU3YjhjMWMzJnNjb3BlZD10cnVlJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL2FyZWEtbWFwLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vYXJlYS1tYXAudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiXG5pbXBvcnQgc3R5bGUwIGZyb20gXCIuL2FyZWEtbWFwLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTU3YjhjMWMzJmxhbmc9c2NzcyZzY29wZWQ9dHJ1ZSZcIlxuXG5cbi8qIG5vcm1hbGl6ZSBjb21wb25lbnQgKi9cbmltcG9ydCBub3JtYWxpemVyIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIFwiNTdiOGMxYzNcIixcbiAgbnVsbFxuICBcbilcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2FyZWEtbWFwLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTU3YjhjMWMzJmxhbmc9c2NzcyZzY29wZWQ9dHJ1ZSZcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cbnZhciBleHBvcnRlZCA9IGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB7fTtcblxuXG5pZiAobW9kdWxlLmhvdCkge1xuICBpZiAoIWNvbnRlbnQubG9jYWxzKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXG4gICAgICBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvc3R5bGVQb3N0TG9hZGVyLmpzIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9pbmRleC5qcz8/dnVlLWxvYWRlci1vcHRpb25zIS4vYXJlYS1tYXAudnVlP3Z1ZSZ0eXBlPXN0eWxlJmluZGV4PTAmaWQ9NTdiOGMxYzMmbGFuZz1zY3NzJnNjb3BlZD10cnVlJlwiLFxuICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9sb2FkZXJzL3N0eWxlUG9zdExvYWRlci5qcyEuLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzIS4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL2FyZWEtbWFwLnZ1ZT92dWUmdHlwZT1zdHlsZSZpbmRleD0wJmlkPTU3YjhjMWMzJmxhbmc9c2NzcyZzY29wZWQ9dHJ1ZSZcIik7XG5cbiAgICAgICAgICAgICAgbmV3Q29udGVudCA9IG5ld0NvbnRlbnQuX19lc01vZHVsZSA/IG5ld0NvbnRlbnQuZGVmYXVsdCA6IG5ld0NvbnRlbnQ7XG5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHVwZGF0ZShuZXdDb250ZW50KTtcbiAgICAgIH1cbiAgICApXG4gIH1cblxuICBtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IFxuICAgIHVwZGF0ZSgpO1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRlZDsiLCIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLm1hcC1jb25bZGF0YS12LTU3YjhjMWMzXXtwYWRkaW5nOjAgMS4zMzN2dyAxLjMzM3Z3O2ZsZXg6MTtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2NvbnRlbnQ6XFxcInZpZXdwb3J0LXVuaXRzLWJ1Z2d5ZmlsbDsgcGFkZGluZzogMHB4IDEuMzMzdncgMS4zMzN2d1xcXCJ9LmdhcmRlbltkYXRhLXYtNTdiOGMxYzNde2ZsZXgtc2hyaW5rOjE7Zm9udC1zaXplOjMuNzMzdnc7Y29sb3I6cmdiYSgwLDAsMCwuOCk7cGFkZGluZy1ib3R0b206Mi42Njd2dzttYXgtaGVpZ2h0OjQyLjY2N3Z3O292ZXJmbG93OnNjcm9sbDtjb250ZW50OlxcXCJ2aWV3cG9ydC11bml0cy1idWdneWZpbGw7IGZvbnQtc2l6ZTogMy43MzN2dzsgcGFkZGluZy1ib3R0b206IDIuNjY3dnc7IG1heC1oZWlnaHQ6IDQyLjY2N3Z3XFxcIn0uZ2FyZGVuLWl0ZW1bZGF0YS12LTU3YjhjMWMzXXtsaW5lLWhlaWdodDo2LjkzM3Z3O2Rpc3BsYXk6ZmxleDtjb250ZW50OlxcXCJ2aWV3cG9ydC11bml0cy1idWdneWZpbGw7IGxpbmUtaGVpZ2h0OiA2LjkzM3Z3XFxcIn0uZ2FyZGVuLWl0ZW0taWNvbltkYXRhLXYtNTdiOGMxYzNde3dpZHRoOjUuMzMzdnc7YmFja2dyb3VuZDojMTc3MjYxO2NvbG9yOiNmZmY7Ym9yZGVyLXJhZGl1czo1MCU7dGV4dC1hbGlnbjpjZW50ZXI7aGVpZ2h0OjUuMzMzdnc7bGluZS1oZWlnaHQ6NS4zMzN2dzttYXJnaW46Ljh2dyAyLjY2N3Z3O2NvbnRlbnQ6XFxcInZpZXdwb3J0LXVuaXRzLWJ1Z2d5ZmlsbDsgd2lkdGg6IDUuMzMzdnc7IGhlaWdodDogNS4zMzN2dzsgbGluZS1oZWlnaHQ6IDUuMzMzdnc7IG1hcmdpbjogMC44dncgMi42Njd2d1xcXCJ9Lm1hcC1jb250YWluZXJbZGF0YS12LTU3YjhjMWMzXXt3aWR0aDoxMDAlO2ZsZXg6MTtvdmVyZmxvdzpzY3JvbGw7cG9zaXRpb246cmVsYXRpdmV9LmFtYXAtbWFya2Vyc1tkYXRhLXYtNTdiOGMxYzNde292ZXJmbG93OnZpc2libGUhaW1wb3J0YW50fVwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iXSwic291cmNlUm9vdCI6IiJ9